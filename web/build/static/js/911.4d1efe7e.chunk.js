"use strict";(self.webpackChunkweb_mrv=self.webpackChunkweb_mrv||[]).push([[911],{3625:function(n,t,e){e.d(t,{Qe:function(){return l},So:function(){return c},T1:function(){return o},cw:function(){return s},m1:function(){return a},yT:function(){return A}});var r=e(436),i=e(4467),u=e(3979),o=(0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)({},u.Q$.ENERGY,["1","1A","1A1","1A2","1A3","1A3a","1A3b","1A3c","1A3d","1A3e","1A4","1A5","1B","1B1","1B2","1B3","1C","1C1","1C2","1C3"]),u.Q$.INDUSTRY,["2","2A","2B","2C","2D","2E","2F","2G","2H"]),u.Q$.AGR_FOR_OTH_LAND,["3","3A","3A1","3A2","3B","3B1","3B2","3B3","3B4","3B5","3B6","3C","3D"]),u.Q$.WASTE,["4","4A","4B","4C","4D","4E"]),u.Q$.OTHER,["5","5A","5B"]),c=["1","1A","1A3","1B","1C","2","3","3A","3B","4","5"],A=function(n){for(var t=[],e=0,r=Object.values(o);e<r.length;e++){r[e].forEach(function(e){var r;c.includes(e)||t.push({key:"".concat(e,"_edit_init"),topicId:e,values:null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:new Array(51).fill(0)})})}return t},a=function(n){for(var t=[],e=0,r=Object.values(o);e<r.length;e++){r[e].forEach(function(e){var r;c.includes(e)||t.push({key:"".concat(e,"_edit_init"),topicId:e,values:null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:[0,2e3,0,0,0]})})}return t},s=function(n){var t,e="Projection"===n?new Array(51).fill(0):[0,2e3,0,0,0];return t={},(0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)(t,u.b_.ENERGY_INDUSTRIES,(0,r.A)(e)),u.b_.MANUFACTURING_CONSTRUCTION,(0,r.A)(e)),u.b_.CIVIL_AVIATION,(0,r.A)(e)),u.b_.ROAD_TRANSPORTATION,(0,r.A)(e)),u.b_.RAILWAYS,(0,r.A)(e)),u.b_.WATER_NAVIGATION,(0,r.A)(e)),u.b_.OTHER_TRANSPORTATION,(0,r.A)(e)),u.b_.OTHER_SECTORS,(0,r.A)(e)),u.b_.NON_SPECIFIED,(0,r.A)(e)),u.b_.SOLID_FUELS,(0,r.A)(e)),(0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)(t,u.b_.OIL_NATURAL_GAS,(0,r.A)(e)),u.b_.OTHER_EMISSIONS,(0,r.A)(e)),u.b_.TRANSPORT_CO2,(0,r.A)(e)),u.b_.INJECTION_STORAGE,(0,r.A)(e)),u.b_.OTHER_CO2,(0,r.A)(e)),u.b_.MINERAL_INDUSTRY,(0,r.A)(e)),u.b_.CHEMICAL_INDUSTRY,(0,r.A)(e)),u.b_.METAL_INDUSTRY,(0,r.A)(e)),u.b_.NON_ENERGY_PRODUCTS,(0,r.A)(e)),u.b_.ELECTRONICS_INDUSTRY,(0,r.A)(e)),(0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)(t,u.b_.SUBSTITUTES_OZONE,(0,r.A)(e)),u.b_.OTHER_MANUFACTURE,(0,r.A)(e)),u.b_.OTHER_INDUSTRIAL,(0,r.A)(e)),u.b_.ENTERIC_FERMENTATION,(0,r.A)(e)),u.b_.MANURE_MANAGEMENT,(0,r.A)(e)),u.b_.FOREST_LAND,(0,r.A)(e)),u.b_.CROPLAND,(0,r.A)(e)),u.b_.GRASSLAND,(0,r.A)(e)),u.b_.WETLANDS,(0,r.A)(e)),u.b_.SETTLEMENTS,(0,r.A)(e)),(0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)(t,u.b_.OTHER_LAND,(0,r.A)(e)),u.b_.AGG_SOURCE,(0,r.A)(e)),u.b_.OTHER_AGR,(0,r.A)(e)),u.b_.SOLID_WASTE,(0,r.A)(e)),u.b_.BIOLOGICAL_TREATMENT,(0,r.A)(e)),u.b_.INCINERATION_BURNING,(0,r.A)(e)),u.b_.WASTEWATER_TREATMENT,(0,r.A)(e)),u.b_.OTHER_WASTE,(0,r.A)(e)),u.b_.INDIRECT_N2O,(0,r.A)(e)),u.b_.OTHER,(0,r.A)(e))},l=(0,i.A)((0,i.A)((0,i.A)({},u.Q9.WITH_MEASURES,"Baseline with Measures"),u.Q9.WITH_ADDITIONAL_MEASURES,"Baseline with Additional Measures"),u.Q9.WITHOUT_MEASURES,"Baseline without Measures")},1425:function(n,t,e){e.d(t,{A2:function(){return i},Ag:function(){return c},D6:function(){return a},F_:function(){return r},NX:function(){return s},UL:function(){return u},ZK:function(){return l},ck:function(){return A},i3:function(){return o},pV:function(){return f}});var r=function(n){return n.CO2="co2",n.CH4="ch4",n.N2O="n2o",n.CO2EQ="co2eq",n}({}),i=function(n){return n.OneA="1A",n.OneB="1B",n.OneC="1C",n}({}),u=function(n){return n.TwoA="2A",n.TwoB="2B",n.TwoC="2C",n.TwoD="2D",n.TwoE="2E",n.TwoF="2F",n.TwoG="2G",n.TwoH="2H",n}({}),o=function(n){return n.ThreeA="3A",n.ThreeB="3B",n.ThreeC="3C",n.ThreeD="3D",n}({}),c=function(n){return n.FourA="4A",n.FourB="4B",n.FourC="4C",n.FourD="4D",n.FourE="4E",n}({}),A=function(n){return n.FiveA="5A",n.FiveB="5B",n}({}),a=function(n){return n.One="1",n.Two="2",n.Three="3",n.Four="4",n.Five="5",n}({}),s=function(n){return n.OneA1="1A1",n.OneA2="1A2",n.OneA3="1A3",n.OneA4="1A4",n.OneA5="1A5",n}({}),l=function(n){return n.OneB1="1B1",n.OneB2="1B2",n.OneB3="1B3",n}({}),f=function(n){return n.OneC1="1C1",n.OneC2="1C2",n.OneC3="1C3",n}({})},3979:function(n,t,e){e.d(t,{Q$:function(){return r},Q9:function(){return u},b_:function(){return i}});var r=function(n){return n.ENERGY="1",n.INDUSTRY="2",n.AGR_FOR_OTH_LAND="3",n.WASTE="4",n.OTHER="5",n}({}),i=function(n){return n.ENERGY_INDUSTRIES="1A1",n.MANUFACTURING_CONSTRUCTION="1A2",n.CIVIL_AVIATION="1A3a",n.ROAD_TRANSPORTATION="1A3b",n.RAILWAYS="1A3c",n.WATER_NAVIGATION="1A3d",n.OTHER_TRANSPORTATION="1A3e",n.OTHER_SECTORS="1A4",n.NON_SPECIFIED="1A5",n.SOLID_FUELS="1B1",n.OIL_NATURAL_GAS="1B2",n.OTHER_EMISSIONS="1B3",n.TRANSPORT_CO2="1C1",n.INJECTION_STORAGE="1C2",n.OTHER_CO2="1C3",n.MINERAL_INDUSTRY="2A",n.CHEMICAL_INDUSTRY="2B",n.METAL_INDUSTRY="2C",n.NON_ENERGY_PRODUCTS="2D",n.ELECTRONICS_INDUSTRY="2E",n.SUBSTITUTES_OZONE="2F",n.OTHER_MANUFACTURE="2G",n.OTHER_INDUSTRIAL="2H",n.ENTERIC_FERMENTATION="3A1",n.MANURE_MANAGEMENT="3A2",n.FOREST_LAND="3B1",n.CROPLAND="3B2",n.GRASSLAND="3B3",n.WETLANDS="3B4",n.SETTLEMENTS="3B5",n.OTHER_LAND="3B6",n.AGG_SOURCE="3C",n.OTHER_AGR="3D",n.SOLID_WASTE="4A",n.BIOLOGICAL_TREATMENT="4B",n.INCINERATION_BURNING="4C",n.WASTEWATER_TREATMENT="4D",n.OTHER_WASTE="4E",n.INDIRECT_N2O="5A",n.OTHER="5B",n}({}),u=function(n){return n.WITH_MEASURES="With Measures",n.WITH_ADDITIONAL_MEASURES="With Additional Measures",n.WITHOUT_MEASURES="Without Measures",n}({})},8911:function(n,t,e){e.r(t),e.d(t,{default:function(){return B}});var r=e(5676),i=e(4117),u=e(436),o=e(9379),c=e(2007),A=e(467),a=e(4467),s=e(5544),l=e(3428),f=e(8193),T=e(7419),d=e(1645),E=e(5462),I=e(9421),_=e(5696),O=(e(238),e(5043)),p=e(3625),N=e(5432),R=e(3979),v=e(2856),S=e(8417),h=e(4157),C=e(5515),b=e(1713),D=e(579),m=function(n){var t=n.index,e=n.projectionType,r=(0,i.Bd)(["projection","entityAction"]).t,m=(0,v.w5)(),B=m.get,U=m.post,L=(0,b.ur)(),g=L.isValidationAllowed,y=L.isGhgAllowed,w=(0,O.useState)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)({},R.Q$.ENERGY,!1),R.Q$.INDUSTRY,!1),R.Q$.AGR_FOR_OTH_LAND,!1),R.Q$.WASTE,!1),R.Q$.OTHER,!1)),M=(0,s.A)(w,2),j=M[0],W=M[1],F=(0,O.useState)(!1),H=(0,s.A)(F,2),x=H[0],G=H[1],k=(0,O.useState)(!1),P=(0,s.A)(k,2),Q=P[0],Y=P[1],Z=(0,O.useState)(),V=(0,s.A)(Z,2),$=V[0],X=V[1],K=(0,O.useState)([]),z=(0,s.A)(K,2),J=z[0],q=z[1],nn=(0,O.useState)([]),tn=(0,s.A)(nn,2),en=tn[0],rn=tn[1],un=function(){var n=(0,A.A)((0,c.A)().m(function n(){var t;return(0,c.A)().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,B("national/projections/actual/".concat(e));case 1:200!==(t=n.v).status&&201!==t.status||(q((0,p.yT)(t.data.projectionData)),t.data.state===C.NZ.FINALIZED&&X(!0)),n.n=3;break;case 2:n.p=2,n.v,q((0,p.yT)());case 3:return n.a(2)}},n,null,[[0,2]])}));return function(){return n.apply(this,arguments)}}(),on=function(){var n=(0,A.A)((0,c.A)().m(function n(){var t;return(0,c.A)().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,B("national/projections/calculated/".concat(p.Qe[e]));case 1:200!==(t=n.v).status&&201!==t.status||(q((0,p.yT)(t.data.projectionData)),t.data.state===C.NZ.FINALIZED&&X(!0),Y(!0)),n.n=3;break;case 2:n.p=2,n.v,q((0,p.yT)());case 3:return n.a(2)}},n,null,[[0,2]])}));return function(){return n.apply(this,arguments)}}();(0,O.useEffect)(function(){G(!0),X(!1),un(),G(!1)},[]);var cn=(0,O.useMemo)(function(){return en.filter(function(n){return 1===n.topicId.length||!0===j[n.topicId.slice(0,1)]})},[j,en]),An=(0,O.useMemo)(function(){var n=J.filter(function(n){return n.topicId.startsWith("1A")}).map(function(n){return n.values});return(0,N._0)(n,51)},[J.filter(function(n){return n.topicId.startsWith("1A")}).map(function(n){return n.values})]),an=(0,O.useMemo)(function(){var n=J.filter(function(n){return n.topicId.startsWith("1A3")}).map(function(n){return n.values});return(0,N._0)(n,51)},[J.filter(function(n){return n.topicId.startsWith("1A3")}).map(function(n){return n.values})]),sn=(0,O.useMemo)(function(){var n=J.filter(function(n){return n.topicId.startsWith("1B")}).map(function(n){return n.values});return(0,N._0)(n,51)},[J.filter(function(n){return n.topicId.startsWith("1B")}).map(function(n){return n.values})]),ln=(0,O.useMemo)(function(){var n=J.filter(function(n){return n.topicId.startsWith("1C")}).map(function(n){return n.values});return(0,N._0)(n,51)},[J.filter(function(n){return n.topicId.startsWith("1C")}).map(function(n){return n.values})]),fn=(0,O.useMemo)(function(){var n=J.filter(function(n){return n.topicId.startsWith("2")}).map(function(n){return n.values});return(0,N._0)(n,51)},[J.filter(function(n){return n.topicId.startsWith("2")}).map(function(n){return n.values})]),Tn=(0,O.useMemo)(function(){var n=J.filter(function(n){return n.topicId.startsWith("3A")}).map(function(n){return n.values});return(0,N._0)(n,51)},[J.filter(function(n){return n.topicId.startsWith("3A")}).map(function(n){return n.values})]),dn=(0,O.useMemo)(function(){var n=J.filter(function(n){return n.topicId.startsWith("3B")}).map(function(n){return n.values});return(0,N._0)(n,51)},[J.filter(function(n){return n.topicId.startsWith("3B")}).map(function(n){return n.values})]),En=(0,O.useMemo)(function(){var n=J.filter(function(n){return n.topicId.startsWith("4")}).map(function(n){return n.values});return(0,N._0)(n,51)},[J.filter(function(n){return n.topicId.startsWith("4")}).map(function(n){return n.values})]),In=(0,O.useMemo)(function(){var n=J.filter(function(n){return n.topicId.startsWith("5")}).map(function(n){return n.values});return(0,N._0)(n,51)},[J.filter(function(n){return n.topicId.startsWith("5")}).map(function(n){return n.values})]),_n=function(n){var t,e,r,i;switch(n){case"1":return(0,N._0)([An,sn,ln],51);case"1A":return An;case"1A3":return an;case"1B":return sn;case"1C":return ln;case"2":return fn;case"3":var u=null!==(t=null===(e=J.find(function(n){return"3C"===n.topicId}))||void 0===e?void 0:e.values)&&void 0!==t?t:[],o=null!==(r=null===(i=J.find(function(n){return"3D"===n.topicId}))||void 0===i?void 0:i.values)&&void 0!==r?r:[];return(0,N._0)([Tn,dn,u,o],51);case"3A":return Tn;case"3B":return dn;case"4":return En;case"5":return In;default:return new Array(51).fill(0)}},On=(0,O.useMemo)(function(){for(var n=[],t=0,e=Object.values(p.T1);t<e.length;t++){e[t].forEach(function(t){var e,r;n.push({key:"".concat(t,"_visible_init"),topicId:t,values:p.So.includes(t)?_n(t):null!==(e=null===(r=J.find(function(n){return n.topicId===t}))||void 0===r?void 0:r.values)&&void 0!==e?e:new Array(51).fill(0)})})}return n},[J]);(0,O.useEffect)(function(){rn(On)},[On]);for(var pn=[{dataIndex:"topicId",align:"center",ellipsis:!0,fixed:"left",width:50,render:function(n){if(1===n.length){var t=n;return(0,N.H5)(j[t],function(){W(function(n){return(0,o.A)((0,o.A)({},n),{},(0,a.A)({},t,!n[t]))})})}return null}},{dataIndex:"topicId",align:"left",width:450,fixed:"left",render:function(n){return(0,D.jsx)("div",{style:{marginLeft:"".concat(20*(n.length-1),"px")},children:(0,D.jsxs)("span",{children:[n,"\xa0".repeat(3),r("".concat(n,"_title"))]})})}}],Nn=function(n){pn.push({title:n.toString(),dataIndex:"values",width:150,align:"center",render:function(t,e){var r,i=p.So.includes(e.topicId);return(0,D.jsx)(l.A,{value:(0,N.HR)(null!==(r=t[n-2e3])&&void 0!==r?r:0),disabled:i||$||!y,onChange:function(t){var r,i,c;r=e.topicId,i=n-2e3,c=t?(0,N.HR)(t):0,Q||Y(!0),q(function(n){var t=n.findIndex(function(n){return n.topicId===r});if(-1===t)return n;var e=(0,u.A)(n),A=(0,u.A)(e[t].values);return A[i]=c,e[t]=(0,o.A)((0,o.A)({},e[t]),{},{values:A}),e})},decimalSeparator:".",controls:!1,className:i?1===e.topicId.length?"root-input-box":2===e.topicId.length?"l1-input-box":"l2-input-box":"leaf-input-box"})}})},Rn=2e3;Rn<=2050;Rn++)Nn(Rn);var vn=function(){var n=(0,A.A)((0,c.A)().m(function n(){var t,i,u;return(0,c.A)().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,t=(0,h.UH)(J,e),n.n=1,U("national/projections/add",t);case 1:200!==(i=n.v).status&&201!==i.status||(f.Ay.open({type:"success",content:r("projectionUpdateSuccess"),duration:3,style:{textAlign:"right",marginRight:15,marginTop:10}}),Y(!1)),n.n=3;break;case 2:n.p=2,u=n.v,(0,S.s)(u);case 3:return n.a(2)}},n,null,[[0,2]])}));return function(){return n.apply(this,arguments)}}(),Sn=function(){var n=(0,A.A)((0,c.A)().m(function n(t){var i,u,o;return(0,c.A)().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,i={projectionType:e,state:t},n.n=1,U("national/projections/validate",i);case 1:200!==(u=n.v).status&&201!==u.status||(f.Ay.open({type:"success",content:t===C.NZ.FINALIZED?r("projectionValidateSuccess"):r("projectionUnvalidateSuccess"),duration:3,style:{textAlign:"right",marginRight:15,marginTop:10}}),X(t===C.NZ.FINALIZED)),n.n=3;break;case 2:n.p=2,o=n.v,(0,S.s)(o);case 3:return n.a(2)}},n,null,[[0,2]])}));return function(t){return n.apply(this,arguments)}}();return(0,D.jsxs)("div",{className:"projection-form",children:[(0,D.jsx)(T.A,{className:"projection-timeline",children:(0,D.jsx)(d.A,{span:24,children:(0,D.jsx)(E.A,{loading:x,dataSource:cn,columns:pn,pagination:!1})})}),(0,D.jsxs)(T.A,{gutter:20,className:"action-row",justify:"end",children:[!$&&y&&(0,D.jsx)(d.A,{children:(0,D.jsx)(I.A,{disabled:$,type:"primary",size:"large",block:!0,onClick:function(){return on()},children:r("entityAction:revert")})}),y&&(0,D.jsx)(d.A,{children:(0,D.jsx)(_.A,{placement:"topRight",title:g?void 0:r("error:validationPermissionRequired"),showArrow:!1,children:(0,D.jsx)(I.A,{disabled:Q||!g,type:"primary",size:"large",block:!0,onClick:function(){return Sn($?C.NZ.SAVED:C.NZ.FINALIZED)},children:r($?"entityAction:unvalidate":"entityAction:validate")})})}),!$&&y&&(0,D.jsx)(d.A,{children:(0,D.jsx)(I.A,{disabled:$||!Q,type:"primary",size:"large",block:!0,onClick:function(){return vn()},children:r("entityAction:update")})})]})]},t)},B=function(){var n=(0,i.Bd)(["projection"]).t,t=[{key:"1",label:n("withMeasuresTitle"),children:(0,D.jsx)(m,{index:1,projectionType:R.Q9.WITH_MEASURES})},{key:"2",label:n("withAdditionalMeasuresTitle"),children:(0,D.jsx)(m,{index:1,projectionType:R.Q9.WITH_ADDITIONAL_MEASURES})},{key:"3",label:n("withoutMeasuresTitle"),children:(0,D.jsx)(m,{index:1,projectionType:R.Q9.WITHOUT_MEASURES})}];return(0,D.jsxs)("div",{className:"content-container",children:[(0,D.jsx)("div",{className:"title-bar",children:(0,D.jsx)("div",{className:"body-title",children:n("projectionTitle")})}),(0,D.jsx)("div",{className:"projection-section-card",children:(0,D.jsx)(r.A,{defaultActiveKey:"1",centered:!0,items:t})})]})}},4157:function(n,t,e){e.d(t,{Jk:function(){return A},SR:function(){return o},UH:function(){return c}});var r=e(3625),i=e(1425),u=e(3979),o=function(n,t,e,r,u,o){return{year:n,energyEmissions:{fuelCombustionActivities:{energyIndustries:t[i.A2.OneA][i.NX.OneA1],manufacturingIndustriesConstruction:t[i.A2.OneA][i.NX.OneA2],transport:t[i.A2.OneA][i.NX.OneA3],otherSectors:t[i.A2.OneA][i.NX.OneA4],nonSpecified:t[i.A2.OneA][i.NX.OneA5]},fugitiveEmissionsFromFuels:{solidFuels:t[i.A2.OneB][i.ZK.OneB1],oilNaturalGas:t[i.A2.OneB][i.ZK.OneB2],otherEmissionsEnergyProduction:t[i.A2.OneB][i.ZK.OneB3]},carbonDioxideTransportStorage:{solidFuels:t[i.A2.OneC][i.pV.OneC1],oilNaturalGas:t[i.A2.OneC][i.pV.OneC2],otherEmissionsEnergyProduction:t[i.A2.OneC][i.pV.OneC3]}},industrialProcessesProductUse:{mineralIndustry:e[i.UL.TwoA],chemicalIndustry:e[i.UL.TwoB],metalIndustry:e[i.UL.TwoC],nonEnergyProductsFuelsSolventUse:e[i.UL.TwoD],electronicsIndustry:e[i.UL.TwoE],productUsesSubstOzoneDepletingSubs:e[i.UL.TwoF],otherProductManufactureUse:e[i.UL.TwoG],other:e[i.UL.TwoH]},agricultureForestryOtherLandUse:{livestock:r[i.i3.ThreeA],land:r[i.i3.ThreeB],aggregateNonCo2SourcesLand:r[i.i3.ThreeC],other:r[i.i3.ThreeD]},waste:{solidWasteDisposal:u[i.Ag.FourA],biologicalTreatmentSolidWaste:u[i.Ag.FourB],incinerationOpenBurningWaste:u[i.Ag.FourC],wastewaterTreatmentDischarge:u[i.Ag.FourD],other:u[i.Ag.FourE]},other:{indirectN2oEmissions:o[i.ck.FiveA],other:o[i.ck.FiveB]}}},c=function(n,t){var e={projectionType:t,projectionData:(0,r.cw)("Projection")};return Object.values(u.b_).forEach(function(t){var r=n.find(function(n){return n.topicId===t});r&&(e.projectionData[t]=r.values)}),e},A=function(n,t){var e={id:t,settingValue:(0,r.cw)("Growth Rate")};return Object.values(u.b_).forEach(function(t){var r=n.find(function(n){return n.topicId===t});r&&(e.settingValue[t]=r.values)}),e}},238:function(){}}]);
//# sourceMappingURL=911.4d1efe7e.chunk.js.map