"use strict";(self.webpackChunkweb_mrv=self.webpackChunkweb_mrv||[]).push([[193],{6770:function(e,t,n){n.d(t,{A:function(){return o}});var a=n(6237),r=n(7419),i=n(1645),s=n(5696),c=n(8387),l=n(579),o=function(e){var t=e.calledIn,n=e.entId,o=e.isValidated;return(0,l.jsx)(r.A,{children:(0,l.jsx)(i.A,{children:(0,l.jsx)(s.A,{title:o?"Validated ".concat(t):void 0,showArrow:!1,placement:"right",children:(0,l.jsx)(c.A,{icon:o?(0,l.jsx)(a.A,{style:{color:"#8A1538"}}):void 0,className:"entity-id-card",children:"".concat(t," ID: ").concat(n)})})})})}},1048:function(e,t,n){n.d(t,{R:function(){return d}});var a=n(6655),r=n(1645),i=n(289),s=n(3307),c=n(7419),l=(n(6698),n(1966)),o=n(579),d=function(e){var t=e.rules,n=e.index,d=e.headerNames,u=e.kpi,m=e.updateKPI,p=e.removeKPI,h=e.isFromActivity;return(0,o.jsxs)(c.A,{gutter:30,className:"kpi-grid",children:[(0,o.jsx)(r.A,{span:12,children:(0,o.jsxs)(c.A,{gutter:30,children:[(0,o.jsx)(r.A,{span:12,children:(0,o.jsx)(i.A.Item,{label:(0,o.jsx)("label",{className:"form-item-header",children:d[0]}),name:"kpi_name_".concat(n),rules:h?[]:t,initialValue:null===u||void 0===u?void 0:u.name,children:(0,o.jsx)(s.A,{className:"form-input-box",onChange:function(e){m&&m(n,"name",e.target.value,"created")},disabled:h})})}),(0,o.jsx)(r.A,{span:12,children:(0,o.jsx)(i.A.Item,{label:(0,o.jsx)("label",{className:"form-item-header",children:d[1]}),name:"kpi_unit_".concat(n),rules:h?[]:t,initialValue:null===u||void 0===u?void 0:u.unit,children:(0,o.jsx)(s.A,{className:"form-input-box",onChange:function(e){m&&m(n,"unit",e.target.value,"created")},disabled:h})})})]})}),(0,o.jsx)(r.A,{span:12,children:(0,o.jsxs)(c.A,{gutter:15,children:[(0,o.jsx)(r.A,{span:h?12:11,children:(0,o.jsx)(i.A.Item,{label:(0,o.jsx)("label",{className:"form-item-header",children:d[2]}),name:"kpi_ach_".concat(n),initialValue:null===u||void 0===u?void 0:u.achieved,rules:h?t:[],children:(0,o.jsx)(s.A,{type:"number",min:0,step:.01,className:"form-input-box",onChange:function(e){m&&m(n,"achieved",e.target.value,"created")},disabled:!h})})}),(0,o.jsx)(r.A,{span:h?12:11,children:(0,o.jsx)(i.A.Item,{label:(0,o.jsx)("label",{className:"form-item-header",children:d[3]}),name:"kpi_exp_".concat(n),rules:h?[]:t,initialValue:null===u||void 0===u?void 0:u.expected,children:(0,o.jsx)(s.A,{type:"number",min:0,step:.01,className:"form-input-box",onChange:function(e){m&&m(n,"expected",e.target.value,"created")},disabled:h})})}),!h&&(0,o.jsx)(r.A,{span:2,children:(0,o.jsx)(a.A,{className:"delete-card",children:(0,o.jsx)(l.A,{style:{cursor:"pointer",color:"#3A3541",opacity:.8},onClick:function(){p&&p(n,"created")}})})})]})})]},n)}},1320:function(e,t,n){n.d(t,{r:function(){return d}});var a=n(1966),r=n(6655),i=n(1645),s=n(289),c=n(3307),l=n(7419),o=(n(6698),n(579)),d=function(e){var t=e.rules,n=e.index,d=e.headerNames,u=e.updateKPI,m=e.removeKPI;return(0,o.jsxs)(l.A,{gutter:30,className:"kpi-grid",children:[(0,o.jsx)(i.A,{span:12,children:(0,o.jsxs)(l.A,{gutter:30,children:[(0,o.jsx)(i.A,{span:12,children:(0,o.jsx)(s.A.Item,{label:(0,o.jsx)("label",{className:"form-item-header",children:d[0]}),name:"kpi_name_".concat(n),rules:t,children:(0,o.jsx)(c.A,{className:"form-input-box",onChange:function(e){u&&u(n,"name",e.target.value,"new")}})})}),(0,o.jsx)(i.A,{span:12,children:(0,o.jsx)(s.A.Item,{label:(0,o.jsx)("label",{className:"form-item-header",children:d[1]}),name:"kpi_unit_".concat(n),rules:t,children:(0,o.jsx)(c.A,{className:"form-input-box",onChange:function(e){u&&u(n,"unit",e.target.value,"new")}})})})]})}),(0,o.jsx)(i.A,{span:12,children:(0,o.jsxs)(l.A,{gutter:15,children:[(0,o.jsx)(i.A,{span:11,children:(0,o.jsx)(s.A.Item,{label:(0,o.jsx)("label",{className:"form-item-header",children:d[2]}),name:"kpi_ach_".concat(n),children:(0,o.jsx)(c.A,{type:"number",className:"form-input-box",disabled:!0})})}),(0,o.jsx)(i.A,{span:11,children:(0,o.jsx)(s.A.Item,{label:(0,o.jsx)("label",{className:"form-item-header",children:d[3]}),name:"kpi_exp_".concat(n),rules:t,children:(0,o.jsx)(c.A,{type:"number",min:0,step:.01,className:"form-input-box",onChange:function(e){u&&u(n,"expected",e.target.value,"new")}})})}),(0,o.jsx)(i.A,{span:2,children:(0,o.jsx)(r.A,{className:"delete-card",children:(0,o.jsx)(a.A,{style:{cursor:"pointer",color:"#3A3541",opacity:.8},onClick:function(){m&&m(n,"new")}})})})]})})]},n)}},2613:function(e,t,n){n.d(t,{Q:function(){return u}});var a=n(1645),r=n(289),i=n(3307),s=n(7419),c=n(5696),l=(n(6698),n(3722)),o=n(716),d=n(579),u=function(e){var t=e.index,n=e.inherited,u=e.headerNames,m=e.kpi,p=e.callingEntityId,h=e.ownerEntityId;return(0,d.jsxs)(s.A,{gutter:30,className:"kpi-grid",children:[(0,d.jsx)(a.A,{span:12,children:(0,d.jsxs)(s.A,{gutter:30,children:[(0,d.jsx)(a.A,{span:12,children:(0,d.jsx)(r.A.Item,{label:(0,d.jsx)("label",{className:"form-item-header",children:u[0]}),name:"kpi_name_".concat(t),initialValue:null===m||void 0===m?void 0:m.name,children:(0,d.jsx)(i.A,{className:"form-input-box",disabled:!0})})}),(0,d.jsx)(a.A,{span:12,children:(0,d.jsx)(r.A.Item,{label:(0,d.jsx)("label",{className:"form-item-header",children:u[1]}),name:"kpi_unit_".concat(t),initialValue:null===m||void 0===m?void 0:m.unit,children:(0,d.jsx)(i.A,{className:"form-input-box",disabled:!0})})})]})}),(0,d.jsx)(a.A,{span:12,children:(0,d.jsxs)(s.A,{gutter:15,children:[(0,d.jsx)(a.A,{span:11,children:(0,d.jsx)(r.A.Item,{label:(0,d.jsx)("label",{className:"form-item-header",children:u[2]}),name:"kpi_ach_".concat(t),initialValue:null===m||void 0===m?void 0:m.achieved,children:(0,d.jsx)(i.A,{type:"number",className:"form-input-box",disabled:!0})})}),(0,d.jsx)(a.A,{span:11,children:(0,d.jsx)(r.A.Item,{label:(0,d.jsx)("label",{className:"form-item-header",children:u[3]}),name:"kpi_exp_".concat(t),initialValue:null===m||void 0===m?void 0:m.expected,children:(0,d.jsx)(i.A,{type:"number",className:"form-input-box",disabled:!0})})}),(0,d.jsx)(a.A,{span:2,children:(0,d.jsx)(c.A,{placement:"topLeft",title:n?"Inherited from ".concat(h):"Owned by ".concat(p),showArrow:!1,children:n?(0,d.jsx)(o.A,{className:"inherited-kpi"}):(0,d.jsx)(l.A,{className:"self-owned-kpi"})})})]})})]},t)}},9190:function(e,t,n){n.d(t,{A:function(){return g}});var a=n(2007),r=n(467),i=n(5544),s=n(460),c=n(3835),l=n(5043),o=n(2856),d=n(4117),u=n(318),m=n(2413),p=n(3627),h=n(4853),f=n(7589),A=n(8572),x=n(5432),v=n(8417),j=n(579),g=function(e){var t=e.recordType,n=e.recordId,g=(0,o.w5)().post,b=(0,d.Bd)(["updateTimeline"]).t,y=(0,l.useState)(!1),I=(0,i.A)(y,2),k=I[0],N=I[1],S=(0,l.useState)([]),w=(0,i.A)(S,2),T=w[0],C=w[1],H=function(){var e=(0,r.A)((0,a.A)().m(function e(){var r,i,s;return(0,a.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return N(!0),e.p=1,r={recordType:t,recordId:n},e.n=2,g("national/log/query",r);case 2:(i=e.v)&&C(i.data),e.n=4;break;case 3:e.p=3,s=e.v,(0,v.s)(s);case 4:return e.p=4,N(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)(function(){H()},[]);var E=function(e){switch(e){case"0":case"5":case"8":case"12":case"22":return(0,j.jsx)("span",{className:"step-icon created-step",children:(0,j.jsx)(u.A,{})});case"3":case"6":case"9":case"10":case"13":case"14":case"23":case"24":return(0,j.jsx)("span",{className:"step-icon link-step",children:(0,j.jsx)(m.A,{})});case"7":case"11":case"15":case"27":return(0,j.jsx)("span",{className:"step-icon unlink-step",children:(0,j.jsx)(m.A,{})});case"1":return(0,j.jsx)("span",{className:"step-icon addkpi-step",children:(0,j.jsx)(p.A,{})});case"18":case"19":case"21":case"25":case"28":return(0,j.jsx)("span",{className:"step-icon verify-step",children:(0,j.jsx)(h.A,{})});case"30":case"31":case"32":case"33":case"34":case"35":case"36":case"37":case"38":case"39":case"40":case"41":case"42":case"43":case"44":case"45":case"46":case"47":case"48":case"49":case"50":case"51":case"52":case"53":case"54":return(0,j.jsx)("span",{className:"step-icon unverify-step",children:(0,j.jsx)(f.A,{})});default:return(0,j.jsx)("span",{className:"step-icon default-step",children:(0,j.jsx)(A.A,{})})}},F=T.map(function(e,t){return{key:t,title:(0,j.jsxs)("span",{children:[(0,j.jsxs)("strong",{children:[null===e.user_id?"System":e.user_name," "]})," ",b(e.eventType)," ",e.logData&&" - ".concat(e.logData),(0,j.jsxs)("span",{className:"date",children:[" - ","".concat((0,x.n5)(Number(e.createdTime)))]})]}),icon:E(e.eventType),status:"process"}});return(0,j.jsx)("div",{className:"info-view",children:(0,j.jsx)("div",{className:"content",children:k?(0,j.jsx)(s.A,{}):(0,j.jsx)(c.A,{direction:"vertical",current:0,items:F})})})}},9217:function(e,t,n){n.d(t,{F:function(){return s}});var a=n(4117),r=n(9933),i=n(579),s=function(){var e=(0,a.Bd)(["formTable"]).t;return[{title:e("activityIdTitle"),dataIndex:"activityId",key:"activityId",render:function(e,t){return(0,i.jsx)("a",{href:"/activities/view/".concat(t.activityId),children:t.activityId})}},{title:e("titleTitle"),dataIndex:"title",key:"title"},{title:e("redMeasuresTitle"),dataIndex:"reductionMeasures",key:"reductionMeasures"},{title:e("statusTitle"),dataIndex:"status",key:"status"},{title:e("natImplementorTitle"),width:250,render:function(e,t){return(0,i.jsx)(r.A,{listToShow:t.natImplementor})}}]}},6499:function(e,t,n){n.d(t,{r:function(){return i}});var a=n(4117),r=n(579),i=function(){var e=(0,a.Bd)(["formTable"]).t;return[{title:e("supportIdTitle"),dataIndex:"supportId",key:"supportId",render:function(e,t){return(0,r.jsx)("a",{href:"/support/view/".concat(t.supportId),children:t.supportId})}},{title:e("financeNatureTitle"),dataIndex:"financeNature",key:"financeNature"},{title:e("directionTitle"),dataIndex:"direction",key:"direction"},{title:e("finInstrumentTitle"),dataIndex:"finInstrument",key:"finInstrument"},{title:e("neededUSDHeader"),dataIndex:"estimatedUSD",key:"estimatedUSD"},{title:e("neededLCLHeader"),dataIndex:"estimatedLC",key:"estimatedLC"},{title:e("recievedUSDHeader"),dataIndex:"recievedUSD",key:"recievedUSD"},{title:e("recievedLCLHeader"),dataIndex:"recievedLC",key:"recievedLC"}]}},574:function(e,t,n){n.r(t),n.d(t,{default:function(){return Y}});var a=n(9379),r=n(4467),i=n(436),s=n(2007),c=n(467),l=n(5544),o=n(4117),d=n(4406),u=n(3307),m=n(289),p=n(8193),h=n(7419),f=n(1645),A=n(9421),x=n(5696),v=n(5397),j=n(1966),g=n(4236),b=n(5043),y=n(8228),I=n(3216),k=n(4241),N=n(2856),S=n(5515),w=function(e){return e.PLANNED="Planned",e.ONGOING="Ongoing",e.COMPLETED="Completed",e}({}),T=n(6770),C=n(1054),H=n(5432),E=n(1186),F=n(2266),_=n(6240),z=n(579),D=n(9190),R=n(2613),P=n(1320),V=n(1048),U=n(8255),O=n(9217),q=n(6499),G=n(9662),M=n(9620),L=n(8417),W=n(1713),K=d.A.Option,Z=u.A.TextArea,B=30,Q="13px",Y=function(e){for(var t=e.method,n=m.A.useForm(),Y=(0,l.A)(n,1)[0],J=(0,o.Bd)(["programmeForm","detachPopup","formHeader","entityAction","error"]).t,$="view"===t,X=(0,H.$T)("Programme",t),ee=(0,I.Zp)(),te=(0,N.w5)(),ne=te.get,ae=te.post,re=te.put,ie=te.delete,se=(0,_.V8)(),ce=(0,W.ur)(),le=ce.isValidationAllowed,oe=ce.setIsValidationAllowed,de=(0,I.g)().entId,ue=(0,C.F)(t),me=(0,b.useState)(!1),pe=(0,l.A)(me,2),he=pe[0],fe=pe[1],Ae=(0,b.useState)([]),xe=(0,l.A)(Ae,2),ve=xe[0],je=xe[1],ge=(0,b.useState)([]),be=(0,l.A)(ge,2),ye=be[0],Ie=be[1],ke=(0,b.useState)([]),Ne=(0,l.A)(ke,2),Se=Ne[0],we=Ne[1],Te=(0,b.useState)([]),Ce=(0,l.A)(Te,2),He=Ce[0],Ee=Ce[1],Fe=(0,b.useState)(!0),_e=(0,l.A)(Fe,2),ze=_e[0],De=_e[1],Re=(0,b.useState)(!1),Pe=(0,l.A)(Re,2),Ve=Pe[0],Ue=Pe[1],Oe=(0,b.useState)(!1),qe=(0,l.A)(Oe,2),Ge=qe[0],Me=qe[1],Le=(0,b.useState)(!1),We=(0,l.A)(Le,2),Ke=We[0],Ze=We[1],Be=(0,b.useState)(!1),Qe=(0,l.A)(Be,2),Ye=Qe[0],Je=Qe[1],$e=(0,b.useState)([]),Xe=(0,l.A)($e,2),et=Xe[0],tt=Xe[1],nt=(0,b.useState)(1),at=(0,l.A)(nt,2),rt=at[0],it=at[1],st=(0,b.useState)(10),ct=(0,l.A)(st,2),lt=ct[0],ot=ct[1],dt=(0,b.useState)([]),ut=(0,l.A)(dt,2),mt=ut[0],pt=ut[1],ht=(0,b.useState)(1),ft=(0,l.A)(ht,2),At=ft[0],xt=ft[1],vt=(0,b.useState)(10),jt=(0,l.A)(vt,2),gt=jt[0],bt=jt[1],yt=(0,b.useState)([]),It=(0,l.A)(yt,2),kt=It[0],Nt=It[1],St=(0,b.useState)(1),wt=(0,l.A)(St,2),Tt=wt[0],Ct=wt[1],Ht=(0,b.useState)(10),Et=(0,l.A)(Ht,2),Ft=Et[0],_t=Et[1],zt=(0,b.useState)(!1),Dt=(0,l.A)(zt,2),Rt=Dt[0],Pt=Dt[1],Vt=(0,b.useState)(0),Ut=(0,l.A)(Vt,2),Ot=Ut[0],qt=Ut[1],Gt=(0,b.useState)([]),Mt=(0,l.A)(Gt,2),Lt=Mt[0],Wt=Mt[1],Kt=(0,b.useState)([]),Zt=(0,l.A)(Kt,2),Bt=Zt[0],Qt=Zt[1],Yt=(0,b.useState)([]),Jt=(0,l.A)(Yt,2),$t=Jt[0],Xt=Jt[1],en=(0,b.useState)(!1),tn=(0,l.A)(en,2),nn=tn[0],an=tn[1],rn=[],sn=2013;sn<=2049;sn++)rn.push(sn);var cn=function(){var e=(0,o.Bd)(["formTable"]).t;return[{title:e("projectId"),dataIndex:"projectId",key:"projectId",render:function(e,t){return(0,z.jsx)("a",{href:"/projects/view/".concat(t.projectId),children:t.projectId})}},{title:e("projectName"),dataIndex:"projectName",key:"projectName"}]}(),ln=(0,O.F)(),on=(0,q.r)(),dn=function(){var e=(0,c.A)((0,s.A)().m(function e(n){var a,r,i,c;return(0,s.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:for(a in e.p=0,Ze(!0),n)a.startsWith("kpi_")&&delete n[a];if(ye.length>0&&("create"===t?(n.documents=[],ye.forEach(function(e){n.documents.push({title:e.title,data:e.data})})):"update"===t&&(n.newDocuments=[],ye.forEach(function(e){n.newDocuments.push({title:e.title,data:e.data})}))),He.length>0&&(n.removedDocuments=[],He.forEach(function(e){var t;n.removedDocuments.push(null===(t=Se.find(function(t){return t.key===e}))||void 0===t?void 0:t.url)})),"create"===t&&$t.length>0?(n.kpis=[],$t.forEach(function(e){n.kpis.push({name:e.name,kpiUnit:e.unit,creatorType:"programme",expected:e.expected})})):"update"===t&&nn&&(n.kpis=[],$t.forEach(function(e){n.kpis.push({name:e.name,kpiUnit:e.unit,creatorType:"programme",expected:e.expected,kpiAction:S.ZV.CREATED})}),Lt.forEach(function(e){n.kpis.push({kpiId:e.id,kpiUnit:e.unit,name:e.name,creatorType:"programme",expected:e.expected,kpiAction:e.kpiAction})})),et.length>0&&"create"===t&&(n.linkedProjects=[],et.forEach(function(e){n.linkedProjects.push(e.projectId)})),n.actionId||(n.actionId=""),n.investment=parseFloat(n.investment),"create"!==t){e.n=2;break}return e.n=1,ae("national/programmes/add",(0,U.x)(n,"programme"));case 1:r=e.v,e.n=4;break;case 2:if(!de||"update"!==t){e.n=4;break}return n.programmeId=de,e.n=3,re("national/programmes/update",(0,U.x)(n,"programme"));case 3:r=e.v;case 4:i=J("create"===t?"programmeCreationSuccess":"programmeUpdateSuccess"),200!==r.status&&201!==r.status||p.Ay.open({type:"success",content:i,duration:3,style:{textAlign:"right",marginRight:15,marginTop:10}}),e.n=6;break;case 5:return e.p=5,c=e.v,(0,L.s)(c),e.n=6,new Promise(function(e){setTimeout(e,500)});case 6:return e.p=6,Ze(!1),ee("/programmes"),e.f(6);case 7:return e.a(2)}},e,null,[[0,5,6,7]])}));return function(t){return e.apply(this,arguments)}}(),un=function(){var e=(0,c.A)((0,s.A)().m(function e(){var t,n,a,r;return(0,s.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,Je(!0),!de){e.n=2;break}return t={entityId:de,validateStatus:!he},e.n=1,ae("national/programmes/validateStatus",t);case 1:200!==(n=e.v).status&&201!==n.status||(p.Ay.open({type:"success",content:J(he?"programmeUnvalidateSuccess":"programmeValidateSuccess"),duration:3,style:{textAlign:"right",marginRight:15,marginTop:10}}),ee("/programmes"));case 2:e.n=7;break;case 3:if(e.p=3,null===(a=e.v)||void 0===a||!a.status){e.n=6;break}if(403!==a.status){e.n=5;break}return r=oe,e.n=4,(0,H.e)(ne);case 4:r(e.v);case 5:(0,L.s)(a),e.n=7;break;case 6:(0,L.s)(a,"".concat(de," Validation Failed"));case 7:return e.p=7,Je(!1),e.f(7);case 8:return e.a(2)}},e,null,[[0,3,7,8]])}));return function(){return e.apply(this,arguments)}}(),mn=function(){var e=(0,c.A)((0,s.A)().m(function e(){var t,n,a;return(0,s.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,Ze(!0),e.n=1,(0,H.cb)(1e3);case 1:if(!de){e.n=3;break}return t={entityId:de},e.n=2,ie("national/programmes/delete",t);case 2:200!==(n=e.v).status&&201!==n.status||(p.Ay.open({type:"success",content:J("programmeDeleteSuccess"),duration:3,style:{textAlign:"right",marginRight:15,marginTop:10}}),ee("/programmes"));case 3:e.n=5;break;case 4:e.p=4,null!==(a=e.v)&&void 0!==a&&a.message?(0,L.s)(a):(0,L.s)(a,"".concat(de," Delete Failed"));case 5:return e.p=5,Ze(!1),e.f(5);case 6:return e.a(2)}},e,null,[[0,4,5,6]])}));return function(){return e.apply(this,arguments)}}(),pn=function(e,n){"new"===n?(Xt($t.filter(function(t){return t.index!==e})),"update"===t&&De(!1)):(Wt(Lt.filter(function(t){return t.index!==e})),De(!1));var a=(0,r.A)((0,r.A)((0,r.A)({},"kpi_name_".concat(e),void 0),"kpi_unit_".concat(e),void 0),"kpi_exp_".concat(e),void 0);Y.setFieldsValue(a)},hn=function(e,t,n,i){"new"===i?Xt(function(i){return i.map(function(i){return i.index===e?(0,a.A)((0,a.A)({},i),{},(0,r.A)({},t,"expected"===t?parseFloat(n):n)):i})}):Wt(function(i){return i.map(function(i){return i.index===e?(i.kpiAction=S.ZV.UPDATED,(0,a.A)((0,a.A)({},i),{},(0,r.A)({},t,"expected"===t?parseFloat(n):n))):i})})},fn=function(){var e=(0,c.A)((0,s.A)().m(function e(n){var a,r,i,c;return(0,s.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if("undefined"!==typeof n){e.n=1;break}Qt([]),e.n=5;break;case 1:if("view"===t){e.n=5;break}return e.p=2,e.n=3,ne("national/kpis/achieved/action/".concat(n));case 3:200!==(a=e.v).status&&201!==a.status||(r=[],i=Ot,a.data.forEach(function(e){var t,n;r.push({index:i,creator:e.creatorId,id:e.kpiId,name:e.name,unit:e.kpiUnit,achieved:parseFloat(null!==(t=e.achieved)&&void 0!==t?t:0),expected:parseFloat(null!==(n=e.expected)&&void 0!==n?n:0),kpiAction:S.ZV.NONE}),i+=1}),qt(i),Qt(r)),e.n=5;break;case 4:e.p=4,c=e.v,console.log(c,J("kpiSearchFailed"));case 5:return e.a(2)}},e,null,[[2,4]])}));return function(t){return e.apply(this,arguments)}}(),An=function(){var e=(0,c.A)((0,s.A)().m(function e(){var t,n,a;return(0,s.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,ne("national/actions/attach/query");case 1:t=e.v,n=[],t.data.forEach(function(e){n.push({id:e.actionId,title:e.title,instrumentType:e.instrumentType,sector:e.sector,type:e.type,hasChildActivities:e.hasChildActivities})}),je(n),e.n=3;break;case 2:e.p=2,a=e.v,(0,L.s)(a);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),xn=function(){var e=(0,c.A)((0,s.A)().m(function e(){var n,a,r,i,c,l,o,d,u,m;return(0,s.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if("create"===t||!de){e.n=5;break}return e.p=1,e.n=2,ne("national/programmes/".concat(de));case 2:200!==(n=e.v).status&&201!==n.status||(u=n.data,Y.setFieldsValue({actionId:u.actionId,type:u.type,instrumentType:u.instrumentType,title:u.title,description:u.description,objective:u.objectives,programmeStatus:u.programmeStatus,startYear:u.startYear,natAnchor:u.natAnchor,sector:u.sector,affectedSubSector:u.affectedSubSector,natImplementor:u.nationalImplementor,investment:null!==(a=u.estimatedAmount)&&void 0!==a?a:0,comments:null!==(r=u.comments)&&void 0!==r?r:void 0}),fe(null!==(i=u.validated)&&void 0!==i&&i),Ue((0,H.Mg)(u.type)),(null===(c=u.documents)||void 0===c?void 0:c.length)>0&&(m=[],u.documents.forEach(function(e){m.push({key:e.createdTime,title:e.title,url:e.url})}),we(m)),Y.setFieldsValue({intImplementor:null!==(l=u.interNationalImplementor)&&void 0!==l?l:[],recipientEntity:null!==(o=u.recipientEntity)&&void 0!==o?o:[],ghgsAffected:null!==(d=u.ghgsAffected)&&void 0!==d?d:[],achievedReduct:u.achievedGHGReduction,expectedReduct:u.expectedGHGReduction})),e.n=4;break;case 3:e.p=3,e.v,ee("/programmes");case 4:De(!0);case 5:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),vn=function(){var e=(0,c.A)((0,s.A)().m(function e(){var n,a,r,i,c;return(0,s.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if("create"===t||!de){e.n=4;break}return e.p=1,e.n=2,ne("national/kpis/achieved/programme/".concat(de));case 2:200!==(n=e.v).status&&201!==n.status||(a=[],r=[],i=Ot,n.data.forEach(function(e){var t,n,s,c;e.creatorId===de?a.push({index:i,creator:de,id:e.kpiId,name:e.name,unit:e.kpiUnit,achieved:parseFloat(null!==(t=e.achieved)&&void 0!==t?t:0),expected:parseFloat(null!==(n=e.expected)&&void 0!==n?n:0),kpiAction:S.ZV.NONE}):r.push({index:i,creator:e.creatorId,id:e.kpiId,name:e.name,unit:e.kpiUnit,achieved:parseFloat(null!==(s=e.achieved)&&void 0!==s?s:0),expected:parseFloat(null!==(c=e.expected)&&void 0!==c?c:0),kpiAction:S.ZV.NONE});i+=1}),qt(i),Wt(a),Qt(r),(a.length>0||r.length>0)&&an(!0)),e.n=4;break;case 3:e.p=3,c=e.v,console.log(c,J("kpiSearchFailed"));case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),jn=function(){var e=(0,c.A)((0,s.A)().m(function e(){var n,a,r,i;return(0,s.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if("create"===t){e.n=4;break}return e.p=1,n={filterAnd:[{key:"programmeId",operation:"=",value:de}],sort:{key:"projectId",order:"ASC"}},e.n=2,ae("national/projects/query",n);case 2:a=e.v,r=[],a.data.forEach(function(e,t){var n,a,i,s,c,l,o,d;r.push({key:t.toString(),projectId:e.projectId,projectName:e.title,internationalImplementingEntities:null!==(n=e.internationalImplementingEntities)&&void 0!==n?n:[],recipientEntities:null!==(a=e.recipientEntities)&&void 0!==a?a:[],ghgsAffected:null!==(i=null===(s=e.migratedData[0])||void 0===s?void 0:s.ghgsAffected)&&void 0!==i?i:[],achievedReduction:null!==(c=null===(l=e.migratedData[0])||void 0===l?void 0:l.achievedGHGReduction)&&void 0!==c?c:0,estimatedReduction:null!==(o=null===(d=e.migratedData[0])||void 0===d?void 0:d.expectedGHGReduction)&&void 0!==o?o:0})}),tt(r),e.n=4;break;case 3:e.p=3,i=e.v,(0,L.s)(i);case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),gn=function(){var e=(0,c.A)((0,s.A)().m(function e(){var n,a,r,i;return(0,s.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if("create"===t){e.n=4;break}return e.p=1,n={filterAnd:[{key:"parentId",operation:"=",value:de},{key:"parentType",operation:"=",value:"programme"}],sort:{key:"activityId",order:"ASC"}},e.n=2,ae("national/activities/query",n);case 2:a=e.v,r=[],a.data.forEach(function(e,t){var n,a,i;r.push({key:t.toString(),activityId:e.activityId,title:e.title,reductionMeasures:e.measure,status:e.status,natImplementor:null!==(n=e.nationalImplementingEntity)&&void 0!==n?n:[],ghgsAffected:e.ghgsAffected,achievedReduction:null!==(a=e.achievedGHGReduction)&&void 0!==a?a:0,estimatedReduction:null!==(i=e.expectedGHGReduction)&&void 0!==i?i:0})}),pt(r),e.n=4;break;case 3:e.p=3,i=e.v,(0,L.s)(i);case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),bn=function(){var e=(0,c.A)((0,s.A)().m(function e(){var t,n,a,r;return(0,s.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t={filterOr:[],sort:{key:"supportId",order:"ASC"}},!(mt.length>0)){e.n=5;break}return e.p=1,mt.forEach(function(e){t.filterOr.push({key:"activityId",operation:"=",value:e.activityId})}),e.n=2,ae("national/supports/query",t);case 2:n=e.v,a=[],n.data.forEach(function(e,t){var n,r,i,s;a.push({key:t.toString(),supportId:e.supportId,financeNature:e.financeNature,direction:e.direction,finInstrument:"International"===e.financeNature?e.internationalFinancialInstrument:e.nationalFinancialInstrument,estimatedUSD:(0,H.aE)(null!==(n=e.requiredAmount)&&void 0!==n?n:0),estimatedLC:(0,H.aE)(null!==(r=e.requiredAmountDomestic)&&void 0!==r?r:0),recievedUSD:(0,H.aE)(null!==(i=e.receivedAmount)&&void 0!==i?i:0),recievedLC:(0,H.aE)(null!==(s=e.receivedAmountDomestic)&&void 0!==s?s:0)})}),Nt(a),e.n=4;break;case 3:e.p=3,r=e.v,(0,L.s)(r);case 4:e.n=6;break;case 5:Nt([]);case 6:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}();return(0,b.useEffect)(function(){bn()},[mt]),(0,b.useEffect)(function(){Promise.all([An(),xn(),vn(),jn(),gn()]).then(function(){Me(!0)})},[]),(0,z.jsxs)("div",{className:"content-container",children:[(0,z.jsx)(G.A,{icon:(0,z.jsx)(j.A,{style:{color:"#ff4d4f",fontSize:"120px"}}),isDanger:!0,content:{primaryMsg:"".concat(J("deletePrimaryMsg")," ").concat(de),secondaryMsg:J("deleteSecondaryMsg"),cancelTitle:J("entityAction:cancel"),actionTitle:J("entityAction:delete")},actionRef:de,doAction:mn,open:Rt,setOpen:Pt},"delete_popup"),(0,z.jsx)("div",{className:"title-bar",children:(0,z.jsx)("div",{className:"body-title",children:J(X)})}),(0,z.jsx)(m.A,{form:Y,onFinish:dn,layout:"vertical",onValuesChange:function(){De(!1)},children:!Ke&&Ge?(0,z.jsxs)("div",{className:"programme-form",children:[(0,z.jsxs)("div",{className:"form-section-card",children:[(0,z.jsx)("div",{className:"form-section-header",children:J("generalInfoTitle")}),"create"!==t&&de&&(0,z.jsx)(T.A,{calledIn:"Programme",entId:de,isValidated:he}),(0,z.jsxs)(h.A,{gutter:B,children:[(0,z.jsx)(f.A,(0,a.A)((0,a.A)({},M._C),{},{children:(0,z.jsx)(m.A.Item,{label:(0,z.jsx)("label",{className:"form-item-header",children:J("selectActionHeader")}),name:"actionId",children:(0,z.jsxs)(d.A,{size:"large",style:{fontSize:Q},allowClear:!0,disabled:"view"===t,showSearch:!0,onChange:function(e){var t=ve.find(function(t){return t.id===e});Y.setFieldsValue({instrumentType:null===t||void 0===t?void 0:t.instrumentType,sector:null===t||void 0===t?void 0:t.sector,type:null===t||void 0===t?void 0:t.type}),fn(e),Ue((0,H.Mg)(null===t||void 0===t?void 0:t.type))},children:[ve.map(function(e){return(0,z.jsx)(K,{value:e.id,disabled:e.hasChildActivities,children:(0,z.jsx)("span",{style:{color:e.hasChildActivities?"#ff4d4f":"inherit"},children:e.hasChildActivities?"".concat(e.id," : Attached to Activities"):"".concat(e.id," - ").concat(e.title)})},e.id)}),(0,z.jsx)(K,{value:"",children:(0,z.jsx)("span",{style:{color:"inherit"},children:"None"})},0)]})})})),(0,z.jsx)(f.A,(0,a.A)((0,a.A)({},M._C),{},{children:(0,z.jsx)(m.A.Item,{label:(0,z.jsx)("label",{className:"form-item-header",children:J("formHeader:typesTitle")}),name:"type",children:(0,z.jsx)(d.A,{size:"large",style:{fontSize:Q},disabled:!0})})})),(0,z.jsx)(f.A,(0,a.A)((0,a.A)({},M.FW),{},{children:(0,z.jsx)(m.A.Item,{label:(0,z.jsx)("label",{className:"form-item-header",children:J("progTitleHeader")}),name:"title",rules:[ue.required],children:(0,z.jsx)(u.A,{className:"form-input-box",disabled:$})})}))]}),(0,z.jsxs)(h.A,{gutter:B,children:[(0,z.jsx)(f.A,(0,a.A)((0,a.A)({},M.FW),{},{children:(0,z.jsx)(m.A.Item,{label:(0,z.jsx)("label",{className:"form-item-header",children:J("progDescTitle")}),name:"description",rules:[ue.required],children:(0,z.jsx)(Z,{maxLength:250,rows:3,disabled:$})})})),(0,z.jsx)(f.A,(0,a.A)((0,a.A)({},M.FW),{},{children:(0,z.jsx)(m.A.Item,{label:(0,z.jsx)("label",{className:"form-item-header",children:J("progObjectivesTitle")}),name:"objective",rules:[ue.required],children:(0,z.jsx)(Z,{maxLength:250,rows:3,disabled:$})})}))]}),(0,z.jsxs)(h.A,{gutter:B,children:[(0,z.jsx)(f.A,(0,a.A)((0,a.A)({},M._C),{},{children:(0,z.jsx)(m.A.Item,{label:(0,z.jsx)("label",{className:"form-item-header",children:J("formHeader:instrumentTypeHeader")}),name:"instrumentType",children:(0,z.jsx)(d.A,{size:"large",style:{fontSize:Q},mode:"multiple",disabled:!0})})})),(0,z.jsx)(f.A,(0,a.A)((0,a.A)({},M._C),{},{children:(0,z.jsx)(m.A.Item,{label:(0,z.jsx)("label",{className:"form-item-header",children:J("progStatusTitle")}),name:"programmeStatus",rules:[ue.required],children:(0,z.jsx)(d.A,{size:"large",style:{fontSize:Q},allowClear:!0,disabled:$,showSearch:!0,children:Object.values(w).map(function(e){return(0,z.jsx)(K,{value:e,children:e},e)})})})})),(0,z.jsx)(f.A,(0,a.A)((0,a.A)({},M._C),{},{children:(0,z.jsx)(m.A.Item,{label:(0,z.jsx)("label",{className:"form-item-header",children:J("formHeader:sectorsAffectedHeader")}),name:"sector",children:(0,z.jsx)(d.A,{size:"large",style:{fontSize:Q},disabled:!0})})})),(0,z.jsx)(f.A,(0,a.A)((0,a.A)({},M._C),{},{children:(0,z.jsx)(m.A.Item,{label:(0,z.jsx)("label",{className:"form-item-header",children:J("formHeader:subSectorsAffectedHeader")}),name:"affectedSubSector",rules:[ue.required],children:(0,z.jsx)(d.A,{size:"large",style:{fontSize:Q},mode:"multiple",allowClear:!0,disabled:$,showSearch:!0,children:Object.values(S.bk).map(function(e){return(0,z.jsx)(K,{value:e,children:e},e)})})})}))]}),(0,z.jsxs)(h.A,{gutter:B,children:[(0,z.jsx)(f.A,(0,a.A)((0,a.A)({},M._C),{},{children:(0,z.jsx)(m.A.Item,{label:(0,z.jsx)("label",{className:"form-item-header",children:J("formHeader:startYearTitle")}),name:"startYear",rules:[ue.required],children:(0,z.jsx)(d.A,{size:"large",style:{fontSize:Q},allowClear:!0,disabled:$,showSearch:!0,children:rn.map(function(e){return(0,z.jsx)(K,{value:e,children:e},e)})})})})),(0,z.jsx)(f.A,(0,a.A)((0,a.A)({},M._C),{},{children:(0,z.jsx)(m.A.Item,{label:(0,z.jsx)("label",{className:"form-item-header",children:J("formHeader:intImplementerHeader")}),name:"intImplementor",children:(0,z.jsx)(d.A,{size:"large",style:{fontSize:Q},mode:"multiple",disabled:!0})})})),(0,z.jsx)(f.A,(0,a.A)((0,a.A)({},M.FW),{},{children:(0,z.jsx)(m.A.Item,{label:(0,z.jsx)("label",{className:"form-item-header",children:J("formHeader:recipientEntityHeader")}),name:"recipientEntity",children:(0,z.jsx)(d.A,{size:"large",style:{fontSize:Q},mode:"multiple",disabled:!0})})}))]}),(0,z.jsxs)(h.A,{gutter:B,children:[(0,z.jsx)(f.A,(0,a.A)((0,a.A)({},M.FW),{},{children:(0,z.jsx)(m.A.Item,{label:(0,z.jsx)("label",{className:"form-item-header",children:J("formHeader:natImplementerHeader")}),name:"natImplementor",rules:[ue.required],children:(0,z.jsx)(d.A,{size:"large",style:{fontSize:Q},mode:"multiple",allowClear:!0,disabled:$,showSearch:!0,children:Object.values(S.oT).map(function(e){return(0,z.jsx)(K,{value:e,children:e},e)})})})})),(0,z.jsx)(f.A,(0,a.A)((0,a.A)({},M.FW),{},{children:(0,z.jsx)(m.A.Item,{label:(0,z.jsx)("label",{className:"form-item-header",children:J("formHeader:investmentNeedsHeader")}),name:"investment",children:(0,z.jsx)(u.A,{className:"form-input-box",disabled:!0})})}))]}),(0,z.jsx)("div",{className:"form-section-sub-header",children:J("formHeader:documentsHeader")}),(0,z.jsx)(k.A,{isSingleColumn:!1,usedIn:t,buttonText:J("entityAction:upload"),storedFiles:Se,uploadedFiles:ye,setUploadedFiles:Ie,removedFiles:He,setRemovedFiles:Ee,setIsSaveButtonDisabled:De}),(0,z.jsx)(h.A,{gutter:B,children:(0,z.jsx)(f.A,{span:24,children:(0,z.jsx)(m.A.Item,{label:(0,z.jsx)("label",{className:"form-item-header",children:J("programmeCommentsTitle")}),name:"comments",children:(0,z.jsx)(Z,{rows:3,disabled:$})})})}),"create"!==t&&(0,z.jsx)(h.A,{children:(0,z.jsxs)(f.A,{span:12,children:[(0,z.jsx)("div",{className:"form-section-header",children:J("projectListTitle")}),(0,z.jsx)(y.A,{tableData:et.slice((rt-1)*lt,(rt-1)*lt+lt),columns:cn,loading:!1,pagination:{current:rt,pageSize:lt,total:et.length,showQuickJumper:!0,pageSizeOptions:["10","20","30"],showSizeChanger:!0,style:{textAlign:"center"},locale:{page:""},position:["bottomRight"]},handleTableChange:function(e){it(e.current),ot(e.pageSize)},emptyMessage:J("noProjectsMessage")})]})})]}),"create"!==t&&(0,z.jsxs)("div",{className:"form-section-card",children:[(0,z.jsx)(h.A,{children:(0,z.jsx)(f.A,(0,a.A)((0,a.A)({},M.Cm),{},{style:{paddingTop:"6px"},children:(0,z.jsx)("div",{className:"form-section-header",children:J("activityInfoTitle")})}))}),(0,z.jsx)(h.A,{children:(0,z.jsx)(f.A,{span:24,children:(0,z.jsx)("div",{style:{overflowX:"auto"},children:(0,z.jsx)(y.A,{tableData:mt,columns:ln,loading:!1,pagination:{current:At,pageSize:gt,total:mt.length,showQuickJumper:!0,pageSizeOptions:["10","20","30"],showSizeChanger:!0,style:{textAlign:"center"},locale:{page:""},position:["bottomRight"]},handleTableChange:function(e){xt(e.current),bt(e.pageSize)},emptyMessage:J("formHeader:noActivityMessage")})})})})]}),"create"!==t&&(0,z.jsxs)("div",{className:"form-section-card",children:[(0,z.jsx)(h.A,{children:(0,z.jsx)(f.A,{span:20,children:(0,z.jsx)("div",{className:"form-section-header",children:J("supportInfoTitle")})})}),(0,z.jsx)(h.A,{children:(0,z.jsx)(f.A,{span:24,children:(0,z.jsx)(y.A,{tableData:kt,columns:on,loading:!1,pagination:{current:Tt,pageSize:Ft,total:kt.length,showQuickJumper:!0,pageSizeOptions:["10","20","30"],showSizeChanger:!0,style:{textAlign:"center"},locale:{page:""},position:["bottomRight"]},handleTableChange:function(e){Ct(e.current),_t(e.pageSize)},emptyMessage:J("formHeader:noSupportMessage")})})})]}),(0,z.jsxs)("div",{className:"form-section-card",children:[(0,z.jsx)("div",{className:"form-section-header",children:J(Ve?"formHeader:programmeResultsInfoTitle":"formHeader:kpiInfoTitle")}),Ve&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(h.A,{gutter:B,children:(0,z.jsx)(f.A,(0,a.A)((0,a.A)({},M.FW),{},{children:(0,z.jsx)(m.A.Item,{label:(0,z.jsx)("label",{className:"form-item-header",children:J("formHeader:ghgAffected")}),name:"ghgsAffected",children:(0,z.jsx)(d.A,{size:"large",style:{fontSize:Q},mode:"multiple",disabled:!0})})}))}),(0,z.jsx)("div",{className:"form-section-sub-header",children:J("formHeader:emissionInfoTitle")}),(0,z.jsxs)(h.A,{gutter:B,children:[(0,z.jsx)(f.A,(0,a.A)((0,a.A)({},M.FW),{},{children:(0,z.jsx)(m.A.Item,{label:(0,z.jsx)("label",{className:"form-item-header",children:J("formHeader:achieved")}),name:"achievedReduct",children:(0,z.jsx)(u.A,{className:"form-input-box",disabled:!0})})})),(0,z.jsx)(f.A,(0,a.A)((0,a.A)({},M.FW),{},{children:(0,z.jsx)(m.A.Item,{label:(0,z.jsx)("label",{className:"form-item-header",children:J("formHeader:expected")}),name:"expectedReduct",children:(0,z.jsx)(u.A,{className:"form-input-box",disabled:!0})})}))]})]}),("create"===t||"update"===t||"view"===t&&(Bt.length>0||Lt.length>0))&&Ve&&(0,z.jsx)("div",{className:"form-section-sub-header",children:J("formHeader:kpiInfoTitle")}),Bt.length>0&&Bt.map(function(e){return(0,z.jsx)(R.Q,{index:e.index,inherited:!0,headerNames:[J("formHeader:kpiName"),J("formHeader:kpiUnit"),J("formHeader:achieved"),J("formHeader:expected")],kpi:e,callingEntityId:de,ownerEntityId:e.creator},e.index)}),"view"===t&&Lt.map(function(e){return(0,z.jsx)(R.Q,{index:e.index,inherited:!1,headerNames:[J("formHeader:kpiName"),J("formHeader:kpiUnit"),J("formHeader:achieved"),J("formHeader:expected")],kpi:e,callingEntityId:de,ownerEntityId:e.creator},e.index)}),"update"===t&&Lt.map(function(e){return(0,z.jsx)(V.R,{index:e.index,form:Y,rules:[ue.required],isFromActivity:!1,headerNames:[J("formHeader:kpiName"),J("formHeader:kpiUnit"),J("formHeader:achieved"),J("formHeader:expected")],kpi:e,updateKPI:hn,removeKPI:pn},e.index)}),$t.map(function(e){return(0,z.jsx)(P.r,{form:Y,rules:[ue.required],index:e.index,headerNames:[J("formHeader:kpiName"),J("formHeader:kpiUnit"),J("formHeader:achieved"),J("formHeader:expected")],updateKPI:hn,removeKPI:pn},e.index)}),(0,z.jsx)(h.A,{justify:"start",children:(0,z.jsx)(f.A,{span:2,children:!$&&(0,z.jsx)(A.A,{icon:(0,z.jsx)(g.A,{style:{color:"#3A3541"}}),className:"create-kpi-button",onClick:function(){var e={index:Ot,name:"",unit:"",achieved:void 0,expected:0};qt(function(e){return e+1}),Xt(function(t){return[].concat((0,i.A)(t),[e])}),an(!0),De(!1)},children:(0,z.jsx)("span",{className:"kpi-add-text",children:J("entityAction:addKPI")})})})})]}),"create"!==t&&(0,z.jsxs)("div",{className:"form-section-timelineCard",children:[(0,z.jsx)("div",{className:"form-section-header",children:J("formHeader:updatesInfoTitle")}),(0,z.jsx)(D.A,{recordType:"programme",recordId:de})]}),"create"===t&&(0,z.jsxs)(h.A,{className:"sticky-footer",gutter:20,justify:"end",children:[(0,z.jsx)(f.A,{children:(0,z.jsx)(A.A,{type:"default",size:"large",block:!0,onClick:function(){ee("/programmes")},children:J("entityAction:cancel")})}),(0,z.jsx)(f.A,(0,a.A)((0,a.A)({},M.Cs),{},{children:(0,z.jsx)(m.A.Item,{children:(0,z.jsx)(A.A,{type:"primary",size:"large",block:!0,htmlType:"submit",children:J("entityAction:add")})})}))]}),"view"===t&&(0,z.jsxs)(h.A,{className:"sticky-footer",gutter:20,justify:"end",children:[(0,z.jsx)(f.A,{children:(0,z.jsx)(A.A,{type:"default",size:"large",block:!0,onClick:function(){ee("/programmes")},children:J("entityAction:back")})}),se.can(E.rc.Validate,F.W)&&(0,z.jsx)(f.A,{children:(0,z.jsx)(m.A.Item,{children:(0,z.jsx)(x.A,{placement:"topRight",title:le?void 0:J("error:validationPermissionRequired"),showArrow:!1,children:(0,z.jsx)(A.A,{type:"primary",size:"large",block:!0,onClick:function(){un()},loading:Ye,disabled:!le,children:J(he?"entityAction:unvalidate":"entityAction:validate")})})})})]}),"update"===t&&(0,z.jsxs)(h.A,{className:"sticky-footer",gutter:20,justify:"end",children:[(0,z.jsx)(f.A,{children:(0,z.jsx)(A.A,{type:"default",size:"large",block:!0,onClick:function(){ee("/programmes")},children:J("entityAction:cancel")})}),se.can(E.rc.Delete,F.W)&&(0,z.jsx)(f.A,{children:(0,z.jsx)(A.A,{type:"default",size:"large",block:!0,onClick:function(){mt.length>0||et.length>0?p.Ay.open({type:"error",content:J("error:programmeDeletePrevented"),duration:3,style:{textAlign:"right",marginRight:15,marginTop:10}}):Pt(!0)},style:{color:"red",borderColor:"red"},children:J("entityAction:delete")})}),(0,z.jsx)(f.A,(0,a.A)((0,a.A)({},M.Cs),{},{children:(0,z.jsx)(m.A.Item,{children:(0,z.jsx)(A.A,{type:"primary",size:"large",block:!0,htmlType:"submit",disabled:ze,children:J("entityAction:update")})})}))]})]}):(0,z.jsx)(v.A,{className:"loading-center",size:"large"})})]})}},8255:function(e,t,n){n.d(t,{x:function(){return l}});var a=n(9379),r=["comments"],i=["additionalProjectNumber","internationalImplementingEntities","comment"],s=["measure","nationalImplementingEntity","internationalImplementingEntity","anchoredInNationalStrategy","meansOfImplementation","technologyType","etfDescription","comment","achievedGHGReductionAlternate"],c=["internationalSource","nationalSource","financingStatus","nationalFinancialInstrument","internationalFinancialInstrument","internationalSupportChannel"],l=function(e,t){var n=[];switch(t){case"action":break;case"programme":n=r;break;case"project":n=i;break;case"activity":n=s;break;case"support":n=c}for(var l=(0,a.A)({},e),o=0,d=n;o<d.length;o++){var u=d[o];l.hasOwnProperty(u)&&("string"===typeof l[u]&&""===l[u]||l[u]instanceof Array&&0===l[u].length||"undefined"===typeof l[u])&&(l[u]=null)}return l}},1054:function(e,t,n){n.d(t,{F:function(){return r}});var a=n(454),r=function(e){return{required:{required:"view"!==e,message:"Required Field"},number:{pattern:/^[0-9]+$/,message:"Please enter a valid number"},greaterThanZero:function(e){return(0,a.A)(e),{validator:function(e,t){return t?t>0?Promise.resolve():Promise.reject("Need to be Greater than Zero"):Promise.resolve()}}}}}},6698:function(){}}]);
//# sourceMappingURL=193.8198a9c3.chunk.js.map