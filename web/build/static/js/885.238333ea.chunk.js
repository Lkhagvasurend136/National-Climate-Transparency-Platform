"use strict";(self.webpackChunkweb_mrv=self.webpackChunkweb_mrv||[]).push([[885],{6770:function(e,t,n){n.d(t,{A:function(){return d}});var a=n(6237),r=n(7419),i=n(1645),s=n(5696),c=n(8387),l=n(579),d=function(e){var t=e.calledIn,n=e.entId,d=e.isValidated;return(0,l.jsx)(r.A,{children:(0,l.jsx)(i.A,{children:(0,l.jsx)(s.A,{title:d?"Validated ".concat(t):void 0,showArrow:!1,placement:"right",children:(0,l.jsx)(c.A,{icon:d?(0,l.jsx)(a.A,{style:{color:"#8A1538"}}):void 0,className:"entity-id-card",children:"".concat(t," ID: ").concat(n)})})})})}},1048:function(e,t,n){n.d(t,{R:function(){return o}});var a=n(6655),r=n(1645),i=n(289),s=n(3307),c=n(7419),l=(n(6698),n(1966)),d=n(579),o=function(e){var t=e.rules,n=e.index,o=e.headerNames,u=e.kpi,m=e.updateKPI,p=e.removeKPI,h=e.isFromActivity;return(0,d.jsxs)(c.A,{gutter:30,className:"kpi-grid",children:[(0,d.jsx)(r.A,{span:12,children:(0,d.jsxs)(c.A,{gutter:30,children:[(0,d.jsx)(r.A,{span:12,children:(0,d.jsx)(i.A.Item,{label:(0,d.jsx)("label",{className:"form-item-header",children:o[0]}),name:"kpi_name_".concat(n),rules:h?[]:t,initialValue:null===u||void 0===u?void 0:u.name,children:(0,d.jsx)(s.A,{className:"form-input-box",onChange:function(e){m&&m(n,"name",e.target.value,"created")},disabled:h})})}),(0,d.jsx)(r.A,{span:12,children:(0,d.jsx)(i.A.Item,{label:(0,d.jsx)("label",{className:"form-item-header",children:o[1]}),name:"kpi_unit_".concat(n),rules:h?[]:t,initialValue:null===u||void 0===u?void 0:u.unit,children:(0,d.jsx)(s.A,{className:"form-input-box",onChange:function(e){m&&m(n,"unit",e.target.value,"created")},disabled:h})})})]})}),(0,d.jsx)(r.A,{span:12,children:(0,d.jsxs)(c.A,{gutter:15,children:[(0,d.jsx)(r.A,{span:h?12:11,children:(0,d.jsx)(i.A.Item,{label:(0,d.jsx)("label",{className:"form-item-header",children:o[2]}),name:"kpi_ach_".concat(n),initialValue:null===u||void 0===u?void 0:u.achieved,rules:h?t:[],children:(0,d.jsx)(s.A,{type:"number",min:0,step:.01,className:"form-input-box",onChange:function(e){m&&m(n,"achieved",e.target.value,"created")},disabled:!h})})}),(0,d.jsx)(r.A,{span:h?12:11,children:(0,d.jsx)(i.A.Item,{label:(0,d.jsx)("label",{className:"form-item-header",children:o[3]}),name:"kpi_exp_".concat(n),rules:h?[]:t,initialValue:null===u||void 0===u?void 0:u.expected,children:(0,d.jsx)(s.A,{type:"number",min:0,step:.01,className:"form-input-box",onChange:function(e){m&&m(n,"expected",e.target.value,"created")},disabled:h})})}),!h&&(0,d.jsx)(r.A,{span:2,children:(0,d.jsx)(a.A,{className:"delete-card",children:(0,d.jsx)(l.A,{style:{cursor:"pointer",color:"#3A3541",opacity:.8},onClick:function(){p&&p(n,"created")}})})})]})})]},n)}},1320:function(e,t,n){n.d(t,{r:function(){return o}});var a=n(1966),r=n(6655),i=n(1645),s=n(289),c=n(3307),l=n(7419),d=(n(6698),n(579)),o=function(e){var t=e.rules,n=e.index,o=e.headerNames,u=e.updateKPI,m=e.removeKPI;return(0,d.jsxs)(l.A,{gutter:30,className:"kpi-grid",children:[(0,d.jsx)(i.A,{span:12,children:(0,d.jsxs)(l.A,{gutter:30,children:[(0,d.jsx)(i.A,{span:12,children:(0,d.jsx)(s.A.Item,{label:(0,d.jsx)("label",{className:"form-item-header",children:o[0]}),name:"kpi_name_".concat(n),rules:t,children:(0,d.jsx)(c.A,{className:"form-input-box",onChange:function(e){u&&u(n,"name",e.target.value,"new")}})})}),(0,d.jsx)(i.A,{span:12,children:(0,d.jsx)(s.A.Item,{label:(0,d.jsx)("label",{className:"form-item-header",children:o[1]}),name:"kpi_unit_".concat(n),rules:t,children:(0,d.jsx)(c.A,{className:"form-input-box",onChange:function(e){u&&u(n,"unit",e.target.value,"new")}})})})]})}),(0,d.jsx)(i.A,{span:12,children:(0,d.jsxs)(l.A,{gutter:15,children:[(0,d.jsx)(i.A,{span:11,children:(0,d.jsx)(s.A.Item,{label:(0,d.jsx)("label",{className:"form-item-header",children:o[2]}),name:"kpi_ach_".concat(n),children:(0,d.jsx)(c.A,{type:"number",className:"form-input-box",disabled:!0})})}),(0,d.jsx)(i.A,{span:11,children:(0,d.jsx)(s.A.Item,{label:(0,d.jsx)("label",{className:"form-item-header",children:o[3]}),name:"kpi_exp_".concat(n),rules:t,children:(0,d.jsx)(c.A,{type:"number",min:0,step:.01,className:"form-input-box",onChange:function(e){u&&u(n,"expected",e.target.value,"new")}})})}),(0,d.jsx)(i.A,{span:2,children:(0,d.jsx)(r.A,{className:"delete-card",children:(0,d.jsx)(a.A,{style:{cursor:"pointer",color:"#3A3541",opacity:.8},onClick:function(){m&&m(n,"new")}})})})]})})]},n)}},2613:function(e,t,n){n.d(t,{Q:function(){return u}});var a=n(1645),r=n(289),i=n(3307),s=n(7419),c=n(5696),l=(n(6698),n(3722)),d=n(716),o=n(579),u=function(e){var t=e.index,n=e.inherited,u=e.headerNames,m=e.kpi,p=e.callingEntityId,h=e.ownerEntityId;return(0,o.jsxs)(s.A,{gutter:30,className:"kpi-grid",children:[(0,o.jsx)(a.A,{span:12,children:(0,o.jsxs)(s.A,{gutter:30,children:[(0,o.jsx)(a.A,{span:12,children:(0,o.jsx)(r.A.Item,{label:(0,o.jsx)("label",{className:"form-item-header",children:u[0]}),name:"kpi_name_".concat(t),initialValue:null===m||void 0===m?void 0:m.name,children:(0,o.jsx)(i.A,{className:"form-input-box",disabled:!0})})}),(0,o.jsx)(a.A,{span:12,children:(0,o.jsx)(r.A.Item,{label:(0,o.jsx)("label",{className:"form-item-header",children:u[1]}),name:"kpi_unit_".concat(t),initialValue:null===m||void 0===m?void 0:m.unit,children:(0,o.jsx)(i.A,{className:"form-input-box",disabled:!0})})})]})}),(0,o.jsx)(a.A,{span:12,children:(0,o.jsxs)(s.A,{gutter:15,children:[(0,o.jsx)(a.A,{span:11,children:(0,o.jsx)(r.A.Item,{label:(0,o.jsx)("label",{className:"form-item-header",children:u[2]}),name:"kpi_ach_".concat(t),initialValue:null===m||void 0===m?void 0:m.achieved,children:(0,o.jsx)(i.A,{type:"number",className:"form-input-box",disabled:!0})})}),(0,o.jsx)(a.A,{span:11,children:(0,o.jsx)(r.A.Item,{label:(0,o.jsx)("label",{className:"form-item-header",children:u[3]}),name:"kpi_exp_".concat(t),initialValue:null===m||void 0===m?void 0:m.expected,children:(0,o.jsx)(i.A,{type:"number",className:"form-input-box",disabled:!0})})}),(0,o.jsx)(a.A,{span:2,children:(0,o.jsx)(c.A,{placement:"topLeft",title:n?"Inherited from ".concat(h):"Owned by ".concat(p),showArrow:!1,children:n?(0,o.jsx)(d.A,{className:"inherited-kpi"}):(0,o.jsx)(l.A,{className:"self-owned-kpi"})})})]})})]},t)}},9190:function(e,t,n){n.d(t,{A:function(){return b}});var a=n(2007),r=n(467),i=n(5544),s=n(460),c=n(3835),l=n(5043),d=n(2856),o=n(4117),u=n(318),m=n(2413),p=n(3627),h=n(4853),f=n(7589),A=n(8572),x=n(5432),j=n(8417),v=n(579),b=function(e){var t=e.recordType,n=e.recordId,b=(0,d.w5)().post,g=(0,o.Bd)(["updateTimeline"]).t,y=(0,l.useState)(!1),I=(0,i.A)(y,2),k=I[0],N=I[1],S=(0,l.useState)([]),w=(0,i.A)(S,2),T=w[0],C=w[1],H=function(){var e=(0,r.A)((0,a.A)().m(function e(){var r,i,s;return(0,a.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return N(!0),e.p=1,r={recordType:t,recordId:n},e.n=2,b("national/log/query",r);case 2:(i=e.v)&&C(i.data),e.n=4;break;case 3:e.p=3,s=e.v,(0,j.s)(s);case 4:return e.p=4,N(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)(function(){H()},[]);var F=function(e){switch(e){case"0":case"5":case"8":case"12":case"22":return(0,v.jsx)("span",{className:"step-icon created-step",children:(0,v.jsx)(u.A,{})});case"3":case"6":case"9":case"10":case"13":case"14":case"23":case"24":return(0,v.jsx)("span",{className:"step-icon link-step",children:(0,v.jsx)(m.A,{})});case"7":case"11":case"15":case"27":return(0,v.jsx)("span",{className:"step-icon unlink-step",children:(0,v.jsx)(m.A,{})});case"1":return(0,v.jsx)("span",{className:"step-icon addkpi-step",children:(0,v.jsx)(p.A,{})});case"18":case"19":case"21":case"25":case"28":return(0,v.jsx)("span",{className:"step-icon verify-step",children:(0,v.jsx)(h.A,{})});case"30":case"31":case"32":case"33":case"34":case"35":case"36":case"37":case"38":case"39":case"40":case"41":case"42":case"43":case"44":case"45":case"46":case"47":case"48":case"49":case"50":case"51":case"52":case"53":case"54":return(0,v.jsx)("span",{className:"step-icon unverify-step",children:(0,v.jsx)(f.A,{})});default:return(0,v.jsx)("span",{className:"step-icon default-step",children:(0,v.jsx)(A.A,{})})}},D=T.map(function(e,t){return{key:t,title:(0,v.jsxs)("span",{children:[(0,v.jsxs)("strong",{children:[null===e.user_id?"System":e.user_name," "]})," ",g(e.eventType)," ",e.logData&&" - ".concat(e.logData),(0,v.jsxs)("span",{className:"date",children:[" - ","".concat((0,x.n5)(Number(e.createdTime)))]})]}),icon:F(e.eventType),status:"process"}});return(0,v.jsx)("div",{className:"info-view",children:(0,v.jsx)("div",{className:"content",children:k?(0,v.jsx)(s.A,{}):(0,v.jsx)(c.A,{direction:"vertical",current:0,items:D})})})}},9217:function(e,t,n){n.d(t,{F:function(){return s}});var a=n(4117),r=n(9933),i=n(579),s=function(){var e=(0,a.Bd)(["formTable"]).t;return[{title:e("activityIdTitle"),dataIndex:"activityId",key:"activityId",render:function(e,t){return(0,i.jsx)("a",{href:"/activities/view/".concat(t.activityId),children:t.activityId})}},{title:e("titleTitle"),dataIndex:"title",key:"title"},{title:e("redMeasuresTitle"),dataIndex:"reductionMeasures",key:"reductionMeasures"},{title:e("statusTitle"),dataIndex:"status",key:"status"},{title:e("natImplementorTitle"),width:250,render:function(e,t){return(0,i.jsx)(r.A,{listToShow:t.natImplementor})}}]}},6499:function(e,t,n){n.d(t,{r:function(){return i}});var a=n(4117),r=n(579),i=function(){var e=(0,a.Bd)(["formTable"]).t;return[{title:e("supportIdTitle"),dataIndex:"supportId",key:"supportId",render:function(e,t){return(0,r.jsx)("a",{href:"/support/view/".concat(t.supportId),children:t.supportId})}},{title:e("financeNatureTitle"),dataIndex:"financeNature",key:"financeNature"},{title:e("directionTitle"),dataIndex:"direction",key:"direction"},{title:e("finInstrumentTitle"),dataIndex:"finInstrument",key:"finInstrument"},{title:e("neededUSDHeader"),dataIndex:"estimatedUSD",key:"estimatedUSD"},{title:e("neededLCLHeader"),dataIndex:"estimatedLC",key:"estimatedLC"},{title:e("recievedUSDHeader"),dataIndex:"recievedUSD",key:"recievedUSD"},{title:e("recievedLCLHeader"),dataIndex:"recievedLC",key:"recievedLC"}]}},1885:function(e,t,n){n.r(t),n.d(t,{default:function(){return Q}});var a=n(9379),r=n(4467),i=n(436),s=n(2007),c=n(467),l=n(5544),d=n(4117),o=n(4406),u=n(3307),m=n(289),p=n(8193),h=n(7419),f=n(1645),A=n(9421),x=n(5696),j=n(5397),v=n(1966),b=n(4236),g=n(5043),y=n(8228),I=n(3216),k=n(4241),N=n(2856),S=function(e){return e.PLANNED="Planned",e.ONGOING="Ongoing",e.COMPLETED="Completed",e}({}),w=n(5515),T=n(6770),C=n(1054),H=n(5432),F=n(1186),D=n(5693),E=n(6240),_=n(6499),z=n(9217),P=n(9190),V=n(1320),U=n(2613),R=n(1048),L=n(8255),O=n(9620),Y=n(8417),G=n(1713),W=n(9662),q=n(579),M=o.A.Option,B=u.A.TextArea,K=30,Z="13px",Q=function(e){for(var t=e.method,n=m.A.useForm(),Q=(0,l.A)(n,1)[0],J=(0,d.Bd)(["projectForm","tableAction","detachPopup","formHeader","entityAction","error"]).t,$="view"===t,X=(0,H.$T)("Project",t),ee=(0,I.Zp)(),te=(0,N.w5)(),ne=te.get,ae=te.post,re=te.put,ie=te.delete,se=(0,E.V8)(),ce=(0,G.ur)(),le=ce.isValidationAllowed,de=ce.setIsValidationAllowed,oe=(0,I.g)().entId,ue=(0,C.F)(t),me=(0,g.useState)(!1),pe=(0,l.A)(me,2),he=pe[0],fe=pe[1],Ae=(0,g.useState)([]),xe=(0,l.A)(Ae,2),je=xe[0],ve=xe[1],be=(0,g.useState)(),ge=(0,l.A)(be,2),ye=ge[0],Ie=ge[1],ke=(0,g.useState)(),Ne=(0,l.A)(ke,2),Se=Ne[0],we=Ne[1],Te=(0,g.useState)([]),Ce=(0,l.A)(Te,2),He=Ce[0],Fe=Ce[1],De=(0,g.useState)([]),Ee=(0,l.A)(De,2),_e=Ee[0],ze=Ee[1],Pe=(0,g.useState)([]),Ve=(0,l.A)(Pe,2),Ue=Ve[0],Re=Ve[1],Le=(0,g.useState)(!0),Oe=(0,l.A)(Le,2),Ye=Oe[0],Ge=Oe[1],We=(0,g.useState)(!1),qe=(0,l.A)(We,2),Me=qe[0],Be=qe[1],Ke=(0,g.useState)(!1),Ze=(0,l.A)(Ke,2),Qe=Ze[0],Je=Ze[1],$e=(0,g.useState)(!1),Xe=(0,l.A)($e,2),et=Xe[0],tt=Xe[1],nt=(0,g.useState)(!1),at=(0,l.A)(nt,2),rt=at[0],it=at[1],st=(0,g.useState)([]),ct=(0,l.A)(st,2),lt=ct[0],dt=ct[1],ot=(0,g.useState)(1),ut=(0,l.A)(ot,2),mt=ut[0],pt=ut[1],ht=(0,g.useState)(10),ft=(0,l.A)(ht,2),At=ft[0],xt=ft[1],jt=(0,g.useState)([]),vt=(0,l.A)(jt,2),bt=vt[0],gt=vt[1],yt=(0,g.useState)(1),It=(0,l.A)(yt,2),kt=It[0],Nt=It[1],St=(0,g.useState)(10),wt=(0,l.A)(St,2),Tt=wt[0],Ct=wt[1],Ht=(0,g.useState)(!1),Ft=(0,l.A)(Ht,2),Dt=Ft[0],Et=Ft[1],_t=(0,g.useState)(0),zt=(0,l.A)(_t,2),Pt=zt[0],Vt=zt[1],Ut=(0,g.useState)([]),Rt=(0,l.A)(Ut,2),Lt=Rt[0],Ot=Rt[1],Yt=(0,g.useState)([]),Gt=(0,l.A)(Yt,2),Wt=Gt[0],qt=Gt[1],Mt=(0,g.useState)([]),Bt=(0,l.A)(Mt,2),Kt=Bt[0],Zt=Bt[1],Qt=(0,g.useState)(!1),Jt=(0,l.A)(Qt,2),$t=Jt[0],Xt=Jt[1],en=(0,g.useState)(),tn=(0,l.A)(en,2),nn=tn[0],an=tn[1],rn=(0,g.useState)(),sn=(0,l.A)(rn,2),cn=sn[0],ln=sn[1],dn=[],on=2013;on<=2050;on++)dn.push(on);var un=(0,z.F)(),mn=(0,_.r)(),pn=function(){var e=(0,c.A)((0,s.A)().m(function e(n){var a,r,i,c;return(0,s.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:for(a in e.p=0,tt(!0),n)a.startsWith("kpi_")&&delete n[a];if(He.length>0&&("create"===t?(n.documents=[],He.forEach(function(e){n.documents.push({title:e.title,data:e.data})})):"update"===t&&(n.newDocuments=[],He.forEach(function(e){n.newDocuments.push({title:e.title,data:e.data})}))),Ue.length>0&&(n.removedDocuments=[],Ue.forEach(function(e){var t;n.removedDocuments.push(null===(t=_e.find(function(t){return t.key===e}))||void 0===t?void 0:t.url)})),"create"===t&&Kt.length>0?(n.kpis=[],Kt.forEach(function(e){n.kpis.push({name:e.name,kpiUnit:e.unit,creatorType:"project",expected:e.expected})})):"update"===t&&$t&&(n.kpis=[],Kt.forEach(function(e){n.kpis.push({name:e.name,kpiUnit:e.unit,creatorType:"project",expected:e.expected,kpiAction:w.ZV.CREATED})}),Lt.forEach(function(e){n.kpis.push({kpiId:e.id,kpiUnit:e.unit,name:e.name,creatorType:"project",expected:e.expected,kpiAction:e.kpiAction})})),lt.length>0&&"create"===t&&(n.linkedActivities=[],lt.forEach(function(e){n.linkedActivities.push(e.activityId)})),n.programmeId||(n.programmeId=""),n.startYear=parseInt(n.startYear),n.endYear=parseInt(n.endYear),"create"!==t){e.n=2;break}return e.n=1,ae("national/projects/add",(0,L.x)(n,"project"));case 1:r=e.v,e.n=4;break;case 2:if("update"!==t){e.n=4;break}return n.projectId=oe,e.n=3,re("national/projects/update",(0,L.x)(n,"project"));case 3:r=e.v;case 4:if(i=J("create"===t?"projectCreationSuccess":"projectUpdateSuccess"),200!==r.status&&201!==r.status){e.n=6;break}return e.n=5,new Promise(function(e){setTimeout(e,500)});case 5:return p.Ay.open({type:"success",content:i,duration:3,style:{textAlign:"right",marginRight:15,marginTop:10}}),e.n=6,new Promise(function(e){setTimeout(e,500)});case 6:e.n=8;break;case 7:return e.p=7,c=e.v,(0,Y.s)(c),e.n=8,new Promise(function(e){setTimeout(e,500)});case 8:return e.p=8,tt(!1),ee("/projects"),e.f(8);case 9:return e.a(2)}},e,null,[[0,7,8,9]])}));return function(t){return e.apply(this,arguments)}}(),hn=function(){var e=(0,c.A)((0,s.A)().m(function e(){var t,n,a,r;return(0,s.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,it(!0),!oe){e.n=2;break}return t={entityId:oe,validateStatus:!he},e.n=1,ae("national/projects/validateStatus",t);case 1:200!==(n=e.v).status&&201!==n.status||(p.Ay.open({type:"success",content:J(he?"projectUnvalidateSuccess":"projectValidateSuccess"),duration:3,style:{textAlign:"right",marginRight:15,marginTop:10}}),ee("/projects"));case 2:e.n=7;break;case 3:if(e.p=3,null===(a=e.v)||void 0===a||!a.status){e.n=6;break}if(403!==a.status){e.n=5;break}return r=de,e.n=4,(0,H.e)(ne);case 4:r(e.v);case 5:(0,Y.s)(a),e.n=7;break;case 6:(0,Y.s)(a,"".concat(oe," Validation Failed"));case 7:return e.p=7,it(!1),e.f(7);case 8:return e.a(2)}},e,null,[[0,3,7,8]])}));return function(){return e.apply(this,arguments)}}(),fn=function(){var e=(0,c.A)((0,s.A)().m(function e(){var t,n,a;return(0,s.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,tt(!0),e.n=1,(0,H.cb)(1e3);case 1:if(!oe){e.n=3;break}return t={entityId:oe},e.n=2,ie("national/projects/delete",t);case 2:200!==(n=e.v).status&&201!==n.status||(p.Ay.open({type:"success",content:J("projectDeleteSuccess"),duration:3,style:{textAlign:"right",marginRight:15,marginTop:10}}),ee("/projects"));case 3:e.n=5;break;case 4:e.p=4,null!==(a=e.v)&&void 0!==a&&a.message?(0,Y.s)(a):(0,Y.s)(a,"".concat(oe," Delete Failed"));case 5:return e.p=5,tt(!1),e.f(5);case 6:return e.a(2)}},e,null,[[0,4,5,6]])}));return function(){return e.apply(this,arguments)}}(),An=function(e,n){"new"===n?(Zt(Kt.filter(function(t){return t.index!==e})),"update"===t&&Ge(!1)):(Ot(Lt.filter(function(t){return t.index!==e})),Ge(!1));var a=(0,r.A)((0,r.A)((0,r.A)({},"kpi_name_".concat(e),void 0),"kpi_unit_".concat(e),void 0),"kpi_exp_".concat(e),void 0);Q.setFieldsValue(a)},xn=function(e,t,n,i){"new"===i?Zt(function(i){return i.map(function(i){return i.index===e?(0,a.A)((0,a.A)({},i),{},(0,r.A)({},t,"expected"===t?parseFloat(n):n)):i})}):Ot(function(i){return i.map(function(i){return i.index===e?(i.kpiAction=w.ZV.UPDATED,(0,a.A)((0,a.A)({},i),{},(0,r.A)({},t,"expected"===t?parseFloat(n):n))):i})})},jn=function(){var e=(0,c.A)((0,s.A)().m(function e(n){var a,r,i,c;return(0,s.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if("undefined"!==typeof n){e.n=1;break}qt([]),e.n=5;break;case 1:if("view"===t){e.n=5;break}return e.p=2,e.n=3,ne("national/kpis/achieved/programme/".concat(n));case 3:200!==(a=e.v).status&&201!==a.status||(r=[],i=Pt,a.data.forEach(function(e){var t,n;r.push({index:i,creator:e.creatorId,id:e.kpiId,name:e.name,unit:e.kpiUnit,achieved:parseFloat(null!==(t=e.achieved)&&void 0!==t?t:0),expected:parseFloat(null!==(n=e.expected)&&void 0!==n?n:0),kpiAction:w.ZV.NONE}),i+=1}),Vt(i),qt(r)),e.n=5;break;case 4:e.p=4,c=e.v,console.log(c,J("kpiSearchFailed"));case 5:return e.a(2)}},e,null,[[2,4]])}));return function(t){return e.apply(this,arguments)}}(),vn=function(){var e=(0,c.A)((0,s.A)().m(function e(){var t,n,a,r;return(0,s.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,t={sort:{key:"programmeId",order:"ASC"}},e.n=1,ae("national/programmes/query",t);case 1:n=e.v,a=[],n.data.forEach(function(e){a.push({id:e.programmeId,title:e.title})}),ve(a),e.n=3;break;case 2:e.p=2,r=e.v,(0,Y.s)(r);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),bn=function(){var e=(0,c.A)((0,s.A)().m(function e(){var n,a,r,i,c,l,d,o,u,m,p,h,f,A,x,j,v,b,g,y,I,k,N,S,w,T,C,F,D;return(0,s.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if("create"===t||!oe){e.n=5;break}return e.p=1,e.n=2,ne("national/projects/".concat(oe));case 2:200!==(n=e.v).status&&201!==n.status||(T=n.data,Q.setFieldsValue({title:T.title,description:T.description,additionalProjectNumber:null!==(a=T.additionalProjectNumber)&&void 0!==a?a:void 0,projectStatus:T.projectStatus,startYear:T.startYear,endYear:T.endYear,expectedTimeFrame:T.expectedTimeFrame,recipientEntities:T.recipientEntities,internationalImplementingEntities:null!==(r=null===(i=T.migratedData)||void 0===i?void 0:i.internationalImplementingEntities)&&void 0!==r?r:[],comment:null!==(c=T.comment)&&void 0!==c?c:void 0}),an(T.startYear),ln(T.endYear),fe(null!==(l=T.validated)&&void 0!==l&&l),(null===(d=T.documents)||void 0===d?void 0:d.length)>0&&(C=[],T.documents.forEach(function(e){C.push({key:e.createdTime,title:e.title,url:e.url})}),ze(C)),T.programme&&(Ie(T.programme.programmeId),null!==(F=T.programme)&&void 0!==F&&F.path&&we(T.programme.path)),D=null!==(o=null===(u=T.migratedData)||void 0===u?void 0:u.meansOfImplementation)&&void 0!==o?o:[],Q.setFieldsValue({techDevContribution:D.includes("Technology Development & Transfer")?"Yes":"No",capBuildObjectives:D.includes("Capacity Building")?"Yes":"No",techType:null!==(m=null===(p=T.migratedData)||void 0===p?void 0:p.technologyTypes)&&void 0!==m?m:[],neededUSD:(0,H.aE)(null!==(h=null===(f=T.migratedData)||void 0===f?void 0:f.estimatedAmount)&&void 0!==h?h:0),neededLCL:(0,H.aE)(null!==(A=null===(x=T.migratedData)||void 0===x?void 0:x.estimatedAmountDomestic)&&void 0!==A?A:0),receivedUSD:(0,H.aE)(null!==(j=null===(v=T.migratedData)||void 0===v?void 0:v.receivedAmount)&&void 0!==j?j:0),receivedLCL:(0,H.aE)(null!==(b=null===(g=T.migratedData)||void 0===g?void 0:g.receivedAmountDomestic)&&void 0!==b?b:0),achievedGHGReduction:null!==(y=null===(I=T.migratedData)||void 0===I?void 0:I.achievedGHGReduction)&&void 0!==y?y:0,expectedGHGReduction:null!==(k=null===(N=T.migratedData)||void 0===N?void 0:N.expectedGHGReduction)&&void 0!==k?k:0,recipient:null!==(S=null===(w=T.migratedData)||void 0===w?void 0:w.recipientEntities)&&void 0!==S?S:[]})),e.n=4;break;case 3:e.p=3,e.v,ee("/projects");case 4:Ge(!0);case 5:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),gn=function(){var e=(0,c.A)((0,s.A)().m(function e(){var n,a,r,i,c;return(0,s.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if("create"===t||!oe){e.n=4;break}return e.p=1,e.n=2,ne("national/kpis/achieved/project/".concat(oe));case 2:200!==(n=e.v).status&&201!==n.status||(a=[],r=[],i=Pt,n.data.forEach(function(e){var t,n,s,c;e.creatorId===oe?a.push({index:i,creator:oe,id:e.kpiId,name:e.name,unit:e.kpiUnit,achieved:parseFloat(null!==(t=e.achieved)&&void 0!==t?t:0),expected:parseFloat(null!==(n=e.expected)&&void 0!==n?n:0),kpiAction:w.ZV.NONE}):r.push({index:i,creator:e.creatorId,id:e.kpiId,name:e.name,unit:e.kpiUnit,achieved:parseFloat(null!==(s=e.achieved)&&void 0!==s?s:0),expected:parseFloat(null!==(c=e.expected)&&void 0!==c?c:0),kpiAction:w.ZV.NONE});i+=1}),Vt(i),Ot(a),qt(r),(a.length>0||r.length>0)&&Xt(!0)),e.n=4;break;case 3:e.p=3,c=e.v,console.log(c,J("kpiSearchFailed"));case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),yn=function(){var e=(0,c.A)((0,s.A)().m(function e(){var n,a,r,i;return(0,s.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if("create"===t){e.n=4;break}return e.p=1,n={filterAnd:[{key:"parentId",operation:"=",value:oe}],sort:{key:"activityId",order:"ASC"}},e.n=2,ae("national/activities/query",n);case 2:a=e.v,r=[],a.data.forEach(function(e,t){var n,a,i;r.push({key:t.toString(),activityId:e.activityId,title:e.title,reductionMeasures:e.measure,status:e.status,natImplementor:null!==(n=e.nationalImplementingEntity)&&void 0!==n?n:[],ghgsAffected:e.ghgsAffected,achievedReduction:null!==(a=e.achievedGHGReduction)&&void 0!==a?a:0,estimatedReduction:null!==(i=e.expectedGHGReduction)&&void 0!==i?i:0,technologyType:e.technologyType,meansOfImplementation:e.meansOfImplementation})}),dt(r),e.n=4;break;case 3:e.p=3,i=e.v,(0,Y.s)(i);case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),In=function(){var e=(0,c.A)((0,s.A)().m(function e(){var t,n,a;return(0,s.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!Se){e.n=5;break}return e.p=1,e.n=2,ne("national/actions/".concat(Se));case 2:200!==(t=e.v).status&&201!==t.status||(n=t.data,Q.setFieldsValue({type:n.type,actionTitle:n.title,natAnchor:n.natAnchor}),Be((0,H.Mg)(n.type))),e.n=4;break;case 3:e.p=3,a=e.v,ee("/projects"),(0,Y.s)(a,J("actionNotFound"));case 4:e.n=6;break;case 5:Q.setFieldsValue({actionTitle:void 0,natAnchor:void 0});case 6:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),kn=function(){var e=(0,c.A)((0,s.A)().m(function e(){var t,n,a;return(0,s.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!ye){e.n=5;break}return e.p=1,e.n=2,ne("national/programmes/".concat(ye));case 2:200!==(t=e.v).status&&201!==t.status||(n=t.data,Q.setFieldsValue({programmeId:n.programmeId,programmeTitle:n.title,instrTypes:n.instrumentType,sector:n.sector,subSectorsAffected:n.affectedSubSector,nationalImplementor:n.nationalImplementor}),we(n.actionId)),e.n=4;break;case 3:e.p=3,a=e.v,ee("/projects"),(0,Y.s)(a,J("programmeNotFound"));case 4:e.n=6;break;case 5:Q.setFieldsValue({programmeId:void 0,programmeTitle:void 0,instrTypes:void 0,sector:void 0,subSectorsAffected:void 0,nationalImplementor:void 0}),we(void 0);case 6:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),Nn=function(){var e=(0,c.A)((0,s.A)().m(function e(){var t,n,a,r;return(0,s.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t={filterOr:[],sort:{key:"supportId",order:"ASC"}},!(lt.length>0)){e.n=5;break}return e.p=1,lt.forEach(function(e){t.filterOr.push({key:"activityId",operation:"=",value:e.activityId})}),e.n=2,ae("national/supports/query",t);case 2:n=e.v,a=[],n.data.forEach(function(e,t){var n,r,i,s;a.push({key:t.toString(),supportId:e.supportId,financeNature:e.financeNature,direction:e.direction,finInstrument:"International"===e.financeNature?e.internationalFinancialInstrument:e.nationalFinancialInstrument,estimatedUSD:null!==(n=e.requiredAmount)&&void 0!==n?n:0,estimatedLC:null!==(r=e.requiredAmountDomestic)&&void 0!==r?r:0,recievedUSD:null!==(i=e.receivedAmount)&&void 0!==i?i:0,recievedLC:null!==(s=e.receivedAmountDomestic)&&void 0!==s?s:0})}),gt(a),e.n=4;break;case 3:e.p=3,r=e.v,(0,Y.s)(r);case 4:e.n=6;break;case 5:gt([]);case 6:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}();return(0,g.useEffect)(function(){In()},[Se]),(0,g.useEffect)(function(){kn()},[ye]),(0,g.useEffect)(function(){Nn()},[lt]),(0,g.useEffect)(function(){nn&&cn&&cn>=nn?Q.setFieldsValue({expectedTimeFrame:cn-nn}):Q.setFieldsValue({expectedTimeFrame:void 0})},[nn,cn]),(0,g.useEffect)(function(){Promise.all([vn(),bn(),gn(),yn()]).then(function(){Je(!0)})},[]),(0,q.jsxs)("div",{className:"content-container",children:[(0,q.jsx)(W.A,{icon:(0,q.jsx)(v.A,{style:{color:"#ff4d4f",fontSize:"120px"}}),isDanger:!0,content:{primaryMsg:"".concat(J("deletePrimaryMsg")," ").concat(oe),secondaryMsg:J("deleteSecondaryMsg"),cancelTitle:J("entityAction:cancel"),actionTitle:J("entityAction:delete")},actionRef:oe,doAction:fn,open:Dt,setOpen:Et},"delete_popup"),(0,q.jsx)("div",{className:"title-bar",children:(0,q.jsx)("div",{className:"body-title",children:J(X)})}),(0,q.jsx)(m.A,{form:Q,onFinish:pn,layout:"vertical",onValuesChange:function(){Ge(!1)},children:!et&&Qe?(0,q.jsxs)("div",{className:"project-form",children:[(0,q.jsxs)("div",{className:"form-section-card",children:[(0,q.jsx)("div",{className:"form-section-header",children:J("generalInfoTitle")}),"create"!==t&&oe&&(0,q.jsx)(T.A,{calledIn:"Project",entId:oe,isValidated:he}),(0,q.jsxs)(h.A,{gutter:K,children:[(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O.FW),{},{children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("selectProgrammeHeader")}),name:"programmeId",children:(0,q.jsxs)(o.A,{size:"large",style:{fontSize:Z},allowClear:!0,disabled:"view"===t,showSearch:!0,onChange:function(e){Ie(e),jn(e)},children:[je.map(function(e){return(0,q.jsx)(M,{value:e.id,children:"(".concat(e.id,") - ").concat(e.title)},e.id)}),(0,q.jsx)(M,{value:"",children:"None"},0)]})})})),(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O.FW),{},{children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("formHeader:typesTitle")}),name:"type",children:(0,q.jsx)(o.A,{size:"large",style:{fontSize:Z},disabled:!0})})}))]}),(0,q.jsxs)(h.A,{gutter:K,children:[(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O.FW),{},{children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("projTitleHeader")}),name:"title",rules:[ue.required],children:(0,q.jsx)(u.A,{className:"form-input-box",disabled:$})})})),(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O.FW),{},{children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("projDescHeader")}),name:"description",rules:[ue.required],children:(0,q.jsx)(B,{maxLength:250,rows:3,disabled:$})})}))]}),(0,q.jsxs)(h.A,{gutter:K,children:[(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O.FW),{},{children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("projectNumberHeader")}),name:"additionalProjectNumber",children:(0,q.jsx)(u.A,{className:"form-input-box",disabled:$})})})),(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O.FW),{},{children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("actionTitleHeader")}),name:"actionTitle",children:(0,q.jsx)(u.A,{className:"form-input-box",disabled:!0})})}))]}),(0,q.jsxs)(h.A,{gutter:K,children:[(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O.FW),{},{children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("programmeTitleHeader")}),name:"programmeTitle",children:(0,q.jsx)(u.A,{className:"form-input-box",disabled:!0})})})),(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O.FW),{},{children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("formHeader:natAnchorHeader")}),name:"natAnchor",children:(0,q.jsx)(o.A,{size:"large",style:{fontSize:Z},mode:"multiple",allowClear:!0,disabled:!0})})}))]}),(0,q.jsxs)(h.A,{gutter:K,children:[(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O.FW),{},{children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("formHeader:instrumentTypeHeader")}),name:"instrTypes",children:(0,q.jsx)(o.A,{size:"large",style:{fontSize:Z},mode:"multiple",allowClear:!0,disabled:!0})})})),(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O.FW),{},{children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("projectStatusHeader")}),name:"projectStatus",rules:[ue.required],children:(0,q.jsx)(o.A,{size:"large",style:{fontSize:Z},allowClear:!0,disabled:$,showSearch:!0,children:Object.values(S).map(function(e){return(0,q.jsx)(M,{value:e,children:e},e)})})})}))]}),(0,q.jsxs)(h.A,{gutter:K,children:[(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O._C),{},{children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("formHeader:sectorsAffectedHeader")}),name:"sector",children:(0,q.jsx)(o.A,{size:"large",style:{fontSize:Z},disabled:!0})})})),(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O._C),{},{children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("formHeader:subSectorsAffectedHeader")}),name:"subSectorsAffected",children:(0,q.jsx)(o.A,{size:"large",style:{fontSize:Z},mode:"multiple",allowClear:!0,disabled:!0})})})),(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O._C),{},{children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("formHeader:startYearTitle")}),name:"startYear",rules:[ue.required,function(e){var t=e.getFieldValue;return{validator:function(e,n){return!n||t("endYear")>=n?Promise.resolve():Promise.reject("Cannot be greater than End Year!")}}}],dependencies:["endYear"],children:(0,q.jsx)(o.A,{size:"large",style:{fontSize:Z},allowClear:!0,disabled:$,showSearch:!0,onChange:function(e){an(e)},children:dn.slice(0,-1).map(function(e){return(0,q.jsx)(M,{value:e,children:e},e)})})})})),(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O._C),{},{children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("formHeader:endYearTitle")}),name:"endYear",rules:[ue.required,function(e){var t=e.getFieldValue;return{validator:function(e,n){return!n||t("startYear")<=n?Promise.resolve():Promise.reject("Cannot be lower than Start Year!")}}}],dependencies:["startYear"],children:(0,q.jsx)(o.A,{size:"large",style:{fontSize:Z},allowClear:!0,disabled:$,showSearch:!0,onChange:function(e){ln(e)},children:dn.slice(1).map(function(e){return(0,q.jsx)(M,{value:e,children:e},e)})})})}))]}),(0,q.jsxs)(h.A,{gutter:K,children:[(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O._C),{},{children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("formHeader:timeFrameHeader")}),name:"expectedTimeFrame",children:(0,q.jsx)(u.A,{type:"number",className:"form-input-box",disabled:!0})})})),(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O._C),{},{children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("formHeader:natImplementerHeader")}),name:"nationalImplementor",children:(0,q.jsx)(o.A,{size:"large",style:{fontSize:Z},mode:"multiple",allowClear:!0,disabled:!0})})})),(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O.FW),{},{children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("formHeader:techTypeHeader")}),name:"techType",children:(0,q.jsx)(o.A,{size:"large",style:{fontSize:Z},mode:"multiple",allowClear:!0,disabled:!0})})}))]}),(0,q.jsxs)(h.A,{gutter:K,children:[(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O.FW),{},{children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("formHeader:recipientEntityHeader")}),name:"recipient",children:(0,q.jsx)(o.A,{size:"large",style:{fontSize:Z},mode:"multiple",allowClear:!0,disabled:!0,children:Object.values(w.eo).map(function(e){return(0,q.jsx)(M,{value:e,children:e},e)})})})})),(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O.FW),{},{children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("formHeader:intImplementerHeader")}),name:"internationalImplementingEntities",children:(0,q.jsx)(o.A,{size:"large",style:{fontSize:Z},mode:"multiple",allowClear:!0,disabled:!0})})}))]}),(0,q.jsxs)(h.A,{gutter:K,children:[(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O.FW),{},{children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("formHeader:techDevHeader")}),name:"techDevContribution",children:(0,q.jsx)(u.A,{className:"form-input-box",disabled:!0})})})),(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O.FW),{},{children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("formHeader:capBuildHeader")}),name:"capBuildObjectives",children:(0,q.jsx)(u.A,{className:"form-input-box",disabled:!0})})}))]}),(0,q.jsx)("div",{className:"form-section-sub-header",children:J("formHeader:documentsHeader")}),(0,q.jsx)(k.A,{isSingleColumn:!1,usedIn:t,buttonText:J("entityAction:upload"),storedFiles:_e,uploadedFiles:He,setUploadedFiles:Fe,removedFiles:Ue,setRemovedFiles:Re,setIsSaveButtonDisabled:Ge}),Me&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)("div",{className:"form-section-header",children:J("formHeader:projectResultsInfoTitle")}),(0,q.jsx)("div",{className:"form-section-sub-header",children:J("formHeader:emissionInfoTitle")}),(0,q.jsxs)(h.A,{gutter:K,children:[(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O.FW),{},{children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("formHeader:achieved")}),name:"achievedGHGReduction",children:(0,q.jsx)(u.A,{type:"number",className:"form-input-box",disabled:!0})})})),(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O.FW),{},{children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("formHeader:expected")}),name:"expectedGHGReduction",children:(0,q.jsx)(u.A,{type:"number",className:"form-input-box",disabled:!0})})}))]})]}),("create"===t||"update"===t||"view"===t&&(Wt.length>0||Lt.length>0))&&(0,q.jsx)("div",{className:"form-section-sub-header",children:J("formHeader:kpiInfoTitle")}),Wt.length>0&&Wt.map(function(e){return(0,q.jsx)(U.Q,{index:e.index,inherited:!0,headerNames:[J("formHeader:kpiName"),J("formHeader:kpiUnit"),J("formHeader:achieved"),J("formHeader:expected")],kpi:e,callingEntityId:oe,ownerEntityId:e.creator},e.index)}),"view"===t&&Lt.map(function(e){return(0,q.jsx)(U.Q,{index:e.index,inherited:!1,headerNames:[J("formHeader:kpiName"),J("formHeader:kpiUnit"),J("formHeader:achieved"),J("formHeader:expected")],kpi:e,callingEntityId:oe,ownerEntityId:e.creator},e.index)}),"update"===t&&Lt.map(function(e){return(0,q.jsx)(R.R,{index:e.index,form:Q,rules:[ue.required],isFromActivity:!1,headerNames:[J("formHeader:kpiName"),J("formHeader:kpiUnit"),J("formHeader:achieved"),J("formHeader:expected")],kpi:e,updateKPI:xn,removeKPI:An},e.index)}),Kt.map(function(e){return(0,q.jsx)(V.r,{form:Q,rules:[ue.required],index:e.index,headerNames:[J("formHeader:kpiName"),J("formHeader:kpiUnit"),J("formHeader:achieved"),J("formHeader:expected")],updateKPI:xn,removeKPI:An},e.index)}),(0,q.jsx)(h.A,{justify:"start",children:(0,q.jsx)(f.A,{span:2,children:!$&&(0,q.jsx)(A.A,{icon:(0,q.jsx)(b.A,{style:{color:"#3A3541"}}),className:"create-kpi-button",onClick:function(){var e={index:Pt,name:"",unit:"",achieved:void 0,expected:0};Vt(function(e){return e+1}),Zt(function(t){return[].concat((0,i.A)(t),[e])}),Xt(!0),Ge(!1)},children:(0,q.jsx)("span",{className:"kpi-add-text",children:J("entityAction:addKPI")})})})}),(0,q.jsx)(h.A,{gutter:K,children:(0,q.jsx)(f.A,{span:24,children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("programmeCommentsTitle")}),name:"comment",children:(0,q.jsx)(B,{rows:3,disabled:$})})})}),(0,q.jsx)("div",{className:"form-section-header",children:J("financeInfoTitle")}),(0,q.jsxs)(h.A,{gutter:K,children:[(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O._C),{},{children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("neededUSDHeader")}),name:"neededUSD",children:(0,q.jsx)(u.A,{className:"form-input-box",disabled:!0})})})),(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O._C),{},{children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("neededLCLHeader")}),name:"neededLCL",children:(0,q.jsx)(u.A,{className:"form-input-box",disabled:!0})})})),(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O._C),{},{children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("recievedUSDHeader")}),name:"receivedUSD",children:(0,q.jsx)(u.A,{className:"form-input-box",disabled:!0})})})),(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O._C),{},{children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("label",{className:"form-item-header",children:J("recievedLCLHeader")}),name:"receivedLCL",children:(0,q.jsx)(u.A,{className:"form-input-box",disabled:!0})})}))]})]}),"create"!==t&&(0,q.jsxs)("div",{className:"form-section-card",children:[(0,q.jsx)(h.A,{children:(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O.Cm),{},{style:{paddingTop:"6px"},children:(0,q.jsx)("div",{className:"form-section-header",children:J("activityInfoTitle")})}))}),(0,q.jsx)(h.A,{children:(0,q.jsx)(f.A,{span:24,children:(0,q.jsxs)("div",{style:{overflowX:"auto"},children:[(0,q.jsx)(y.A,{tableData:lt.slice((mt-1)*At,(mt-1)*At+At),columns:un,loading:!1,pagination:{current:mt,pageSize:At,total:lt.length,showQuickJumper:!0,pageSizeOptions:["10","20","30"],showSizeChanger:!0,style:{textAlign:"center"},locale:{page:""},position:["bottomRight"]},handleTableChange:function(e){pt(e.current),xt(e.pageSize)},emptyMessage:J("formHeader:noActivityMessage")})," "]})})})]}),"create"!==t&&(0,q.jsxs)("div",{className:"form-section-card",children:[(0,q.jsx)(h.A,{children:(0,q.jsx)(f.A,{span:6,children:(0,q.jsx)("div",{className:"form-section-header",children:J("supportInfoTitle")})})}),(0,q.jsx)(h.A,{children:(0,q.jsx)(f.A,{span:24,children:(0,q.jsx)(y.A,{tableData:bt.slice((kt-1)*Tt,(kt-1)*Tt+Tt),columns:mn,loading:!1,pagination:{current:kt,pageSize:Tt,total:bt.length,showQuickJumper:!0,pageSizeOptions:["1","10","20","30"],showSizeChanger:!0,style:{textAlign:"center"},locale:{page:""},position:["bottomRight"]},handleTableChange:function(e){Nt(e.current),Ct(e.pageSize)},emptyMessage:J("formHeader:noSupportMessage")})})})]}),"create"!==t&&(0,q.jsxs)("div",{className:"form-section-timelineCard",children:[(0,q.jsx)("div",{className:"form-section-header",children:J("formHeader:updatesInfoTitle")}),(0,q.jsx)(P.A,{recordType:"project",recordId:oe})]}),"create"===t&&(0,q.jsxs)(h.A,{className:"sticky-footer",gutter:20,justify:"end",children:[(0,q.jsx)(f.A,{children:(0,q.jsx)(A.A,{type:"default",size:"large",block:!0,onClick:function(){ee("/projects")},children:J("entityAction:cancel")})}),(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O.Cs),{},{children:(0,q.jsx)(m.A.Item,{children:(0,q.jsx)(A.A,{type:"primary",size:"large",block:!0,htmlType:"submit",children:J("entityAction:add")})})}))]}),"view"===t&&(0,q.jsxs)(h.A,{className:"sticky-footer",gutter:20,justify:"end",children:[(0,q.jsx)(f.A,{children:(0,q.jsx)(A.A,{type:"default",size:"large",block:!0,onClick:function(){ee("/projects")},children:J("entityAction:back")})}),se.can(F.rc.Validate,D.R)&&(0,q.jsx)(f.A,{children:(0,q.jsx)(m.A.Item,{children:(0,q.jsx)(x.A,{placement:"topRight",title:le?void 0:J("error:validationPermissionRequired"),showArrow:!1,children:(0,q.jsx)(A.A,{type:"primary",size:"large",block:!0,onClick:function(){hn()},loading:rt,disabled:!le,children:J(he?"entityAction:unvalidate":"entityAction:validate")})})})})]}),"update"===t&&(0,q.jsxs)(h.A,{className:"sticky-footer",gutter:20,justify:"end",children:[(0,q.jsx)(f.A,{children:(0,q.jsx)(A.A,{type:"default",size:"large",block:!0,onClick:function(){ee("/projects")},children:J("entityAction:cancel")})}),se.can(F.rc.Delete,D.R)&&(0,q.jsx)(f.A,{children:(0,q.jsx)(A.A,{type:"default",size:"large",block:!0,onClick:function(){Et(!0)},style:{color:"red",borderColor:"red"},children:J("entityAction:delete")})}),(0,q.jsx)(f.A,(0,a.A)((0,a.A)({},O.Cs),{},{children:(0,q.jsx)(m.A.Item,{children:(0,q.jsx)(A.A,{type:"primary",size:"large",block:!0,htmlType:"submit",disabled:Ye,children:J("entityAction:update")})})}))]})]}):(0,q.jsx)(j.A,{className:"loading-center",size:"large"})})]})}},8255:function(e,t,n){n.d(t,{x:function(){return l}});var a=n(9379),r=["comments"],i=["additionalProjectNumber","internationalImplementingEntities","comment"],s=["measure","nationalImplementingEntity","internationalImplementingEntity","anchoredInNationalStrategy","meansOfImplementation","technologyType","etfDescription","comment","achievedGHGReductionAlternate"],c=["internationalSource","nationalSource","financingStatus","nationalFinancialInstrument","internationalFinancialInstrument","internationalSupportChannel"],l=function(e,t){var n=[];switch(t){case"action":break;case"programme":n=r;break;case"project":n=i;break;case"activity":n=s;break;case"support":n=c}for(var l=(0,a.A)({},e),d=0,o=n;d<o.length;d++){var u=o[d];l.hasOwnProperty(u)&&("string"===typeof l[u]&&""===l[u]||l[u]instanceof Array&&0===l[u].length||"undefined"===typeof l[u])&&(l[u]=null)}return l}},1054:function(e,t,n){n.d(t,{F:function(){return r}});var a=n(454),r=function(e){return{required:{required:"view"!==e,message:"Required Field"},number:{pattern:/^[0-9]+$/,message:"Please enter a valid number"},greaterThanZero:function(e){return(0,a.A)(e),{validator:function(e,t){return t?t>0?Promise.resolve():Promise.reject("Need to be Greater than Zero"):Promise.resolve()}}}}}},6698:function(){}}]);
//# sourceMappingURL=885.238333ea.chunk.js.map