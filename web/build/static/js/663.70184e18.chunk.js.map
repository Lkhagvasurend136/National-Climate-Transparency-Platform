{"version":3,"file":"static/js/663.70184e18.chunk.js","mappings":"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","sources":["Components/EntityIdCard/entityIdCard.tsx","Components/KPI/editKpi.tsx","Components/KPI/viewKpi.tsx","Components/UpdateTimeline/updates.tsx","Definitions/columns/supportColumns.tsx","Enums/ipcc.subsector.enum.ts","Enums/parentType.enum.ts","Definitions/mtgTimeline.definition.tsx","Components/Timeline/timeline.tsx","Pages/Activities/ActivityForm/activityForm.tsx","Utils/optionalValueHandler.tsx","Utils/validationRules.tsx"],"sourcesContent":["import { CheckCircleOutlined } from '@ant-design/icons';\r\nimport './entityIdCard.scss';\r\nimport { Col, Row, Tag, Tooltip } from 'antd';\r\n\r\ninterface Props {\r\n  calledIn: 'Action' | 'Programme' | 'Project' | 'Activity' | 'Support';\r\n  entId: string;\r\n  isValidated?: boolean;\r\n}\r\n\r\nconst EntityIdCard: React.FC<Props> = ({ calledIn, entId, isValidated }) => {\r\n  return (\r\n    <Row>\r\n      <Col>\r\n        <Tooltip\r\n          title={isValidated ? `Validated ${calledIn}` : undefined}\r\n          showArrow={false}\r\n          placement=\"right\"\r\n        >\r\n          <Tag\r\n            icon={isValidated ? <CheckCircleOutlined style={{ color: '#8A1538' }} /> : undefined}\r\n            className=\"entity-id-card\"\r\n          >{`${calledIn} ID: ${entId}`}</Tag>\r\n        </Tooltip>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default EntityIdCard;\r\n","import { Form, Input, Row, Col, Card } from 'antd';\r\nimport './kpiGrid.scss';\r\nimport { CreatedKpiData } from '../../Definitions/kpiDefinitions';\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\n\r\ninterface Props {\r\n  index: number;\r\n  form: any;\r\n  rules: any;\r\n  kpi: CreatedKpiData;\r\n  headerNames: string[];\r\n  isFromActivity: boolean;\r\n  updateKPI?: (index: number, property: any, value: string, inWhich: 'created' | 'new') => void;\r\n  removeKPI?: (kpiId: number, inWhich: 'created' | 'new') => void;\r\n}\r\n\r\nexport const EditKpi: React.FC<Props> = ({\r\n  rules,\r\n  index,\r\n  headerNames,\r\n  kpi,\r\n  updateKPI,\r\n  removeKPI,\r\n  isFromActivity,\r\n}) => {\r\n  return (\r\n    <Row key={index} gutter={30} className=\"kpi-grid\">\r\n      <Col span={12}>\r\n        <Row gutter={30}>\r\n          <Col span={12}>\r\n            <Form.Item\r\n              label={<label className=\"form-item-header\">{headerNames[0]}</label>}\r\n              name={`kpi_name_${index}`}\r\n              rules={isFromActivity ? [] : rules}\r\n              initialValue={kpi?.name}\r\n            >\r\n              <Input\r\n                className=\"form-input-box\"\r\n                onChange={(e) => {\r\n                  if (updateKPI) {\r\n                    updateKPI(index, 'name', e.target.value, 'created');\r\n                  }\r\n                }}\r\n                disabled={isFromActivity}\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={12}>\r\n            <Form.Item\r\n              label={<label className=\"form-item-header\">{headerNames[1]}</label>}\r\n              name={`kpi_unit_${index}`}\r\n              rules={isFromActivity ? [] : rules}\r\n              initialValue={kpi?.unit}\r\n            >\r\n              <Input\r\n                className=\"form-input-box\"\r\n                onChange={(e) => {\r\n                  if (updateKPI) {\r\n                    updateKPI(index, 'unit', e.target.value, 'created');\r\n                  }\r\n                }}\r\n                disabled={isFromActivity}\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n      </Col>\r\n      <Col span={12}>\r\n        <Row gutter={15}>\r\n          <Col span={isFromActivity ? 12 : 11}>\r\n            <Form.Item\r\n              label={<label className=\"form-item-header\">{headerNames[2]}</label>}\r\n              name={`kpi_ach_${index}`}\r\n              initialValue={kpi?.achieved}\r\n              rules={isFromActivity ? rules : []}\r\n            >\r\n              <Input\r\n                type=\"number\"\r\n                min={0}\r\n                step={0.01}\r\n                className=\"form-input-box\"\r\n                onChange={(e) => {\r\n                  if (updateKPI) {\r\n                    updateKPI(index, 'achieved', e.target.value, 'created');\r\n                  }\r\n                }}\r\n                disabled={!isFromActivity}\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={isFromActivity ? 12 : 11}>\r\n            <Form.Item\r\n              label={<label className=\"form-item-header\">{headerNames[3]}</label>}\r\n              name={`kpi_exp_${index}`}\r\n              rules={isFromActivity ? [] : rules}\r\n              initialValue={kpi?.expected}\r\n            >\r\n              <Input\r\n                type=\"number\"\r\n                min={0}\r\n                step={0.01}\r\n                className=\"form-input-box\"\r\n                onChange={(e) => {\r\n                  if (updateKPI) {\r\n                    updateKPI(index, 'expected', e.target.value, 'created');\r\n                  }\r\n                }}\r\n                disabled={isFromActivity}\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n          {!isFromActivity && (\r\n            <Col span={2}>\r\n              <Card className=\"delete-card\">\r\n                <DeleteOutlined\r\n                  style={{ cursor: 'pointer', color: '#3A3541', opacity: 0.8 }}\r\n                  onClick={() => {\r\n                    if (removeKPI) {\r\n                      removeKPI(index, 'created');\r\n                    }\r\n                  }}\r\n                />\r\n              </Card>\r\n            </Col>\r\n          )}\r\n        </Row>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n","import { Form, Input, Row, Col, Tooltip } from 'antd';\r\nimport './kpiGrid.scss';\r\nimport { CreatedKpiData } from '../../Definitions/kpiDefinitions';\r\nimport { UserOutlined, UserSwitchOutlined } from '@ant-design/icons';\r\n\r\ninterface Props {\r\n  index: number;\r\n  inherited: boolean;\r\n  headerNames: string[];\r\n  kpi: CreatedKpiData;\r\n  callingEntityId: string | undefined;\r\n  ownerEntityId: string | undefined;\r\n}\r\n\r\nexport const ViewKpi: React.FC<Props> = ({\r\n  index,\r\n  inherited,\r\n  headerNames,\r\n  kpi,\r\n  callingEntityId,\r\n  ownerEntityId,\r\n}) => {\r\n  return (\r\n    <Row key={index} gutter={30} className=\"kpi-grid\">\r\n      <Col span={12}>\r\n        <Row gutter={30}>\r\n          <Col span={12}>\r\n            <Form.Item\r\n              label={<label className=\"form-item-header\">{headerNames[0]}</label>}\r\n              name={`kpi_name_${index}`}\r\n              initialValue={kpi?.name}\r\n            >\r\n              <Input className=\"form-input-box\" disabled={true} />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={12}>\r\n            <Form.Item\r\n              label={<label className=\"form-item-header\">{headerNames[1]}</label>}\r\n              name={`kpi_unit_${index}`}\r\n              initialValue={kpi?.unit}\r\n            >\r\n              <Input className=\"form-input-box\" disabled={true} />\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n      </Col>\r\n      <Col span={12}>\r\n        <Row gutter={15}>\r\n          <Col span={11}>\r\n            <Form.Item\r\n              label={<label className=\"form-item-header\">{headerNames[2]}</label>}\r\n              name={`kpi_ach_${index}`}\r\n              initialValue={kpi?.achieved}\r\n            >\r\n              <Input type=\"number\" className=\"form-input-box\" disabled={true} />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={11}>\r\n            <Form.Item\r\n              label={<label className=\"form-item-header\">{headerNames[3]}</label>}\r\n              name={`kpi_exp_${index}`}\r\n              initialValue={kpi?.expected}\r\n            >\r\n              <Input type=\"number\" className=\"form-input-box\" disabled={true} />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={2}>\r\n            <Tooltip\r\n              placement=\"topLeft\"\r\n              title={inherited ? `Inherited from ${ownerEntityId}` : `Owned by ${callingEntityId}`}\r\n              showArrow={false}\r\n            >\r\n              {inherited ? (\r\n                <UserSwitchOutlined className=\"inherited-kpi\" />\r\n              ) : (\r\n                <UserOutlined className=\"self-owned-kpi\" />\r\n              )}\r\n            </Tooltip>\r\n          </Col>\r\n        </Row>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n","import './updates.scss';\r\nimport { Skeleton, Steps } from 'antd';\r\nimport { useEffect, useState } from 'react';\r\nimport { useConnection } from '../../Context/ConnectionContext/connectionContext';\r\nimport { useTranslation } from 'react-i18next';\r\nimport * as Icon from 'react-bootstrap-icons';\r\nimport { CustomFormatDate } from '../../Utils/utilServices';\r\nimport { UpdateProps } from '../../Definitions/InterfacesAndType/updatesInterface';\r\nimport { displayErrorMessage } from '../../Utils/errorMessageHandler';\r\n\r\nconst UpdatesTimeline: React.FC<UpdateProps> = ({ recordType, recordId }) => {\r\n  const { post } = useConnection();\r\n  const { t } = useTranslation(['updateTimeline']);\r\n\r\n  const [loadingHistory, setLoadingHistory] = useState<boolean>(false);\r\n  const [historyData, setHistoryData] = useState<any>([]);\r\n\r\n  const getAllData = async () => {\r\n    setLoadingHistory(true);\r\n    try {\r\n      const payload: any = {\r\n        recordType: recordType,\r\n        recordId: recordId,\r\n      };\r\n      const response: any = await post('national/log/query', payload);\r\n      if (response) {\r\n        setHistoryData(response.data);\r\n      }\r\n    } catch (error: any) {\r\n      displayErrorMessage(error);\r\n    } finally {\r\n      setLoadingHistory(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getAllData();\r\n  }, []);\r\n\r\n  const getClassByEventType = (eventType: string) => {\r\n    switch (eventType) {\r\n      case '0': //created steps\r\n      case '5':\r\n      case '8':\r\n      case '12':\r\n      case '22':\r\n        return (\r\n          <span className=\"step-icon created-step\">\r\n            <Icon.CaretRight />\r\n          </span>\r\n        );\r\n      case '3': //Linked steps\r\n      case '6':\r\n      case '9':\r\n      case '10':\r\n      case '13':\r\n      case '14':\r\n      case '23':\r\n      case '24':\r\n        return (\r\n          <span className=\"step-icon link-step\">\r\n            <Icon.Link45deg />\r\n          </span>\r\n        );\r\n      case '7': //Unlinked steps\r\n      case '11':\r\n      case '15':\r\n      case '27':\r\n        return (\r\n          <span className=\"step-icon unlink-step\">\r\n            <Icon.Link45deg />\r\n          </span>\r\n        );\r\n      case '1': //KPI ADD steps\r\n        return (\r\n          <span className=\"step-icon addkpi-step\">\r\n            <Icon.PlusLg />\r\n          </span>\r\n        );\r\n      case '18': //Validated steps\r\n      case '19':\r\n      case '21':\r\n      case '25':\r\n      case '28':\r\n        return (\r\n          <span className=\"step-icon verify-step\">\r\n            <Icon.FileEarmarkCheck />\r\n          </span>\r\n        );\r\n      case '30': //Unvalidated steps\r\n      case '31':\r\n      case '32':\r\n      case '33':\r\n      case '34':\r\n      case '35':\r\n      case '36':\r\n      case '37':\r\n      case '38':\r\n      case '39':\r\n      case '40':\r\n      case '41':\r\n      case '42':\r\n      case '43':\r\n      case '44':\r\n      case '45':\r\n      case '46':\r\n      case '47':\r\n      case '48':\r\n      case '49':\r\n      case '50':\r\n      case '51':\r\n      case '52':\r\n      case '53':\r\n      case '54':\r\n        return (\r\n          <span className=\"step-icon unverify-step\">\r\n            <Icon.FileEarmarkExcel />\r\n          </span>\r\n        );\r\n      default:\r\n        return (\r\n          <span className=\"step-icon default-step\">\r\n            <Icon.RecordCircleFill />\r\n          </span>\r\n        );\r\n    }\r\n  };\r\n\r\n  const stepsItems = historyData.map((item: any, index: number) => ({\r\n    key: index,\r\n    title: (\r\n      <span>\r\n        <strong>{item.user_id === null ? 'System' : item.user_name} </strong> {t(item.eventType)}{' '}\r\n        {item.logData && ` - ${item.logData}`}\r\n        <span className=\"date\">\r\n          {' - '}\r\n          {`${CustomFormatDate(Number(item.createdTime))}`}\r\n        </span>\r\n      </span>\r\n    ),\r\n    icon: getClassByEventType(item.eventType),\r\n    status: 'process',\r\n  }));\r\n\r\n  return (\r\n    <div className=\"info-view\">\r\n      <div className=\"content\">\r\n        {loadingHistory ? (\r\n          <Skeleton />\r\n        ) : (\r\n          <Steps direction=\"vertical\" current={0} items={stepsItems} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdatesTimeline;\r\n","import { useTranslation } from 'react-i18next';\r\n\r\nexport const getSupportTableColumns = () => {\r\n  const { t } = useTranslation(['formTable']);\r\n\r\n  const supportTableColumns = [\r\n    {\r\n      title: t('supportIdTitle'),\r\n      dataIndex: 'supportId',\r\n      key: 'supportId',\r\n      render: (_: any, record: any) => {\r\n        return <a href={`/support/view/${record.supportId}`}>{record.supportId}</a>;\r\n      },\r\n    },\r\n    { title: t('financeNatureTitle'), dataIndex: 'financeNature', key: 'financeNature' },\r\n    { title: t('directionTitle'), dataIndex: 'direction', key: 'direction' },\r\n    { title: t('finInstrumentTitle'), dataIndex: 'finInstrument', key: 'finInstrument' },\r\n    { title: t('neededUSDHeader'), dataIndex: 'estimatedUSD', key: 'estimatedUSD' },\r\n    { title: t('neededLCLHeader'), dataIndex: 'estimatedLC', key: 'estimatedLC' },\r\n    { title: t('recievedUSDHeader'), dataIndex: 'recievedUSD', key: 'recievedUSD' },\r\n    { title: t('recievedLCLHeader'), dataIndex: 'recievedLC', key: 'recievedLC' },\r\n  ];\r\n\r\n  return supportTableColumns;\r\n};\r\n","export enum IpccSubSector {\r\n  '1A1' = '1A1 Energy Industries',\r\n  '1A2' = '1A2 Manufacturing Industries and Construction',\r\n  '1A3a' = '1A3a Civil Aviation',\r\n  '1A3b' = '1A3b Road Transportation',\r\n  '1A3c' = '1A3c Railways',\r\n  '1A3d' = '1A3d Water-borne Navigation',\r\n  '1A3e' = '1A3e Other Transportation',\r\n  '1A4' = '1A4 Other Sectors',\r\n  '1A5' = '1A5 Non-Specified',\r\n  '1B1' = '1B1 Solid Fuels',\r\n  '1B2' = '1B2 Oil and Natural Gas',\r\n  '1B3' = '1B3 Other Emissions from Energy Production',\r\n  '1C1' = '1C1 Transport of CO2',\r\n  '1C2' = '1C2 Injections and Storage',\r\n  '1C3' = '1C3 Other',\r\n  '2A' = '2A Mineral Industry',\r\n  '2B' = '2B Chemical Industry',\r\n  '2C' = '2C Metal Industry',\r\n  '2D' = '2D Non-Energy Products from Fuels and Solvent Use',\r\n  '2E' = '2E Electronics Industry',\r\n  '2F' = '2F Product Uses as Substitutes for Ozone Depleting Substances',\r\n  '2G' = '2G Other Product Manufacture and Use',\r\n  '2H' = '2H Other',\r\n  '3A1' = '3A1 Enteric Fermentation',\r\n  '3A2' = '3A2 Manure Management',\r\n  '3B1' = '3B1 Forest Land',\r\n  '3B2' = '3B2 Cropland',\r\n  '3B3' = '3B3 Grassland',\r\n  '3B4' = '3B4 Wetlands',\r\n  '3B5' = '3B5 Settlements',\r\n  '3B6' = '3B6 Other Land',\r\n  '3C' = '3C Aggregate Sources and Non-CO2 Emissions Sources on Land',\r\n  '3D' = '3D Other',\r\n  '4A' = '4A Solid Waste Disposal',\r\n  '4B' = '4B Biological Treatment of Solid Waste',\r\n  '4C' = '4C Incineration and Open Burning of Waste',\r\n  '4D' = '4D Wastewater Treatment and Discharge',\r\n  '4E' = '4E Other',\r\n  '5A' = '5A Indirect N2O Emissions from the Atmospheric Deposition of Nitrogen in Nox and NH3',\r\n  '5B' = '5B Other',\r\n}\r\n","export enum ParentType {\r\n  ACTION = 'action',\r\n  PROGRAMME = 'programme',\r\n  PROJECT = 'project',\r\n}\r\n","export interface ExpectedTimeline {\r\n  key: string;\r\n  ghg: string;\r\n  topic: string;\r\n  total: number;\r\n  values: number[];\r\n}\r\n\r\nexport interface ActualTimeline {\r\n  key: string;\r\n  ghg: string;\r\n  topic: string;\r\n  total: number;\r\n  values: number[];\r\n}\r\n\r\nexport const ExpectedRows = {\r\n  ROW_ONE: ['ktCO2', 'Baseline Emissions (without measures)'],\r\n  ROW_TWO: ['ktCO2', 'Activity Emissions (with measures)'],\r\n  ROW_THREE: ['ktCO2', 'Activity Emissions (with additional measures)'],\r\n  ROW_FOUR: ['ktCO2e', 'Expected Emission Reductions (with measures)'],\r\n  ROW_FIVE: ['ktCO2e', 'Expected Emission Reductions (with additional measures)'],\r\n};\r\n\r\nexport const ActualRows = {\r\n  ROW_ONE: ['ktCO2', 'Baseline Actual Emissions'],\r\n  ROW_TWO: ['ktCO2', 'Activity Actual Emissions'],\r\n  ROW_THREE: ['ktCO2e', 'Actual Equivalent Emission Reductions'],\r\n};\r\n","import { Table, TableProps, Grid, InputNumber } from 'antd';\r\nimport {\r\n  ActualRows,\r\n  ActualTimeline,\r\n  ExpectedRows,\r\n  ExpectedTimeline,\r\n} from '../../Definitions/mtgTimeline.definition';\r\nimport './timeline.scss';\r\nimport { useEffect, useState } from 'react';\r\n\r\ninterface Props {\r\n  expectedTimeline: any;\r\n  actualTimeline: any;\r\n  loading: boolean;\r\n  method: 'create' | 'view' | 'update';\r\n  mtgStartYear: number;\r\n  mtgRange: number;\r\n  onValueEnter: (\r\n    tableTYpe: 'expected' | 'actual',\r\n    rowId: string,\r\n    year: string,\r\n    value: string\r\n  ) => void;\r\n  t: any;\r\n}\r\n\r\nconst { useBreakpoint } = Grid;\r\n\r\nconst TimelineTable: React.FC<Props> = ({\r\n  expectedTimeline,\r\n  actualTimeline,\r\n  loading,\r\n  method,\r\n  mtgStartYear,\r\n  mtgRange,\r\n  onValueEnter,\r\n  t,\r\n}) => {\r\n  const screens = useBreakpoint();\r\n\r\n  const isView: boolean = method === 'view' ? true : false;\r\n\r\n  const [allowFixedLegend, setAllowFixedLegend] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    if (screens.xxl) {\r\n      setAllowFixedLegend(true);\r\n    } else if (screens.xl) {\r\n      setAllowFixedLegend(true);\r\n    } else {\r\n      setAllowFixedLegend(false);\r\n    }\r\n  }, [screens]);\r\n\r\n  const expectedTableColumns: TableProps<ExpectedTimeline>['columns'] = [\r\n    {\r\n      title: t('timelineTable:ghg'),\r\n      dataIndex: 'ghg',\r\n      align: 'center',\r\n      ellipsis: true,\r\n      width: 100,\r\n    },\r\n    {\r\n      title: t('timelineTable:catExpectedEmissionReduct'),\r\n      dataIndex: 'topic',\r\n      align: 'left',\r\n      width: 350,\r\n      fixed: allowFixedLegend ? 'left' : undefined,\r\n    },\r\n    {\r\n      title: t('timelineTable:total'),\r\n      dataIndex: 'total',\r\n      align: 'center',\r\n      width: 100,\r\n      render: (colValue: any) => {\r\n        return colValue;\r\n      },\r\n    },\r\n  ];\r\n\r\n  const actualTableColumns: TableProps<ActualTimeline>['columns'] = [\r\n    {\r\n      title: t('timelineTable:ghg'),\r\n      dataIndex: 'ghg',\r\n      align: 'center',\r\n      ellipsis: true,\r\n      width: 100,\r\n    },\r\n    {\r\n      title: t('timelineTable:catActualEmissionReduct'),\r\n      dataIndex: 'topic',\r\n      align: 'left',\r\n      width: 350,\r\n      fixed: allowFixedLegend ? 'left' : undefined,\r\n    },\r\n    {\r\n      title: t('timelineTable:total'),\r\n      dataIndex: 'total',\r\n      align: 'center',\r\n      width: 100,\r\n      render: (colValue: any) => {\r\n        return colValue;\r\n      },\r\n    },\r\n  ];\r\n\r\n  for (let year = mtgStartYear; year <= Math.min(mtgStartYear + mtgRange, 2050); year++) {\r\n    expectedTableColumns.push({\r\n      title: year.toString(),\r\n      dataIndex: 'values',\r\n      width: 120,\r\n      align: 'center',\r\n      render: (colValue: any, record: any) => {\r\n        const isDisabled =\r\n          record.topic === ExpectedRows.ROW_FOUR[1] ||\r\n          record.topic === ExpectedRows.ROW_FIVE[1] ||\r\n          isView;\r\n        return (\r\n          <InputNumber\r\n            disabled={isDisabled}\r\n            value={colValue[year - mtgStartYear]}\r\n            decimalSeparator=\".\"\r\n            controls={false}\r\n            style={{ width: '100%', height: '30px' }}\r\n            onChange={(value: any) => {\r\n              onValueEnter('expected', record.topic, year.toString(), value);\r\n            }}\r\n          />\r\n        );\r\n      },\r\n    });\r\n\r\n    actualTableColumns.push({\r\n      title: year.toString(),\r\n      dataIndex: 'values',\r\n      width: 120,\r\n      align: 'center',\r\n      render: (colValue: any, record: any) => {\r\n        const isDisabled = record.topic === ActualRows.ROW_THREE[1] || isView;\r\n        return (\r\n          <InputNumber\r\n            disabled={isDisabled}\r\n            value={colValue[year - mtgStartYear]}\r\n            decimalSeparator=\".\"\r\n            controls={false}\r\n            style={{ width: '100%', height: '30px' }}\r\n            onChange={(value: any) => {\r\n              onValueEnter('actual', record.topic, year.toString(), value);\r\n            }}\r\n          />\r\n        );\r\n      },\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"mtg-timeline\">\r\n      <Table\r\n        dataSource={expectedTimeline}\r\n        columns={expectedTableColumns}\r\n        loading={loading}\r\n        pagination={false}\r\n        className=\"custom-scroll-table\"\r\n      />\r\n      <Table\r\n        dataSource={actualTimeline}\r\n        columns={actualTableColumns}\r\n        loading={loading}\r\n        pagination={false}\r\n        className=\"custom-scroll-table\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TimelineTable;\r\n","import { useTranslation } from 'react-i18next';\r\nimport { Row, Col, Input, Button, Form, Select, message, Spin, Tooltip, Checkbox } from 'antd';\r\nimport { useEffect, useState } from 'react';\r\nimport LayoutTable from '../../../Components/common/Table/layout.table';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport UploadFileGrid from '../../../Components/Upload/uploadFiles';\r\nimport { useConnection } from '../../../Context/ConnectionContext/connectionContext';\r\nimport './activityForm.scss';\r\nimport { ParentType } from '../../../Enums/parentType.enum';\r\nimport TimelineTable from '../../../Components/Timeline/timeline';\r\nimport {\r\n  ActualRows,\r\n  ActualTimeline,\r\n  ExpectedRows,\r\n  ExpectedTimeline,\r\n} from '../../../Definitions/mtgTimeline.definition';\r\nimport { ActivityStatus, ImplMeans, Measure, TechnologyType } from '../../../Enums/activity.enum';\r\nimport {\r\n  GHGS,\r\n  IntImplementor,\r\n  KPIAction,\r\n  NatImplementor,\r\n  Recipient,\r\n} from '../../../Enums/shared.enum';\r\nimport EntityIdCard from '../../../Components/EntityIdCard/entityIdCard';\r\nimport { SupportData } from '../../../Definitions/supportDefinitions';\r\nimport { ActivityMigratedData, ParentData } from '../../../Definitions/activityDefinitions';\r\nimport { FormLoadProps } from '../../../Definitions/InterfacesAndType/formInterface';\r\nimport { getValidationRules } from '../../../Utils/validationRules';\r\nimport {\r\n  calculateArraySum,\r\n  delay,\r\n  doesUserHaveValidatePermission,\r\n  getFormTitle,\r\n  getRounded,\r\n  isGasFlowCheck,\r\n  subtractTwoArrays,\r\n} from '../../../Utils/utilServices';\r\nimport { Action } from '../../../Enums/action.enum';\r\nimport { ActivityEntity } from '../../../Entities/activity';\r\nimport { useAbilityContext } from '../../../Casl/Can';\r\nimport { getSupportTableColumns } from '../../../Definitions/columns/supportColumns';\r\nimport UpdatesTimeline from '../../../Components/UpdateTimeline/updates';\r\nimport { CreatedKpiData } from '../../../Definitions/kpiDefinitions';\r\nimport { ViewKpi } from '../../../Components/KPI/viewKpi';\r\nimport { EditKpi } from '../../../Components/KPI/editKpi';\r\nimport { processOptionalFields } from '../../../Utils/optionalValueHandler';\r\nimport {\r\n  halfColumnBps,\r\n  mtgHalfColumnBps,\r\n  mtgSaveButtonBps,\r\n  mtgTableHeaderBps,\r\n  shortButtonBps,\r\n} from '../../../Definitions/breakpoints/breakpoints';\r\nimport { displayErrorMessage } from '../../../Utils/errorMessageHandler';\r\nimport { StoredData, UploadData } from '../../../Definitions/uploadDefinitions';\r\nimport { useUserContext } from '../../../Context/UserInformationContext/userInformationContext';\r\nimport ConfirmPopup from '../../../Components/Popups/Confirmation/confirmPopup';\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\nimport { CheckboxChangeEvent } from 'antd/lib/checkbox';\r\nimport { IpccSubSector } from '../../../Enums/ipcc.subsector.enum';\r\n\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n\r\nconst gutterSize = 30;\r\nconst inputFontSize = '13px';\r\nconst currentYear = new Date().getFullYear();\r\n\r\nconst ActivityForm: React.FC<FormLoadProps> = ({ method }) => {\r\n  const [form] = Form.useForm();\r\n  const { t } = useTranslation([\r\n    'activityForm',\r\n    'formHeader',\r\n    'entityAction',\r\n    'error',\r\n    'timelineTable',\r\n  ]);\r\n\r\n  const isView: boolean = method === 'view' ? true : false;\r\n  const formTitle = getFormTitle('Activity', method);\r\n\r\n  const navigate = useNavigate();\r\n  const { get, post, put, delete: del } = useConnection();\r\n  const ability = useAbilityContext();\r\n  const { isValidationAllowed, setIsValidationAllowed } = useUserContext();\r\n  const { entId } = useParams();\r\n\r\n  // Form Validation Rules\r\n\r\n  const validation = getValidationRules(method);\r\n\r\n  // ML: get the list of years for startYear and endYear options\r\n  const yearsList: number[] = [];\r\n  for (let year = 2013; year <= 2050; year++) {\r\n    yearsList.push(year);\r\n  }\r\n\r\n  // Entity Validation Status\r\n\r\n  const [isValidated, setIsValidated] = useState<boolean>(false);\r\n\r\n  // Parent Selection State\r\n\r\n  const [parentType, setParentType] = useState<string>();\r\n  const [connectedParentId, setConnectedParentId] = useState<string>();\r\n  const [parentList, setParentList] = useState<ParentData[]>([]);\r\n\r\n  // form state\r\n\r\n  const [activityMigratedData, setActivityMigratedData] = useState<ActivityMigratedData>();\r\n  const [uploadedFiles, setUploadedFiles] = useState<UploadData[]>([]);\r\n  const [storedFiles, setStoredFiles] = useState<StoredData[]>([]);\r\n  const [filesToRemove, setFilesToRemove] = useState<string[]>([]);\r\n\r\n  const [isSaveButtonDisabled, setIsSaveButtonDisabled] = useState(true);\r\n\r\n  const [isGasFlow, setIsGasFlow] = useState<boolean>(false);\r\n\r\n  // First Render Check\r\n\r\n  const [isFirstRenderDone, setIsFirstRenderDone] = useState<boolean>(false);\r\n\r\n  // Spinner When Form Submit Occurs\r\n\r\n  const [waitingForBE, setWaitingForBE] = useState<boolean>(false);\r\n  const [waitingForValidation, setWaitingForValidation] = useState<boolean>(false);\r\n\r\n  // Methodology Doc state\r\n\r\n  const [uploadedMthFiles, setUploadedMthFiles] = useState<UploadData[]>([]);\r\n  const [storedMthFiles, setStoredMthFiles] = useState<StoredData[]>([]);\r\n  const [mthFilesToRemove, setMthFilesToRemove] = useState<string[]>([]);\r\n\r\n  // Results Doc state\r\n\r\n  const [uploadedRstFiles, setUploadedRstFiles] = useState<UploadData[]>([]);\r\n  const [storedRstFiles, setStoredRstFiles] = useState<StoredData[]>([]);\r\n  const [rstFilesToRemove, setRstFilesToRemove] = useState<string[]>([]);\r\n\r\n  // Support state\r\n\r\n  const [supportData, setSupportData] = useState<SupportData[]>([]);\r\n  const [supportCurrentPage, setCurrentPage] = useState<any>(1);\r\n  const [supportPageSize, setPageSize] = useState<number>(10);\r\n\r\n  // Popup Definition\r\n\r\n  const [openDeletePopup, setOpenDeletePopup] = useState<boolean>(false);\r\n\r\n  // Detach Entity Data\r\n\r\n  // KPI State\r\n\r\n  const [kpiCounter, setKpiCounter] = useState<number>(0);\r\n  const [inheritedKpiList, setInheritedKpiList] = useState<CreatedKpiData[]>([]);\r\n  const [shouldFetchParentKpi, setShouldFetchParentKpi] = useState<boolean>(false);\r\n\r\n  // MTG Timeline State\r\n\r\n  const [expectedTimeline, setExpectedTimeline] = useState<ExpectedTimeline[]>([]);\r\n  const [actualTimeline, setActualTimeline] = useState<ActualTimeline[]>([]);\r\n  const [mtgStartYear, setMtgStartYear] = useState<number>(0);\r\n  const [selectedGhg, setSelectedGhg] = useState<GHGS>();\r\n  const [isMtgButtonEnabled, setIsMtgButtonEnabled] = useState(false);\r\n\r\n  const [gwpSettings, setGwpSettings] = useState<{ CH4: number; N2O: number }>();\r\n\r\n  // ML: Set the activity start and end year\r\n  const [startYear1, setStartYear] = useState<number>();\r\n  const [endYear1, setEndYear] = useState<number>();\r\n\r\n  // KL: Achieved GHG Reduction Alternate\r\n  const [isAchievedAlternate, setIsAchievedAlternate] = useState<boolean>(false);\r\n\r\n  // Initialization Logic\r\n\r\n  const mtgRange = 30;\r\n\r\n  const resetGasFlowOptions = () => {\r\n    setIsGasFlow(false);\r\n    setSelectedGhg(undefined);\r\n    setExpectedTimeline([]);\r\n    setActualTimeline([]);\r\n\r\n    form.setFieldsValue({\r\n      measure: undefined,\r\n      ghgsAffected: undefined,\r\n      achievedGHGReduction: undefined,\r\n      expectedGHGReduction: undefined,\r\n    });\r\n  };\r\n\r\n  const handleParentIdSelect = (id: string) => {\r\n    try {\r\n      resetGasFlowOptions();\r\n    } finally {\r\n      setConnectedParentId(id);\r\n      setShouldFetchParentKpi(true);\r\n\r\n      if (id === undefined && method === 'create') {\r\n        setMtgStartYear(0);\r\n      }\r\n      // KL: set Mitigation Start year to activity startYear\r\n      // setMtgStartYear(startYear1 ?? 0);\r\n    }\r\n  };\r\n\r\n  const handleParentTypeSelect = (value: string) => {\r\n    try {\r\n      resetGasFlowOptions();\r\n    } finally {\r\n      setParentType(value);\r\n      setConnectedParentId(undefined);\r\n\r\n      if (method === 'create') {\r\n        setMtgStartYear(0);\r\n      }\r\n\r\n      form.setFieldsValue({\r\n        parentId: '',\r\n        parentDescription: '',\r\n      });\r\n    }\r\n  };\r\n\r\n  const fetchGwpSettings = async () => {\r\n    let response: any;\r\n    try {\r\n      response = await get(`national/settings/GWP`);\r\n\r\n      if (response.status === 200 || response.status === 201) {\r\n        setGwpSettings({\r\n          CH4: response.data.gwp_ch4,\r\n          N2O: response.data.gwp_n2o,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.log('Error fetching GWP values:', error);\r\n    }\r\n  };\r\n\r\n  // KPI Achievement Resolve\r\n\r\n  const resolveKPIAchievements = async (activityId: string | undefined) => {\r\n    if (inheritedKpiList.length > 0 && activityId) {\r\n      const achievements: { kpiId: number; activityId: string; achieved: number }[] = [];\r\n      inheritedKpiList.forEach(async (inheritedKpi) => {\r\n        if (inheritedKpi.achieved > 0) {\r\n          achievements.push({\r\n            kpiId: inheritedKpi.id,\r\n            activityId: activityId,\r\n            achieved: inheritedKpi.achieved,\r\n          });\r\n        }\r\n      });\r\n\r\n      if (achievements.length > 0) {\r\n        try {\r\n          await post('national/kpis/achievements/add', { achievements: achievements });\r\n        } catch (error: any) {\r\n          displayErrorMessage(error);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  // Entity Validate\r\n\r\n  const validateEntity = async () => {\r\n    try {\r\n      setWaitingForValidation(true);\r\n\r\n      if (entId) {\r\n        const payload = {\r\n          entityId: entId,\r\n          validateStatus: !isValidated,\r\n        };\r\n        const response: any = await post('national/activities/validateStatus', payload);\r\n\r\n        if (response.status === 200 || response.status === 201) {\r\n          message.open({\r\n            type: 'success',\r\n            content: isValidated ? t('activityUnvalidateSuccess') : t('activityValidateSuccess'),\r\n            duration: 3,\r\n            style: { textAlign: 'right', marginRight: 15, marginTop: 10 },\r\n          });\r\n\r\n          navigate('/activities');\r\n        }\r\n      }\r\n    } catch (error: any) {\r\n      if (error?.status) {\r\n        if (error.status === 403) {\r\n          setIsValidationAllowed(await doesUserHaveValidatePermission(get));\r\n        }\r\n        displayErrorMessage(error);\r\n      } else {\r\n        displayErrorMessage(error, `${entId} Validation Failed`);\r\n      }\r\n    } finally {\r\n      setWaitingForValidation(false);\r\n    }\r\n  };\r\n\r\n  // Entity Delete\r\n\r\n  const deleteClicked = () => {\r\n    setOpenDeletePopup(true);\r\n  };\r\n\r\n  const deleteEntity = async () => {\r\n    try {\r\n      setWaitingForBE(true);\r\n      await delay(1000);\r\n\r\n      if (entId) {\r\n        const payload = {\r\n          entityId: entId,\r\n        };\r\n        const response: any = await del('national/activities/delete', payload);\r\n\r\n        if (response.status === 200 || response.status === 201) {\r\n          message.open({\r\n            type: 'success',\r\n            content: t('activityDeleteSuccess'),\r\n            duration: 3,\r\n            style: { textAlign: 'right', marginRight: 15, marginTop: 10 },\r\n          });\r\n\r\n          navigate('/activities');\r\n        }\r\n      }\r\n    } catch (error: any) {\r\n      if (error?.message) {\r\n        displayErrorMessage(error);\r\n      } else {\r\n        displayErrorMessage(error, `${entId} Delete Failed`);\r\n      }\r\n    } finally {\r\n      setWaitingForBE(false);\r\n    }\r\n  };\r\n\r\n  // Update KPI ACH Values\r\n\r\n  const updateKPI = (\r\n    index: number,\r\n    property: keyof CreatedKpiData,\r\n    value: any,\r\n    // eslint-disable-next-line no-unused-vars, @typescript-eslint/no-unused-vars\r\n    inWhich: 'created' | 'new'\r\n  ): void => {\r\n    setInheritedKpiList((prevKpiList) => {\r\n      const updatedKpiList = prevKpiList.map((kpi) => {\r\n        if (kpi.index === index) {\r\n          return { ...kpi, [property]: parseFloat(value) };\r\n        }\r\n        return kpi;\r\n      });\r\n      return updatedKpiList;\r\n    });\r\n  };\r\n\r\n  // Column Definition\r\n  const supportTableColumns = getSupportTableColumns();\r\n\r\n  // Table Behaviour\r\n\r\n  const handleSupportTableChange = (pagination: any) => {\r\n    setCurrentPage(pagination.current);\r\n    setPageSize(pagination.pageSize);\r\n  };\r\n\r\n  // Save Button Enable when form value change\r\n\r\n  const handleValuesChange = () => {\r\n    setIsSaveButtonDisabled(false);\r\n  };\r\n\r\n  // MTG timeline Fields Mapping\r\n\r\n  const mtgFieldMapping = (longName: string) => {\r\n    switch (longName) {\r\n      case 'Baseline Emissions (without measures)':\r\n        return 'baselineEmissions';\r\n      case 'Activity Emissions (with measures)':\r\n        return 'activityEmissionsWithM';\r\n      case 'Activity Emissions (with additional measures)':\r\n        return 'activityEmissionsWithAM';\r\n      case 'Expected Emission Reductions (with measures)':\r\n        return 'expectedEmissionReductWithM';\r\n      case 'Expected Emission Reductions (with additional measures)':\r\n        return 'expectedEmissionReductWithAM';\r\n      case 'Baseline Actual Emissions':\r\n        return 'baselineActualEmissions';\r\n      case 'Activity Actual Emissions':\r\n        return 'activityActualEmissions';\r\n      case 'Actual Equivalent Emission Reductions':\r\n        return 'actualEmissionReduct';\r\n      default:\r\n        return '';\r\n    }\r\n  };\r\n\r\n  // Find GWP Value\r\n\r\n  const findGWP = () => {\r\n    switch (selectedGhg) {\r\n      case GHGS.CH:\r\n        return gwpSettings?.CH4 ?? 1;\r\n      case GHGS.NO:\r\n        return gwpSettings?.N2O ?? 1;\r\n      default:\r\n        return 1;\r\n    }\r\n  };\r\n\r\n  // Find MTG Unit\r\n\r\n  const findUnit = (ghg: GHGS | undefined) => {\r\n    if (ghg) {\r\n      const mtgUnit = [GHGS.CO, GHGS.CH, GHGS.NO].includes(ghg) ? ghg : GHGS.COE;\r\n      return mtgUnit;\r\n    } else {\r\n      return GHGS.COE;\r\n    }\r\n  };\r\n\r\n  // Set mtg timeline data to default values\r\n\r\n  const setDefaultTimelineValues = () => {\r\n    if (mtgStartYear && selectedGhg) {\r\n      const endYear = mtgStartYear + mtgRange;\r\n      const mtgUnit = findUnit(selectedGhg);\r\n\r\n      const tempExpectedEntries: ExpectedTimeline[] = [];\r\n      const tempActualEntries: ActualTimeline[] = [];\r\n\r\n      Object.entries(ExpectedRows).forEach(([key, value]) => {\r\n        const expectedGhgValue =\r\n          key === 'ROW_ONE' || key === 'ROW_TWO' || key === 'ROW_THREE' ? `kt${mtgUnit}` : value[0];\r\n        const rowData: ExpectedTimeline = {\r\n          key: key,\r\n          ghg: expectedGhgValue,\r\n          topic: value[1],\r\n          total: 0,\r\n          values: new Array(Math.min(endYear, 2050) + 1 - mtgStartYear).fill(0),\r\n        };\r\n        tempExpectedEntries.push(rowData);\r\n      });\r\n\r\n      Object.entries(ActualRows).forEach(([key, value]) => {\r\n        const actualGhgValue = key === 'ROW_ONE' || key === 'ROW_TWO' ? `kt${mtgUnit}` : value[0];\r\n        const rowData: ActualTimeline = {\r\n          key: key,\r\n          ghg: actualGhgValue,\r\n          topic: value[1],\r\n          total: 0,\r\n          values: new Array(Math.min(endYear, 2050) + 1 - mtgStartYear).fill(0),\r\n        };\r\n        tempActualEntries.push(rowData);\r\n      });\r\n\r\n      setExpectedTimeline(tempExpectedEntries);\r\n      setActualTimeline(tempActualEntries);\r\n    }\r\n  };\r\n\r\n  // Get mtg timeline data\r\n\r\n  const fetchMtgTimelineData = async () => {\r\n    if (method !== 'create' && entId && selectedGhg) {\r\n      let response: any;\r\n      try {\r\n        response = await get(`national/activities/mitigation/${entId}`);\r\n\r\n        if (response.status === 200 || response.status === 201) {\r\n          setMtgStartYear(response.data.startYear);\r\n\r\n          const mtgUnit = findUnit(selectedGhg);\r\n\r\n          const tempExpectedEntries: ExpectedTimeline[] = [];\r\n          const tempActualEntries: ActualTimeline[] = [];\r\n\r\n          Object.entries(ExpectedRows).forEach(([key, value]) => {\r\n            const expectedGhgValue =\r\n              key === 'ROW_ONE' || key === 'ROW_TWO' || key === 'ROW_THREE'\r\n                ? `kt${mtgUnit}`\r\n                : value[0];\r\n            const rowData: ExpectedTimeline = {\r\n              key: key,\r\n              ghg: expectedGhgValue,\r\n              topic: value[1],\r\n              total: response.data.expected.total[mtgFieldMapping(value[1])],\r\n              values: response.data.expected[mtgFieldMapping(value[1])],\r\n            };\r\n            tempExpectedEntries.push(rowData);\r\n          });\r\n\r\n          Object.entries(ActualRows).forEach(([key, value]) => {\r\n            const actualGhgValue =\r\n              key === 'ROW_ONE' || key === 'ROW_TWO' ? `kt${mtgUnit}` : value[0];\r\n            const rowData: ActualTimeline = {\r\n              key: key,\r\n              ghg: actualGhgValue,\r\n              topic: value[1],\r\n              total: response.data.actual.total[mtgFieldMapping(value[1])],\r\n              values: response.data.actual[mtgFieldMapping(value[1])],\r\n            };\r\n            tempActualEntries.push(rowData);\r\n          });\r\n\r\n          setExpectedTimeline(tempExpectedEntries);\r\n          setActualTimeline(tempActualEntries);\r\n        } else {\r\n          setDefaultTimelineValues();\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching timeline data:', error);\r\n        setDefaultTimelineValues();\r\n      }\r\n    }\r\n  };\r\n\r\n  // Mtg Data Change\r\n\r\n  const onMtgValueEnter = (\r\n    tableType: 'expected' | 'actual',\r\n    rowId: string,\r\n    year: any,\r\n    value: string\r\n  ) => {\r\n    const newValue = value ? parseFloat(parseFloat(value).toFixed(2)) : 0;\r\n\r\n    if (tableType === 'expected') {\r\n      const updatedTimeline = expectedTimeline.map((entry) => {\r\n        if (entry.topic === rowId) {\r\n          entry.values[year - mtgStartYear] = newValue;\r\n          entry.total = calculateArraySum(entry.values);\r\n          return entry;\r\n        }\r\n        return entry;\r\n      });\r\n\r\n      // Updating calculated values\r\n      if (rowId === updatedTimeline[0].topic || rowId === updatedTimeline[1].topic) {\r\n        updatedTimeline[3].values = subtractTwoArrays(\r\n          updatedTimeline[0].values,\r\n          updatedTimeline[1].values,\r\n          findGWP()\r\n        );\r\n        updatedTimeline[3].total = calculateArraySum(updatedTimeline[3].values);\r\n      }\r\n\r\n      if (rowId === updatedTimeline[0].topic || rowId === updatedTimeline[2].topic) {\r\n        updatedTimeline[4].values = subtractTwoArrays(\r\n          updatedTimeline[0].values,\r\n          updatedTimeline[2].values,\r\n          findGWP()\r\n        );\r\n        updatedTimeline[4].total = calculateArraySum(updatedTimeline[4].values);\r\n      }\r\n\r\n      setExpectedTimeline(updatedTimeline);\r\n    } else {\r\n      const updatedTimeline = actualTimeline.map((entry) => {\r\n        if (entry.topic === rowId) {\r\n          entry.values[year - mtgStartYear] = newValue;\r\n          entry.total = calculateArraySum(entry.values);\r\n          return entry;\r\n        }\r\n        return entry;\r\n      });\r\n\r\n      // Updating calculated values\r\n      updatedTimeline[2].values = subtractTwoArrays(\r\n        updatedTimeline[0].values,\r\n        updatedTimeline[1].values,\r\n        findGWP()\r\n      );\r\n      updatedTimeline[2].total = calculateArraySum(updatedTimeline[2].values);\r\n\r\n      setActualTimeline(updatedTimeline);\r\n    }\r\n    setIsMtgButtonEnabled(true);\r\n  };\r\n\r\n  // MTG timeline update\r\n\r\n  const updateMtgTimeline = async () => {\r\n    try {\r\n      if (entId) {\r\n        const payload = {\r\n          activityId: entId,\r\n          mitigationTimeline: {\r\n            expected: {\r\n              baselineEmissions: expectedTimeline[0].values,\r\n              activityEmissionsWithM: expectedTimeline[1].values,\r\n              activityEmissionsWithAM: expectedTimeline[2].values,\r\n              expectedEmissionReductWithM: expectedTimeline[3].values,\r\n              expectedEmissionReductWithAM: expectedTimeline[4].values,\r\n              total: {\r\n                baselineEmissions: expectedTimeline[0].total,\r\n                activityEmissionsWithM: expectedTimeline[1].total,\r\n                activityEmissionsWithAM: expectedTimeline[2].total,\r\n                expectedEmissionReductWithM: expectedTimeline[3].total,\r\n                expectedEmissionReductWithAM: expectedTimeline[4].total,\r\n              },\r\n            },\r\n            actual: {\r\n              baselineActualEmissions: actualTimeline[0].values,\r\n              activityActualEmissions: actualTimeline[1].values,\r\n              actualEmissionReduct: actualTimeline[2].values,\r\n              total: {\r\n                baselineActualEmissions: actualTimeline[0].total,\r\n                activityActualEmissions: actualTimeline[1].total,\r\n                actualEmissionReduct: actualTimeline[2].total,\r\n              },\r\n            },\r\n          },\r\n          achievedGHGReduction: parseFloat(form.getFieldValue('achievedGHGReduction')),\r\n          expectedGHGReduction: parseFloat(form.getFieldValue('expectedGHGReduction')),\r\n        };\r\n        const response: any = await put('national/activities/mitigation/update', payload);\r\n\r\n        if (response.status === 200 || response.status === 201) {\r\n          message.open({\r\n            type: 'success',\r\n            content: t('mtgUpdateSuccess'),\r\n            duration: 3,\r\n            style: { textAlign: 'right', marginRight: 15, marginTop: 10 },\r\n          });\r\n\r\n          setIsMtgButtonEnabled(false);\r\n        }\r\n      }\r\n    } catch (error: any) {\r\n      displayErrorMessage(error, `${entId} Mitigation Timeline Failed to Update`);\r\n    }\r\n  };\r\n\r\n  // Form Submit\r\n\r\n  const handleSubmit = async (payload: any) => {\r\n    if (method === 'update' && isMtgButtonEnabled) {\r\n      displayErrorMessage('', t('saveMtgFirst'));\r\n      return;\r\n    }\r\n    try {\r\n      setWaitingForBE(true);\r\n\r\n      for (const key in payload) {\r\n        if (key.startsWith('kpi_exp') || key.startsWith('kpi_unit')) {\r\n          delete payload[key];\r\n        }\r\n      }\r\n\r\n      if (uploadedFiles.length > 0) {\r\n        if (method === 'create') {\r\n          payload.documents = [];\r\n          uploadedFiles.forEach((file) => {\r\n            payload.documents.push({ title: file.title, data: file.data });\r\n          });\r\n        } else if (method === 'update') {\r\n          payload.newDocuments = [];\r\n          uploadedFiles.forEach((file) => {\r\n            payload.newDocuments.push({ title: file.title, data: file.data });\r\n          });\r\n        }\r\n      }\r\n\r\n      if (filesToRemove.length > 0) {\r\n        payload.removedDocuments = [];\r\n        filesToRemove.forEach((removedFileKey) => {\r\n          payload.removedDocuments.push(\r\n            storedFiles.find((file) => file.key === removedFileKey)?.url\r\n          );\r\n        });\r\n      }\r\n      // KL : To allow items not associated to a parent\r\n      if (!payload.parentId) {\r\n        payload.parentId = '';\r\n      }\r\n      // ML - add the user input startYear and endYear and the calculated expectedTimeFrame to payload\r\n      payload.startYear = parseInt(payload.startYear1);\r\n      payload.endYear = parseInt(payload.endYear1);\r\n      payload.expectedTimeFrame = parseInt(payload.expectedTimeFrame);\r\n\r\n      payload.achievedGHGReduction = parseFloat(payload.achievedGHGReduction);\r\n      payload.expectedGHGReduction = parseFloat(payload.expectedGHGReduction);\r\n\r\n      payload.mitigationInfo = {\r\n        mitigationMethodology: payload.mtgMethodName,\r\n        mitigationMethodologyDescription: payload.mtgMethodDesc,\r\n        mitigationCalcEntity: payload.mtgCalculateEntity,\r\n        comments: payload.mtgComments,\r\n        methodologyDocuments: [],\r\n        resultDocuments: [],\r\n      };\r\n\r\n      if (method === 'create' && selectedGhg) {\r\n        payload.mitigationTimeline = {\r\n          expected: {\r\n            baselineEmissions: expectedTimeline[0].values,\r\n            activityEmissionsWithM: expectedTimeline[1].values,\r\n            activityEmissionsWithAM: expectedTimeline[2].values,\r\n            expectedEmissionReductWithM: expectedTimeline[3].values,\r\n            expectedEmissionReductWithAM: expectedTimeline[4].values,\r\n            total: {\r\n              baselineEmissions: expectedTimeline[0].total,\r\n              activityEmissionsWithM: expectedTimeline[1].total,\r\n              activityEmissionsWithAM: expectedTimeline[2].total,\r\n              expectedEmissionReductWithM: expectedTimeline[3].total,\r\n              expectedEmissionReductWithAM: expectedTimeline[4].total,\r\n            },\r\n          },\r\n          actual: {\r\n            baselineActualEmissions: actualTimeline[0].values,\r\n            activityActualEmissions: actualTimeline[1].values,\r\n            actualEmissionReduct: actualTimeline[2].values,\r\n            total: {\r\n              baselineActualEmissions: actualTimeline[0].total,\r\n              activityActualEmissions: actualTimeline[1].total,\r\n              actualEmissionReduct: actualTimeline[2].total,\r\n            },\r\n          },\r\n          startYear: mtgStartYear,\r\n          unit: [GHGS.CH, GHGS.NO].includes(selectedGhg) ? selectedGhg : GHGS.CO,\r\n        };\r\n      }\r\n\r\n      if (method === 'create') {\r\n        uploadedMthFiles.forEach((file) => {\r\n          payload.mitigationInfo.methodologyDocuments.push({ title: file.title, data: file.data });\r\n        });\r\n\r\n        uploadedRstFiles.forEach((file) => {\r\n          payload.mitigationInfo.resultDocuments.push({ title: file.title, data: file.data });\r\n        });\r\n      } else if (method === 'update') {\r\n        // Resolving Methodology Files\r\n\r\n        storedMthFiles.forEach((file) => {\r\n          if (!mthFilesToRemove.includes(file.key)) {\r\n            payload.mitigationInfo.methodologyDocuments.push({\r\n              createdTime: file.key,\r\n              title: file.title,\r\n              url: file.url,\r\n            });\r\n          }\r\n        });\r\n\r\n        uploadedMthFiles.forEach((file) => {\r\n          payload.mitigationInfo.methodologyDocuments.push({ title: file.title, data: file.data });\r\n        });\r\n\r\n        // Resolving Result Files\r\n\r\n        storedRstFiles.forEach((file) => {\r\n          if (!rstFilesToRemove.includes(file.key)) {\r\n            payload.mitigationInfo.resultDocuments.push({\r\n              createdTime: file.key,\r\n              title: file.title,\r\n              url: file.url,\r\n            });\r\n          }\r\n        });\r\n\r\n        uploadedRstFiles.forEach((file) => {\r\n          payload.mitigationInfo.resultDocuments.push({ title: file.title, data: file.data });\r\n        });\r\n      }\r\n\r\n      let response: any;\r\n\r\n      if (method === 'create') {\r\n        response = await post(\r\n          'national/activities/add',\r\n          processOptionalFields(payload, 'activity')\r\n        );\r\n\r\n        resolveKPIAchievements(response.data.activityId);\r\n      } else if (method === 'update') {\r\n        payload.activityId = entId;\r\n        response = await put(\r\n          'national/activities/update',\r\n          processOptionalFields(payload, 'activity')\r\n        );\r\n\r\n        resolveKPIAchievements(entId);\r\n      }\r\n\r\n      const successMsg =\r\n        method === 'create' ? t('activityCreationSuccess') : t('activityUpdateSuccess');\r\n\r\n      if (response.status === 200 || response.status === 201) {\r\n        await new Promise((resolve) => {\r\n          setTimeout(resolve, 500);\r\n        });\r\n\r\n        message.open({\r\n          type: 'success',\r\n          content: successMsg,\r\n          duration: 3,\r\n          style: { textAlign: 'right', marginRight: 15, marginTop: 10 },\r\n        });\r\n      }\r\n    } catch (error: any) {\r\n      displayErrorMessage(error);\r\n    } finally {\r\n      setWaitingForBE(false);\r\n      navigate('/activities');\r\n    }\r\n  };\r\n\r\n  // DB Queries\r\n\r\n  const fetchConnectedParent = async () => {\r\n    // ML - we no more interested with startYear, endYear, expectedTimeFrame from the Parent\r\n    // we are getting these 3 fields directly from activity\r\n    const tempMigratedData: ActivityMigratedData = {\r\n      description: undefined,\r\n      type: undefined,\r\n      affSectors: undefined,\r\n      affSubSectors: undefined,\r\n      // startYear: undefined,\r\n      // endYear: undefined,\r\n      // expectedTimeFrame: undefined,\r\n    };\r\n\r\n    if (\r\n      (parentType === 'action' || parentType === 'programme' || parentType === 'project') &&\r\n      connectedParentId\r\n    ) {\r\n      try {\r\n        const response: any = await get(`national/${parentType}s/${connectedParentId}`);\r\n\r\n        if (parentType === 'action') {\r\n          tempMigratedData.description = response.data.description;\r\n          tempMigratedData.affSectors = response.data.sector ?? undefined;\r\n          // tempMigratedData.startYear = response.data.startYear;\r\n          tempMigratedData.type = response.data.type;\r\n        } else if (parentType === 'programme') {\r\n          tempMigratedData.description = response.data.description;\r\n          tempMigratedData.affSectors = response.data.sector ?? undefined;\r\n          tempMigratedData.affSubSectors = response.data.affectedSubSector;\r\n          // tempMigratedData.startYear = response.data.startYear;\r\n          tempMigratedData.type = response.data.type;\r\n        } else {\r\n          tempMigratedData.description = response.data.description;\r\n          tempMigratedData.affSectors = response.data.sector ?? undefined;\r\n          tempMigratedData.affSubSectors = response.data.programme?.affectedSubSector ?? [];\r\n          // tempMigratedData.startYear = response.data.startYear;\r\n          // tempMigratedData.endYear = response.data.endYear;\r\n          // tempMigratedData.expectedTimeFrame = response.data.expectedTimeFrame;\r\n          tempMigratedData.type = response.data.programme?.action?.type;\r\n        }\r\n        if (method === 'create') {\r\n          // ML - we no longer want to setMtgStartYear with Parents. We will set setMtgStartYear when the user create the Activity\r\n          // setMtgStartYear(response.data.startYear); //TODO: remvove after testing\r\n        }\r\n      } catch (error: any) {\r\n        displayErrorMessage(error);\r\n      } finally {\r\n        setIsGasFlow(isGasFlowCheck(tempMigratedData.type));\r\n      }\r\n    } else {\r\n      setIsGasFlow(false);\r\n    }\r\n    setActivityMigratedData(tempMigratedData);\r\n  };\r\n\r\n  const fetchParentKPIData = async () => {\r\n    if (typeof connectedParentId === 'undefined') {\r\n      setInheritedKpiList([]);\r\n    } else if (method !== 'view' && parentType && connectedParentId && shouldFetchParentKpi) {\r\n      try {\r\n        const response: any = await get(\r\n          `national/kpis/entities/${parentType}/${connectedParentId}`\r\n        );\r\n        if (response.status === 200 || response.status === 201) {\r\n          const tempInheritedKpiList: CreatedKpiData[] = [];\r\n          let tempKpiCounter = kpiCounter;\r\n          response.data.forEach((kpi: any) => {\r\n            tempInheritedKpiList.push({\r\n              index: tempKpiCounter,\r\n              creator: kpi.creatorId,\r\n              id: kpi.kpiId,\r\n              name: kpi.name,\r\n              unit: kpi.kpiUnit,\r\n              achieved: 0,\r\n              expected: parseFloat(kpi.expected ?? 0),\r\n              kpiAction: KPIAction.NONE,\r\n            });\r\n\r\n            tempKpiCounter = tempKpiCounter + 1;\r\n          });\r\n          setKpiCounter(tempKpiCounter);\r\n          setInheritedKpiList(tempInheritedKpiList);\r\n        }\r\n      } catch (error: any) {\r\n        console.log(error, t('kpiSearchFailed'));\r\n      }\r\n    }\r\n  };\r\n\r\n  const fetchNonValidatedParents = async () => {\r\n    if (parentType === 'action' || parentType === 'programme' || parentType === 'project') {\r\n      try {\r\n        const payload = {\r\n          sort: {\r\n            key: `${parentType}Id`,\r\n            order: 'ASC',\r\n          },\r\n        };\r\n\r\n        let response: any;\r\n\r\n        if (parentType !== 'action') {\r\n          response = await post(`national/${parentType}s/query`, payload);\r\n        } else {\r\n          response = await get('national/actions/attach/query');\r\n        }\r\n\r\n        const tempParentData: ParentData[] = [];\r\n        response.data.forEach((parent: any) => {\r\n          tempParentData.push({\r\n            id:\r\n              parentType === 'action'\r\n                ? parent.actionId\r\n                : parentType === 'programme'\r\n                ? parent.programmeId\r\n                : parent.projectId,\r\n            title: parent.title,\r\n            hasChildProgrammes: parent.hasChildProgrammes ?? false,\r\n          });\r\n        });\r\n\r\n        setParentList(tempParentData);\r\n      } catch (error: any) {\r\n        displayErrorMessage(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const fetchActivityData = async () => {\r\n    if (method !== 'create' && entId) {\r\n      let response: any;\r\n      try {\r\n        response = await get(`national/activities/${entId}`);\r\n\r\n        if (response.status === 200 || response.status === 201) {\r\n          const entityData: any = response.data;\r\n          // Populating Action owned data fields\r\n          form.setFieldsValue({\r\n            title: entityData.title,\r\n            description: entityData.description,\r\n            status: entityData.status,\r\n            measure: entityData.measure ?? undefined,\r\n            nationalImplementingEntity: entityData.nationalImplementingEntity ?? undefined,\r\n            internationalImplementingEntity:\r\n              entityData.internationalImplementingEntity ?? undefined,\r\n            anchoredInNationalStrategy: entityData.anchoredInNationalStrategy ?? undefined,\r\n            meansOfImplementation: entityData.meansOfImplementation ?? undefined,\r\n            technologyType: entityData.technologyType ?? undefined,\r\n            etfDescription: entityData.etfDescription ?? undefined,\r\n            comment: entityData.comment ?? undefined,\r\n            ghgsAffected: entityData.ghgsAffected ?? undefined,\r\n            achievedGHGReduction: entityData.achievedGHGReduction,\r\n            achievedGHGReductionAlternate: entityData.achievedGHGReductionAlternate ?? undefined,\r\n            expectedGHGReduction: entityData.expectedGHGReduction,\r\n            recipientEntities: entityData.recipientEntities ?? [],\r\n            // ML - we now get the startYear and endYear directly from activity\r\n            startYear1: entityData.startYear ?? undefined,\r\n            endYear1: entityData.endYear ?? undefined,\r\n            expectedTimeFrame: entityData.expectedTimeFrame ?? undefined,\r\n            ipccSubSector: entityData.ipccSubSector ?? undefined,\r\n          });\r\n\r\n          // ML - Just to be safe - set the original startYear and endYear with the values from activity entity\r\n          setStartYear(entityData.startYear);\r\n          setEndYear(entityData.endYear);\r\n\r\n          // Populating Mitigation data fields\r\n          form.setFieldsValue({\r\n            mtgMethodName: entityData.mitigationInfo?.mitigationMethodology ?? undefined,\r\n            mtgMethodDesc: entityData.mitigationInfo?.mitigationMethodologyDescription ?? undefined,\r\n            mtgCalculateEntity: entityData.mitigationInfo?.mitigationCalcEntity ?? undefined,\r\n            mtgComments: entityData.mitigationInfo?.comments ?? undefined,\r\n          });\r\n\r\n          // Parent Data Update\r\n\r\n          if (entityData.parentType) {\r\n            form.setFieldsValue({\r\n              parentType: entityData.parentType,\r\n              parentId: entityData.parentId,\r\n            });\r\n            setParentType(entityData.parentType ?? undefined);\r\n            setConnectedParentId(entityData.parentId ?? '');\r\n          }\r\n\r\n          if (entityData.achievedGHGReductionAlternate) {\r\n            setIsAchievedAlternate(true);\r\n          }\r\n\r\n          // Setting validation status\r\n\r\n          setIsValidated(entityData.validated ?? false);\r\n\r\n          // Setting selected ghg\r\n\r\n          setSelectedGhg(entityData.ghgsAffected ?? undefined);\r\n\r\n          // Setting up uploaded files\r\n\r\n          if (entityData.documents?.length > 0) {\r\n            const tempFiles: { key: string; title: string; url: string }[] = [];\r\n            entityData.documents.forEach((document: any) => {\r\n              tempFiles.push({\r\n                key: document.createdTime,\r\n                title: document.title,\r\n                url: document.url,\r\n              });\r\n            });\r\n            setStoredFiles(tempFiles);\r\n          }\r\n\r\n          if (entityData.mitigationInfo?.methodologyDocuments?.length > 0) {\r\n            const tempFiles: { key: string; title: string; url: string }[] = [];\r\n            entityData.mitigationInfo?.methodologyDocuments.forEach((document: any) => {\r\n              tempFiles.push({\r\n                key: document.createdTime,\r\n                title: document.title,\r\n                url: document.url,\r\n              });\r\n            });\r\n            setStoredMthFiles(tempFiles);\r\n          }\r\n\r\n          if (entityData.mitigationInfo?.resultDocuments?.length > 0) {\r\n            const tempFiles: { key: string; title: string; url: string }[] = [];\r\n            entityData.mitigationInfo?.resultDocuments.forEach((document: any) => {\r\n              tempFiles.push({\r\n                key: document.createdTime,\r\n                title: document.title,\r\n                url: document.url,\r\n              });\r\n            });\r\n            setStoredRstFiles(tempFiles);\r\n          }\r\n        }\r\n      } catch {\r\n        navigate('/activities');\r\n      }\r\n      setIsSaveButtonDisabled(true);\r\n    }\r\n  };\r\n\r\n  const fetchSupportData = async () => {\r\n    if (method !== 'create') {\r\n      try {\r\n        const tempSupportData: SupportData[] = [];\r\n\r\n        const payload = {\r\n          filterAnd: [\r\n            {\r\n              key: 'activityId',\r\n              operation: '=',\r\n              value: entId,\r\n            },\r\n          ],\r\n          sort: {\r\n            key: 'supportId',\r\n            order: 'ASC',\r\n          },\r\n        };\r\n\r\n        const response: any = await post('national/supports/query', payload);\r\n\r\n        response.data.forEach((sup: any, index: number) => {\r\n          tempSupportData.push({\r\n            key: index.toString(),\r\n            supportId: sup.supportId,\r\n            financeNature: sup.financeNature,\r\n            direction: sup.direction,\r\n            finInstrument:\r\n              sup.financeNature === 'International'\r\n                ? sup.internationalFinancialInstrument\r\n                : sup.nationalFinancialInstrument,\r\n            estimatedUSD: getRounded(sup.requiredAmount ?? 0),\r\n            estimatedLC: getRounded(sup.requiredAmountDomestic ?? 0),\r\n            recievedUSD: getRounded(sup.receivedAmount ?? 0),\r\n            recievedLC: getRounded(sup.receivedAmountDomestic ?? 0),\r\n          });\r\n        });\r\n        setSupportData(tempSupportData);\r\n      } catch {\r\n        setSupportData([]);\r\n      }\r\n    }\r\n  };\r\n\r\n  const fetchCreatedKPIData = async () => {\r\n    if (method !== 'create' && entId) {\r\n      try {\r\n        const response: any = await get(`national/kpis/entities/activity/${entId}`);\r\n        if (response.status === 200 || response.status === 201) {\r\n          const tempInheritedKpiList: CreatedKpiData[] = [];\r\n          let tempKpiCounter = kpiCounter;\r\n          response.data.forEach((kpi: any) => {\r\n            tempInheritedKpiList.push({\r\n              index: tempKpiCounter,\r\n              creator: kpi.creatorId,\r\n              id: kpi.kpiId,\r\n              name: kpi.name,\r\n              unit: kpi.kpiUnit,\r\n              achieved: parseFloat(\r\n                kpi.achievements?.find((achEntity: any) => achEntity.activityId === entId)\r\n                  ?.achieved ?? 0\r\n              ),\r\n              expected: parseFloat(kpi.expected ?? 0),\r\n              kpiAction: KPIAction.NONE,\r\n            });\r\n\r\n            tempKpiCounter = tempKpiCounter + 1;\r\n          });\r\n          setKpiCounter(tempKpiCounter);\r\n          setInheritedKpiList(tempInheritedKpiList);\r\n        }\r\n      } catch (error: any) {\r\n        console.log(error, t('kpiSearchFailed'));\r\n      }\r\n    }\r\n  };\r\n\r\n  // ML we need a new function to set the startYear and mtgStartYear states when the user change the it on the form\r\n  const handleStartYearChanges = (value: number | undefined) => {\r\n    if (value) {\r\n      setStartYear(value);\r\n      setMtgStartYear(value);\r\n      // ML, we set the  mtgStartYear only when the user first create the activity record\r\n      if (method === 'create') {\r\n        setMtgStartYear(value);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Dynamic Updates\r\n  // KL - To toggle Achieved Alternate Checkbox\r\n  const toggleAchievedAlternate = (e: CheckboxChangeEvent) => {\r\n    if (!e.target.checked) {\r\n      form.setFieldsValue({\r\n        achievedGHGReductionAlternate: undefined,\r\n      });\r\n    }\r\n    handleValuesChange();\r\n    setIsAchievedAlternate(e.target.checked);\r\n  };\r\n\r\n  // Initializing mtg timeline data\r\n\r\n  useEffect(() => {\r\n    if (method === 'create') {\r\n      setDefaultTimelineValues();\r\n    } else {\r\n      try {\r\n        fetchMtgTimelineData();\r\n      } catch (error) {\r\n        console.error('Error fetching MTG timeline data:', error);\r\n        setDefaultTimelineValues();\r\n      }\r\n    }\r\n  }, [mtgStartYear, selectedGhg]);\r\n\r\n  useEffect(() => {\r\n    if (method === 'update' && mtgStartYear === 0 && startYear1) {\r\n      setMtgStartYear(startYear1);\r\n    }\r\n  }, [selectedGhg]);\r\n\r\n  // Tracking Parent selection\r\n\r\n  useEffect(() => {\r\n    fetchConnectedParent();\r\n    fetchParentKPIData();\r\n  }, [connectedParentId]);\r\n\r\n  // Loading All Entities that can be parent on Parent Type select\r\n\r\n  useEffect(() => {\r\n    fetchNonValidatedParents();\r\n  }, [parentType]);\r\n\r\n  // Populating Form Migrated Fields, when migration data changes\r\n\r\n  useEffect(() => {\r\n    if (activityMigratedData) {\r\n      form.setFieldsValue({\r\n        parentDescription: activityMigratedData.description,\r\n        supportType: activityMigratedData.type,\r\n        sector: activityMigratedData.affSectors,\r\n        affSubSectors: activityMigratedData.affSubSectors,\r\n        // ML - again we do not want to set the activity form with these parent data\r\n        //startYear: activityMigratedData.startYear,\r\n        //endYear: activityMigratedData.endYear,\r\n        //expectedTimeFrame: activityMigratedData.expectedTimeFrame,\r\n      });\r\n    }\r\n  }, [activityMigratedData]);\r\n\r\n  // Finding Achieved and Expected Emission Values\r\n\r\n  useEffect(() => {\r\n    if (expectedTimeline && expectedTimeline.length === 5) {\r\n      const expectedValues = expectedTimeline[3].values;\r\n      const mostRecentYearIndex = Math.max(0, Math.min(mtgRange, currentYear - mtgStartYear));\r\n\r\n      let expectedValue = 0;\r\n\r\n      for (let i = mostRecentYearIndex; i >= 0; i--) {\r\n        if (expectedValues[i] !== 0) {\r\n          expectedValue = expectedValues[i];\r\n          break;\r\n        }\r\n      }\r\n\r\n      form.setFieldsValue({\r\n        expectedGHGReduction: expectedValue ?? 0,\r\n      });\r\n    }\r\n  }, [expectedTimeline]);\r\n\r\n  useEffect(() => {\r\n    if (actualTimeline && actualTimeline.length === 3) {\r\n      const actualValues = actualTimeline[2].values;\r\n      const mostRecentYearIndex = Math.max(0, Math.min(mtgRange, currentYear - mtgStartYear));\r\n\r\n      let actualValue = 0;\r\n\r\n      for (let i = mostRecentYearIndex; i >= 0; i--) {\r\n        if (actualValues[i] !== 0) {\r\n          actualValue = actualValues[i];\r\n          break;\r\n        }\r\n      }\r\n\r\n      form.setFieldsValue({\r\n        achievedGHGReduction: actualValue ?? 0,\r\n      });\r\n    }\r\n  }, [actualTimeline]);\r\n\r\n  // Init JOb\r\n\r\n  useEffect(() => {\r\n    Promise.all([\r\n      fetchActivityData(),\r\n      fetchSupportData(),\r\n      fetchCreatedKPIData(),\r\n      fetchGwpSettings(),\r\n    ]).then(() => {\r\n      setIsFirstRenderDone(true);\r\n    });\r\n  }, []);\r\n\r\n  // ML - let calculate expectedTimeFrame which is a new field in activity\r\n  useEffect(() => {\r\n    if (startYear1 && endYear1 && endYear1 >= startYear1) {\r\n      form.setFieldsValue({\r\n        expectedTimeFrame: endYear1 - startYear1,\r\n      });\r\n    } else {\r\n      form.setFieldsValue({\r\n        expectedTimeFrame: undefined,\r\n      });\r\n    }\r\n  }, [startYear1, endYear1]);\r\n\r\n  return (\r\n    <div className=\"content-container\">\r\n      <ConfirmPopup\r\n        key={'delete_popup'}\r\n        icon={<DeleteOutlined style={{ color: '#ff4d4f', fontSize: '120px' }} />}\r\n        isDanger={true}\r\n        content={{\r\n          primaryMsg: `${t('deletePrimaryMsg')} ${entId}`,\r\n          secondaryMsg: t('deleteSecondaryMsg'),\r\n          cancelTitle: t('entityAction:cancel'),\r\n          actionTitle: t('entityAction:delete'),\r\n        }}\r\n        actionRef={entId}\r\n        doAction={deleteEntity}\r\n        open={openDeletePopup}\r\n        setOpen={setOpenDeletePopup}\r\n      />\r\n      <div className=\"title-bar\">\r\n        <div className=\"body-title\">{t(formTitle)}</div>\r\n      </div>\r\n      <Form\r\n        form={form}\r\n        onFinish={handleSubmit}\r\n        layout=\"vertical\"\r\n        onValuesChange={handleValuesChange}\r\n      >\r\n        {!waitingForBE && isFirstRenderDone ? (\r\n          <div className=\"activity-form\">\r\n            <div className=\"form-section-card\">\r\n              <div className=\"form-section-header\">{t('generalInfoTitle')}</div>\r\n              {method !== 'create' && entId && (\r\n                <EntityIdCard\r\n                  calledIn=\"Activity\"\r\n                  entId={entId}\r\n                  isValidated={isValidated}\r\n                ></EntityIdCard>\r\n              )}\r\n              <Row gutter={gutterSize}>\r\n                <Col {...halfColumnBps}>\r\n                  <Form.Item\r\n                    label={<label className=\"form-item-header\">{t('activityTitle')}</label>}\r\n                    name=\"title\"\r\n                    rules={[validation.required]}\r\n                  >\r\n                    <Input className=\"form-input-box\" disabled={isView} />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col {...halfColumnBps}>\r\n                  <Form.Item\r\n                    label={<label className=\"form-item-header\">{t('activityDescTitle')}</label>}\r\n                    name=\"description\"\r\n                    rules={[validation.required]}\r\n                  >\r\n                    <TextArea maxLength={250} rows={3} disabled={isView} />\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n              <Row gutter={gutterSize}>\r\n                <Col {...halfColumnBps}>\r\n                  <Form.Item\r\n                    label={<label className=\"form-item-header\">{t('parentTypeTitle')}</label>}\r\n                    name=\"parentType\"\r\n                    rules={method !== 'create' ? undefined : [validation.required]}\r\n                  >\r\n                    <Select\r\n                      size=\"large\"\r\n                      style={{ fontSize: inputFontSize }}\r\n                      allowClear\r\n                      disabled={method === 'view'}\r\n                      showSearch\r\n                      onChange={handleParentTypeSelect}\r\n                    >\r\n                      {Object.values(ParentType).map((parent) => (\r\n                        <Option key={parent} value={parent}>\r\n                          {t(parent)}\r\n                        </Option>\r\n                      ))}\r\n                    </Select>\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col {...halfColumnBps}>\r\n                  <Form.Item\r\n                    label={<label className=\"form-item-header\">{t('activityStatusTitle')}</label>}\r\n                    name=\"status\"\r\n                    rules={[validation.required]}\r\n                  >\r\n                    <Select\r\n                      size=\"large\"\r\n                      style={{ fontSize: inputFontSize }}\r\n                      allowClear\r\n                      disabled={isView}\r\n                      showSearch\r\n                    >\r\n                      {Object.values(ActivityStatus).map((status) => (\r\n                        <Option key={status} value={status}>\r\n                          {status}\r\n                        </Option>\r\n                      ))}\r\n                    </Select>\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n              {parentType ? (\r\n                <Row gutter={gutterSize}>\r\n                  <Col {...halfColumnBps}>\r\n                    <Form.Item\r\n                      label={\r\n                        <label className=\"form-item-header\">\r\n                          {`${t('selectParentTitle')} ${t(parentType)}`}\r\n                        </label>\r\n                      }\r\n                      name=\"parentId\"\r\n                      // rules={method !== 'create' ? undefined : [validation.required]}\r\n                    >\r\n                      <Select\r\n                        size={'large'}\r\n                        style={{ fontSize: inputFontSize }}\r\n                        allowClear\r\n                        disabled={method === 'view'}\r\n                        showSearch\r\n                        onChange={handleParentIdSelect}\r\n                      >\r\n                        {parentList.map((parent) => (\r\n                          <Option\r\n                            key={parent.id}\r\n                            value={parent.id}\r\n                            disabled={parent.hasChildProgrammes}\r\n                          >\r\n                            <span\r\n                              style={{ color: parent.hasChildProgrammes ? '#ff4d4f' : 'inherit' }}\r\n                            >\r\n                              {parent.hasChildProgrammes\r\n                                ? `${parent.id} : Attached to Programmes`\r\n                                : `${parent.id} - ${parent.title}`}\r\n                            </span>\r\n                          </Option>\r\n                        ))}\r\n                        <Option key={0} value={''}>\r\n                          <span style={{ color: 'inherit' }}>None</span>\r\n                        </Option>\r\n                      </Select>\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col {...halfColumnBps}>\r\n                    <Form.Item\r\n                      label={\r\n                        <label className=\"form-item-header\">\r\n                          {`${t('parentDescTitle')} ${t(parentType)}`}\r\n                        </label>\r\n                      }\r\n                      name=\"parentDescription\"\r\n                    >\r\n                      <TextArea maxLength={250} rows={3} disabled />\r\n                    </Form.Item>\r\n                  </Col>\r\n                </Row>\r\n              ) : null}\r\n              <Row gutter={gutterSize}>\r\n                <Col {...halfColumnBps}>\r\n                  <Form.Item\r\n                    label={\r\n                      <label className=\"form-item-header\">\r\n                        {t('formHeader:natImplementerHeader')}\r\n                      </label>\r\n                    }\r\n                    name=\"nationalImplementingEntity\"\r\n                  >\r\n                    <Select\r\n                      mode=\"multiple\"\r\n                      size=\"large\"\r\n                      style={{ fontSize: inputFontSize }}\r\n                      allowClear\r\n                      disabled={isView}\r\n                      showSearch\r\n                    >\r\n                      {Object.values(NatImplementor).map((implementer) => (\r\n                        <Option key={implementer} value={implementer}>\r\n                          {implementer}\r\n                        </Option>\r\n                      ))}\r\n                    </Select>\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col {...halfColumnBps}>\r\n                  <Form.Item\r\n                    label={\r\n                      <label className=\"form-item-header\">\r\n                        {t('formHeader:intImplementerHeader')}\r\n                      </label>\r\n                    }\r\n                    name=\"internationalImplementingEntity\"\r\n                  >\r\n                    <Select\r\n                      mode=\"multiple\"\r\n                      size=\"large\"\r\n                      style={{ fontSize: inputFontSize }}\r\n                      allowClear\r\n                      disabled={isView}\r\n                      showSearch\r\n                    >\r\n                      {Object.values(IntImplementor).map((implementer) => (\r\n                        <Option key={implementer} value={implementer}>\r\n                          {implementer}\r\n                        </Option>\r\n                      ))}\r\n                    </Select>\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n              <Row gutter={gutterSize}>\r\n                <Col {...halfColumnBps}>\r\n                  <Form.Item\r\n                    label={\r\n                      <label className=\"form-item-header\">\r\n                        {t('formHeader:recipientEntityHeader')}\r\n                      </label>\r\n                    }\r\n                    name=\"recipientEntities\"\r\n                    rules={[validation.required]}\r\n                  >\r\n                    <Select\r\n                      mode=\"multiple\"\r\n                      size=\"large\"\r\n                      style={{ fontSize: inputFontSize }}\r\n                      disabled={isView}\r\n                      showSearch\r\n                    >\r\n                      {Object.values(Recipient).map((recipient) => (\r\n                        <Option key={recipient} value={recipient}>\r\n                          {recipient}\r\n                        </Option>\r\n                      ))}\r\n                    </Select>\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col {...halfColumnBps}>\r\n                  <Form.Item\r\n                    label={\r\n                      <label className=\"form-item-header\">{t('formHeader:supportTypeTitle')}</label>\r\n                    }\r\n                    name=\"supportType\"\r\n                  >\r\n                    <Select size=\"large\" style={{ fontSize: inputFontSize }} disabled></Select>\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n              <Row gutter={gutterSize}>\r\n                <Col {...halfColumnBps}>\r\n                  <Row gutter={gutterSize}>\r\n                    <Col {...halfColumnBps}>\r\n                      <Form.Item\r\n                        label={\r\n                          <label className=\"form-item-header\">\r\n                            {t('formHeader:sectorsAffectedHeader')}\r\n                          </label>\r\n                        }\r\n                        name=\"sector\"\r\n                      >\r\n                        <Select size=\"large\" style={{ fontSize: inputFontSize }} disabled></Select>\r\n                      </Form.Item>\r\n                    </Col>\r\n                    {(parentType === 'programme' || parentType === 'project') && (\r\n                      <Col {...halfColumnBps}>\r\n                        <Form.Item\r\n                          label={\r\n                            <label className=\"form-item-header\">\r\n                              {t('formHeader:subSectorsAffectedHeader')}\r\n                            </label>\r\n                          }\r\n                          name=\"affSubSectors\"\r\n                        >\r\n                          <Select\r\n                            mode=\"multiple\"\r\n                            size=\"large\"\r\n                            style={{ fontSize: inputFontSize }}\r\n                            disabled\r\n                          ></Select>\r\n                        </Form.Item>\r\n                      </Col>\r\n                    )}\r\n                    <Col {...halfColumnBps}>\r\n                      <Form.Item\r\n                        label={\r\n                          <label className=\"form-item-header\">\r\n                            {t('formHeader:ipccSubSectorHeader')}\r\n                          </label>\r\n                        }\r\n                        name=\"ipccSubSector\"\r\n                        rules={[validation.required]}\r\n                      >\r\n                        <Select\r\n                          showSearch\r\n                          size=\"large\"\r\n                          style={{ fontSize: inputFontSize }}\r\n                          disabled={isView}\r\n                        >\r\n                          {Object.entries(IpccSubSector).map((ipccSubSector) => {\r\n                            return (\r\n                              <Option key={ipccSubSector[0]} value={ipccSubSector[1]}>\r\n                                {ipccSubSector[1]}\r\n                              </Option>\r\n                            );\r\n                          })}\r\n                        </Select>\r\n                      </Form.Item>\r\n                    </Col>\r\n                  </Row>\r\n                </Col>\r\n                <Col {...halfColumnBps}>\r\n                  <Row gutter={gutterSize}>\r\n                    {/* ML - since we now want users to select a startYear and endYear no matter of the parentType - we also add expectedTimeFrame which is calculated*/}\r\n                    <Col {...halfColumnBps}>\r\n                      <Form.Item\r\n                        label={\r\n                          <label className=\"form-item-header\">\r\n                            {t('formHeader:startYearTitle')}\r\n                          </label>\r\n                        }\r\n                        name=\"startYear1\"\r\n                        rules={[\r\n                          validation.required,\r\n                          ({ getFieldValue }) => ({\r\n                            // eslint-disable-next-line no-unused-vars\r\n                            validator(_, value) {\r\n                              if (!value || getFieldValue('endYear1') >= value) {\r\n                                return Promise.resolve();\r\n                              }\r\n                              return Promise.reject('Cannot be greater than End Year!');\r\n                            },\r\n                          }),\r\n                        ]}\r\n                        dependencies={['endYear1']}\r\n                      >\r\n                        <Select\r\n                          size=\"large\"\r\n                          style={{ fontSize: inputFontSize }}\r\n                          allowClear\r\n                          disabled={isView}\r\n                          showSearch\r\n                          onChange={(value) => {\r\n                            handleStartYearChanges(value);\r\n                          }}\r\n                        >\r\n                          {yearsList.slice(1).map((year) => (\r\n                            <Option key={year} value={year}>\r\n                              {year}\r\n                            </Option>\r\n                          ))}\r\n                        </Select>\r\n                      </Form.Item>\r\n                    </Col>\r\n                    <Col {...halfColumnBps}>\r\n                      <Form.Item\r\n                        label={\r\n                          <label className=\"form-item-header\">{t('formHeader:endYearTitle')}</label>\r\n                        }\r\n                        name=\"endYear1\"\r\n                        rules={[\r\n                          validation.required,\r\n                          ({ getFieldValue }) => ({\r\n                            // eslint-disable-next-line no-unused-vars\r\n                            validator(_, value) {\r\n                              if (!value || getFieldValue('startYear1') <= value) {\r\n                                return Promise.resolve();\r\n                              }\r\n                              return Promise.reject('Cannot be lower than Start Year!');\r\n                            },\r\n                          }),\r\n                        ]}\r\n                        dependencies={['startYear1']}\r\n                      >\r\n                        <Select\r\n                          size=\"large\"\r\n                          style={{ fontSize: inputFontSize }}\r\n                          allowClear\r\n                          disabled={isView}\r\n                          showSearch\r\n                          onChange={(value) => {\r\n                            setEndYear(value);\r\n                          }}\r\n                        >\r\n                          {yearsList.slice(1).map((year) => (\r\n                            <Option key={year} value={year}>\r\n                              {year}\r\n                            </Option>\r\n                          ))}\r\n                        </Select>\r\n                      </Form.Item>\r\n                    </Col>\r\n                    <Col {...halfColumnBps}>\r\n                      <Form.Item\r\n                        label={\r\n                          <label className=\"form-item-header\">\r\n                            {t('formHeader:timeFrameHeader')}\r\n                          </label>\r\n                        }\r\n                        name=\"expectedTimeFrame\"\r\n                      >\r\n                        <Input type=\"number\" className=\"form-input-box\" disabled />\r\n                      </Form.Item>\r\n                    </Col>\r\n                  </Row>\r\n                </Col>\r\n              </Row>\r\n              <Row gutter={gutterSize}>\r\n                {isGasFlow && (\r\n                  <Col {...halfColumnBps}>\r\n                    <Form.Item\r\n                      label={\r\n                        <label className=\"form-item-header\">{t('formHeader:measuresTitle')}</label>\r\n                      }\r\n                      name=\"measure\"\r\n                    >\r\n                      <Select\r\n                        size=\"large\"\r\n                        style={{ fontSize: inputFontSize }}\r\n                        allowClear\r\n                        disabled={isView}\r\n                        showSearch\r\n                      >\r\n                        {Object.values(Measure).map((measure) => (\r\n                          <Option key={measure} value={measure}>\r\n                            {measure}\r\n                          </Option>\r\n                        ))}\r\n                      </Select>\r\n                    </Form.Item>\r\n                  </Col>\r\n                )}\r\n                {parentType === 'project' && (\r\n                  <Col {...halfColumnBps}>\r\n                    <Form.Item\r\n                      label={\r\n                        <label className=\"form-item-header\">\r\n                          {t('formHeader:timeFrameHeader')}\r\n                        </label>\r\n                      }\r\n                      name=\"expectedTimeFrame\"\r\n                    >\r\n                      <Input className=\"form-input-box\" disabled />\r\n                    </Form.Item>\r\n                  </Col>\r\n                )}\r\n              </Row>\r\n              <Row gutter={gutterSize}>\r\n                <Col {...halfColumnBps}>\r\n                  <Form.Item\r\n                    label={\r\n                      <label className=\"form-item-header\">{t('formHeader:natAnchorHeader')}</label>\r\n                    }\r\n                    name=\"anchoredInNationalStrategy\"\r\n                  >\r\n                    <Select\r\n                      size=\"large\"\r\n                      style={{ fontSize: inputFontSize }}\r\n                      allowClear\r\n                      disabled={isView}\r\n                      showSearch\r\n                    >\r\n                      <Option key={'yes'} value={true}>\r\n                        {'Yes'}\r\n                      </Option>\r\n                      <Option key={'no'} value={false}>\r\n                        {'No'}\r\n                      </Option>\r\n                    </Select>\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col {...halfColumnBps}>\r\n                  <Form.Item\r\n                    label={\r\n                      <label className=\"form-item-header\">{t('formHeader:implMeansTitle')}</label>\r\n                    }\r\n                    name=\"meansOfImplementation\"\r\n                  >\r\n                    <Select\r\n                      size={'large'}\r\n                      style={{ fontSize: inputFontSize }}\r\n                      allowClear\r\n                      disabled={isView}\r\n                      showSearch\r\n                    >\r\n                      {Object.values(ImplMeans).map((mean) => (\r\n                        <Option key={mean} value={mean}>\r\n                          {mean}\r\n                        </Option>\r\n                      ))}\r\n                    </Select>\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n              <Row gutter={gutterSize}>\r\n                <Col {...halfColumnBps}>\r\n                  <Form.Item\r\n                    label={\r\n                      <label className=\"form-item-header\">{t('formHeader:techTypeTitle')}</label>\r\n                    }\r\n                    name=\"technologyType\"\r\n                  >\r\n                    <Select\r\n                      size=\"large\"\r\n                      style={{ fontSize: inputFontSize }}\r\n                      allowClear\r\n                      disabled={isView}\r\n                      showSearch\r\n                    >\r\n                      {Object.values(TechnologyType).map((tech) => (\r\n                        <Option key={tech} value={tech}>\r\n                          {tech}\r\n                        </Option>\r\n                      ))}\r\n                    </Select>\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col {...halfColumnBps}>\r\n                  <Form.Item\r\n                    label={\r\n                      <label className=\"form-item-header\">\r\n                        {t('formHeader:additionalInfoTitle')}\r\n                      </label>\r\n                    }\r\n                    name=\"etfDescription\"\r\n                  >\r\n                    <TextArea maxLength={250} rows={3} disabled={isView} />\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n              <div className=\"form-section-sub-header\">{t('formHeader:documentsHeader')}</div>\r\n              <UploadFileGrid\r\n                isSingleColumn={false}\r\n                usedIn={method}\r\n                buttonText={t('entityAction:upload')}\r\n                storedFiles={storedFiles}\r\n                uploadedFiles={uploadedFiles}\r\n                setUploadedFiles={setUploadedFiles}\r\n                removedFiles={filesToRemove}\r\n                setRemovedFiles={setFilesToRemove}\r\n                setIsSaveButtonDisabled={setIsSaveButtonDisabled}\r\n              ></UploadFileGrid>\r\n              <Row gutter={gutterSize}>\r\n                <Col span={24}>\r\n                  <Form.Item\r\n                    label={<label className=\"form-item-header\">{t('activityCommentsTitle')}</label>}\r\n                    name=\"comment\"\r\n                  >\r\n                    <TextArea rows={3} disabled={isView} />\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n              {isGasFlow && (\r\n                <>\r\n                  <div className=\"form-section-header\">\r\n                    {t('formHeader:activityResultsInfoTitle')}\r\n                  </div>\r\n                  <div className=\"form-section-sub-header\">{t('formHeader:emissionInfoTitle')}</div>\r\n                  <Row gutter={gutterSize}>\r\n                    <Col {...halfColumnBps}>\r\n                      <Form.Item\r\n                        label={\r\n                          <label className=\"form-item-header\">{t('formHeader:ghgAffected')}</label>\r\n                        }\r\n                        name=\"ghgsAffected\"\r\n                        rules={[validation.required]}\r\n                      >\r\n                        <Select\r\n                          size=\"large\"\r\n                          style={{ fontSize: inputFontSize }}\r\n                          allowClear\r\n                          disabled={method === 'view'}\r\n                          showSearch\r\n                          onChange={(value: GHGS) => setSelectedGhg(value)}\r\n                        >\r\n                          {Object.values(GHGS)\r\n                            .filter((ghg) => ghg !== GHGS.COE)\r\n                            .map((ghg) => (\r\n                              <Option key={ghg} value={ghg}>\r\n                                {ghg}\r\n                              </Option>\r\n                            ))}\r\n                        </Select>\r\n                      </Form.Item>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row gutter={gutterSize}>\r\n                    <Col {...halfColumnBps}>\r\n                      <Form.Item\r\n                        label={\r\n                          <label className=\"form-item-header\">{t('formHeader:achieved')}</label>\r\n                        }\r\n                        name=\"achievedGHGReduction\"\r\n                      >\r\n                        <Input type=\"number\" className=\"form-input-box\" disabled />\r\n                      </Form.Item>\r\n                    </Col>\r\n                    <Col {...halfColumnBps}>\r\n                      <Form.Item\r\n                        label={\r\n                          <label className=\"form-item-header\">{t('formHeader:expected')}</label>\r\n                        }\r\n                        name=\"expectedGHGReduction\"\r\n                      >\r\n                        <Input type=\"number\" className=\"form-input-box\" disabled />\r\n                      </Form.Item>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row gutter={gutterSize}>\r\n                    <Col {...halfColumnBps} style={{ paddingRight: '10px' }}>\r\n                      <Form.Item\r\n                        label={\r\n                          <label className=\"form-item-header\">{t('formHeader:achievedAlt')}</label>\r\n                        }\r\n                        name=\"achievedGHGReductionAlternate\"\r\n                        className=\"form-item-checkbox-input\"\r\n                      >\r\n                        <Input\r\n                          addonBefore={\r\n                            <Checkbox\r\n                              onChange={toggleAchievedAlternate}\r\n                              disabled={isView}\r\n                              checked={isAchievedAlternate}\r\n                            />\r\n                          }\r\n                          type=\"text\"\r\n                          className=\"form-input-box\"\r\n                          disabled={!isAchievedAlternate || isView}\r\n                          size=\"large\"\r\n                          maxLength={30}\r\n                        />\r\n                      </Form.Item>\r\n                    </Col>\r\n                  </Row>\r\n                </>\r\n              )}\r\n              {inheritedKpiList.length > 0 && (\r\n                <div className=\"form-section-sub-header\">{t('formHeader:kpiInfoTitle')}</div>\r\n              )}\r\n              {method === 'view'\r\n                ? inheritedKpiList.map((inheritedKPI: CreatedKpiData, index: number) => (\r\n                    <ViewKpi\r\n                      key={index}\r\n                      index={index}\r\n                      inherited={true}\r\n                      headerNames={[\r\n                        t('formHeader:kpiName'),\r\n                        t('formHeader:kpiUnit'),\r\n                        t('formHeader:achieved'),\r\n                        t('formHeader:expected'),\r\n                      ]}\r\n                      kpi={inheritedKPI}\r\n                      callingEntityId={entId}\r\n                      ownerEntityId={inheritedKPI.creator}\r\n                    ></ViewKpi>\r\n                  ))\r\n                : inheritedKpiList.map((inheritedKPI: CreatedKpiData) => (\r\n                    <EditKpi\r\n                      key={inheritedKPI.index}\r\n                      index={inheritedKPI.index}\r\n                      form={form}\r\n                      rules={[validation.required]}\r\n                      isFromActivity={true}\r\n                      headerNames={[\r\n                        t('formHeader:kpiName'),\r\n                        t('formHeader:kpiUnit'),\r\n                        t('formHeader:achieved'),\r\n                        t('formHeader:expected'),\r\n                      ]}\r\n                      kpi={inheritedKPI}\r\n                      updateKPI={updateKPI}\r\n                    ></EditKpi>\r\n                  ))}\r\n            </div>\r\n            {method !== 'create' && (\r\n              <div className=\"form-section-card\">\r\n                <Row>\r\n                  <Col span={6}>\r\n                    <div className=\"form-section-header\">{t('supportTableHeader')}</div>\r\n                  </Col>\r\n                </Row>\r\n                <Row>\r\n                  <Col span={24}>\r\n                    <LayoutTable\r\n                      tableData={supportData}\r\n                      columns={supportTableColumns}\r\n                      loading={false}\r\n                      pagination={{\r\n                        current: supportCurrentPage,\r\n                        pageSize: supportPageSize,\r\n                        total: supportData.length,\r\n                        showQuickJumper: true,\r\n                        pageSizeOptions: ['10', '20', '30'],\r\n                        showSizeChanger: true,\r\n                        style: { textAlign: 'center' },\r\n                        locale: { page: '' },\r\n                        position: ['bottomRight'],\r\n                      }}\r\n                      handleTableChange={handleSupportTableChange}\r\n                      emptyMessage={t('noSupportsMessage')}\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n              </div>\r\n            )}\r\n            <div className=\"form-section-card\">\r\n              <div className=\"form-section-header\">{t('mtgInfoTitle')}</div>\r\n              <Row gutter={gutterSize}>\r\n                <Col {...mtgHalfColumnBps}>\r\n                  <Form.Item\r\n                    label={<label className=\"form-item-header\">{t('mtgMethodName')}</label>}\r\n                    name=\"mtgMethodName\"\r\n                  >\r\n                    <Input className=\"form-input-box\" disabled={isView} />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col {...mtgHalfColumnBps}>\r\n                  <Form.Item\r\n                    label={<label className=\"form-item-header\">{t('mtgDocUploadOne')}</label>}\r\n                  >\r\n                    <UploadFileGrid\r\n                      isSingleColumn={true}\r\n                      usedIn={method}\r\n                      buttonText={t('entityAction:upload')}\r\n                      storedFiles={storedMthFiles}\r\n                      uploadedFiles={uploadedMthFiles}\r\n                      setUploadedFiles={setUploadedMthFiles}\r\n                      removedFiles={mthFilesToRemove}\r\n                      setRemovedFiles={setMthFilesToRemove}\r\n                      setIsSaveButtonDisabled={setIsSaveButtonDisabled}\r\n                    ></UploadFileGrid>\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n              <Row gutter={gutterSize}>\r\n                <Col {...mtgHalfColumnBps}>\r\n                  <Form.Item\r\n                    label={<label className=\"form-item-header\">{t('mtgDescTitle')}</label>}\r\n                    name=\"mtgMethodDesc\"\r\n                  >\r\n                    <TextArea rows={3} disabled={isView} />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col {...mtgHalfColumnBps}>\r\n                  <Form.Item\r\n                    label={<label className=\"form-item-header\">{t('mtgDocUploadTwo')}</label>}\r\n                  >\r\n                    <UploadFileGrid\r\n                      isSingleColumn={true}\r\n                      usedIn={method}\r\n                      buttonText={t('entityAction:upload')}\r\n                      storedFiles={storedRstFiles}\r\n                      uploadedFiles={uploadedRstFiles}\r\n                      setUploadedFiles={setUploadedRstFiles}\r\n                      removedFiles={rstFilesToRemove}\r\n                      setRemovedFiles={setRstFilesToRemove}\r\n                      setIsSaveButtonDisabled={setIsSaveButtonDisabled}\r\n                    ></UploadFileGrid>\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n              <Row gutter={gutterSize}>\r\n                <Col {...mtgHalfColumnBps}>\r\n                  <Form.Item\r\n                    label={\r\n                      <label className=\"form-item-header\">{t('mtgCalculateEntityTitle')}</label>\r\n                    }\r\n                    name=\"mtgCalculateEntity\"\r\n                  >\r\n                    <Input className=\"form-input-box\" disabled={isView} />\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n              <Row gutter={gutterSize}>\r\n                <Col span={24}>\r\n                  <Form.Item\r\n                    label={<label className=\"form-item-header\">{t('mtgComments')}</label>}\r\n                    name=\"mtgComments\"\r\n                  >\r\n                    <TextArea rows={3} disabled={isView} />\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n            </div>\r\n            {isGasFlow && mtgStartYear && selectedGhg ? (\r\n              <div className=\"form-section-card\">\r\n                <Row>\r\n                  <Col {...mtgTableHeaderBps} style={{ paddingTop: '6px' }}>\r\n                    <div className=\"form-section-header\">{t('mitigationTimelineTitle')}</div>\r\n                  </Col>\r\n                  <Col {...mtgSaveButtonBps}>\r\n                    {method === 'update' && (\r\n                      <Button\r\n                        type=\"primary\"\r\n                        size=\"large\"\r\n                        block\r\n                        onClick={() => {\r\n                          updateMtgTimeline();\r\n                        }}\r\n                        disabled={!isMtgButtonEnabled}\r\n                      >\r\n                        {t('entityAction:update')}\r\n                      </Button>\r\n                    )}\r\n                  </Col>\r\n                </Row>\r\n                <Row>\r\n                  <Col span={24}>\r\n                    <TimelineTable\r\n                      expectedTimeline={expectedTimeline}\r\n                      actualTimeline={actualTimeline}\r\n                      loading={false}\r\n                      method={method}\r\n                      mtgStartYear={mtgStartYear}\r\n                      mtgRange={mtgRange}\r\n                      onValueEnter={onMtgValueEnter}\r\n                      t={t}\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n              </div>\r\n            ) : null}\r\n            {method !== 'create' && (\r\n              <div className=\"form-section-timelineCard\">\r\n                <div className=\"form-section-header\">{t('formHeader:updatesInfoTitle')}</div>\r\n                <UpdatesTimeline recordType={'activity'} recordId={entId} />\r\n              </div>\r\n            )}\r\n            {method === 'create' && (\r\n              <Row className=\"sticky-footer\" gutter={20} justify={'end'}>\r\n                <Col>\r\n                  <Button\r\n                    type=\"default\"\r\n                    size=\"large\"\r\n                    block\r\n                    onClick={() => {\r\n                      navigate('/activities');\r\n                    }}\r\n                  >\r\n                    {t('entityAction:cancel')}\r\n                  </Button>\r\n                </Col>\r\n                <Col {...shortButtonBps}>\r\n                  <Form.Item>\r\n                    <Button type=\"primary\" size=\"large\" block htmlType=\"submit\">\r\n                      {t('entityAction:add')}\r\n                    </Button>\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n            )}\r\n            {method === 'view' && (\r\n              <Row className=\"sticky-footer\" gutter={20} justify={'end'}>\r\n                <Col>\r\n                  <Button\r\n                    type=\"default\"\r\n                    size=\"large\"\r\n                    block\r\n                    onClick={() => {\r\n                      navigate('/activities');\r\n                    }}\r\n                  >\r\n                    {t('entityAction:back')}\r\n                  </Button>\r\n                </Col>\r\n                {ability.can(Action.Validate, ActivityEntity) && (\r\n                  <Col>\r\n                    <Form.Item>\r\n                      <Tooltip\r\n                        placement=\"topRight\"\r\n                        title={\r\n                          !isValidationAllowed ? t('error:validationPermissionRequired') : undefined\r\n                        }\r\n                        showArrow={false}\r\n                      >\r\n                        <Button\r\n                          type=\"primary\"\r\n                          size=\"large\"\r\n                          block\r\n                          onClick={() => {\r\n                            validateEntity();\r\n                          }}\r\n                          loading={waitingForValidation}\r\n                          disabled={!isValidationAllowed}\r\n                        >\r\n                          {isValidated ? t('entityAction:unvalidate') : t('entityAction:validate')}\r\n                        </Button>\r\n                      </Tooltip>\r\n                    </Form.Item>\r\n                  </Col>\r\n                )}\r\n              </Row>\r\n            )}\r\n            {method === 'update' && (\r\n              <Row className=\"sticky-footer\" gutter={20} justify={'end'}>\r\n                <Col>\r\n                  <Button\r\n                    type=\"default\"\r\n                    size=\"large\"\r\n                    block\r\n                    onClick={() => {\r\n                      navigate('/activities');\r\n                    }}\r\n                  >\r\n                    {t('entityAction:cancel')}\r\n                  </Button>\r\n                </Col>\r\n                {ability.can(Action.Delete, ActivityEntity) && (\r\n                  <Col>\r\n                    <Button\r\n                      type=\"default\"\r\n                      size=\"large\"\r\n                      block\r\n                      onClick={() => {\r\n                        deleteClicked();\r\n                      }}\r\n                      style={{ color: 'red', borderColor: 'red' }}\r\n                    >\r\n                      {t('entityAction:delete')}\r\n                    </Button>\r\n                  </Col>\r\n                )}\r\n                <Col {...shortButtonBps}>\r\n                  <Form.Item>\r\n                    <Button\r\n                      type=\"primary\"\r\n                      size=\"large\"\r\n                      block\r\n                      htmlType=\"submit\"\r\n                      disabled={isSaveButtonDisabled}\r\n                    >\r\n                      {t('entityAction:update')}\r\n                    </Button>\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <Spin className=\"loading-center\" size=\"large\" />\r\n        )}\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ActivityForm;\r\n","const programmeFormOptionals = ['comments'];\r\n\r\nconst projectFormOptionals = [\r\n  'additionalProjectNumber',\r\n  'internationalImplementingEntities',\r\n  'comment',\r\n];\r\n\r\nconst activityFormOptionals = [\r\n  'measure',\r\n  'nationalImplementingEntity',\r\n  'internationalImplementingEntity',\r\n  'anchoredInNationalStrategy',\r\n  'meansOfImplementation',\r\n  'technologyType',\r\n  'etfDescription',\r\n  'comment',\r\n  'achievedGHGReductionAlternate',\r\n];\r\n\r\nconst supportFormOptionals = [\r\n  'internationalSource',\r\n  'nationalSource',\r\n  'financingStatus',\r\n  'nationalFinancialInstrument',\r\n  'internationalFinancialInstrument',\r\n  'internationalSupportChannel',\r\n];\r\n\r\nexport const processOptionalFields = (\r\n  payload: any,\r\n  calledIn: 'action' | 'programme' | 'project' | 'activity' | 'support'\r\n) => {\r\n  let optionalFields: string[] = [];\r\n  switch (calledIn) {\r\n    case 'action':\r\n      break;\r\n    case 'programme':\r\n      optionalFields = programmeFormOptionals;\r\n      break;\r\n    case 'project':\r\n      optionalFields = projectFormOptionals;\r\n      break;\r\n    case 'activity':\r\n      optionalFields = activityFormOptionals;\r\n      break;\r\n    case 'support':\r\n      optionalFields = supportFormOptionals;\r\n      break;\r\n  }\r\n\r\n  const transformedPayload = { ...payload };\r\n\r\n  for (const key of optionalFields) {\r\n    if (transformedPayload.hasOwnProperty(key)) {\r\n      if (typeof transformedPayload[key] === 'string' && transformedPayload[key] === '') {\r\n        transformedPayload[key] = null;\r\n      } else if (transformedPayload[key] instanceof Array && transformedPayload[key].length === 0) {\r\n        transformedPayload[key] = null;\r\n      } else if (typeof transformedPayload[key] === 'undefined') {\r\n        transformedPayload[key] = null;\r\n      }\r\n    }\r\n  }\r\n\r\n  return transformedPayload;\r\n};\r\n","export const getValidationRules = (formMethod: 'create' | 'view' | 'update') => {\r\n  return {\r\n    required: { required: formMethod !== 'view', message: 'Required Field' },\r\n    number: { pattern: /^[0-9]+$/, message: 'Please enter a valid number' },\r\n    greaterThanZero: ({}) => ({\r\n      // eslint-disable-next-line no-unused-vars\r\n      validator(_rule: any, value: any) {\r\n        if (value) {\r\n          if (value > 0) {\r\n            return Promise.resolve();\r\n          } else {\r\n            return Promise.reject('Need to be Greater than Zero');\r\n          }\r\n        } else {\r\n          return Promise.resolve();\r\n        }\r\n      },\r\n    }),\r\n  };\r\n};\r\n"],"names":["_ref","calledIn","entId","isValidated","_jsx","Row","children","Col","Tooltip","title","concat","undefined","showArrow","placement","Tag","icon","CheckCircleOutlined","style","color","className","EditKpi","rules","index","headerNames","kpi","updateKPI","removeKPI","isFromActivity","_jsxs","gutter","span","Form","Item","label","name","initialValue","Input","onChange","e","target","value","disabled","unit","achieved","type","min","step","expected","Card","DeleteOutlined","cursor","opacity","onClick","ViewKpi","inherited","callingEntityId","ownerEntityId","UserSwitchOutlined","UserOutlined","recordType","recordId","post","useConnection","t","useTranslation","_useState","useState","_useState2","_slicedToArray","loadingHistory","setLoadingHistory","_useState3","_useState4","historyData","setHistoryData","getAllData","_ref2","_asyncToGenerator","_regenerator","m","_callee","payload","response","_t","w","_context","p","n","v","data","displayErrorMessage","f","a","apply","arguments","useEffect","getClassByEventType","eventType","Icon","stepsItems","map","item","key","user_id","user_name","logData","CustomFormatDate","Number","createdTime","status","Skeleton","Steps","direction","current","items","getSupportTableColumns","dataIndex","render","_","record","href","supportId","IpccSubSector","ParentType","ExpectedRows","ROW_ONE","ROW_TWO","ROW_THREE","ROW_FOUR","ROW_FIVE","ActualRows","useBreakpoint","Grid","expectedTimeline","actualTimeline","loading","method","mtgStartYear","mtgRange","onValueEnter","screens","isView","allowFixedLegend","setAllowFixedLegend","xxl","xl","expectedTableColumns","align","ellipsis","width","fixed","colValue","actualTableColumns","_loop","year","push","toString","isDisabled","topic","InputNumber","decimalSeparator","controls","height","Math","Table","dataSource","columns","pagination","Option","Select","TextArea","gutterSize","inputFontSize","currentYear","Date","getFullYear","_Form$useForm","useForm","form","formTitle","getFormTitle","navigate","useNavigate","_useConnection","get","put","del","delete","ability","useAbilityContext","_useUserContext","useUserContext","isValidationAllowed","setIsValidationAllowed","useParams","validation","getValidationRules","yearsList","setIsValidated","parentType","setParentType","_useState5","_useState6","connectedParentId","setConnectedParentId","_useState7","_useState8","parentList","setParentList","_useState9","_useState0","activityMigratedData","setActivityMigratedData","_useState1","_useState10","uploadedFiles","setUploadedFiles","_useState11","_useState12","storedFiles","setStoredFiles","_useState13","_useState14","filesToRemove","setFilesToRemove","_useState15","_useState16","isSaveButtonDisabled","setIsSaveButtonDisabled","_useState17","_useState18","isGasFlow","setIsGasFlow","_useState19","_useState20","isFirstRenderDone","setIsFirstRenderDone","_useState21","_useState22","waitingForBE","setWaitingForBE","_useState23","_useState24","waitingForValidation","setWaitingForValidation","_useState25","_useState26","uploadedMthFiles","setUploadedMthFiles","_useState27","_useState28","storedMthFiles","setStoredMthFiles","_useState29","_useState30","mthFilesToRemove","setMthFilesToRemove","_useState31","_useState32","uploadedRstFiles","setUploadedRstFiles","_useState33","_useState34","storedRstFiles","setStoredRstFiles","_useState35","_useState36","rstFilesToRemove","setRstFilesToRemove","_useState37","_useState38","supportData","setSupportData","_useState39","_useState40","supportCurrentPage","setCurrentPage","_useState41","_useState42","supportPageSize","setPageSize","_useState43","_useState44","openDeletePopup","setOpenDeletePopup","_useState45","_useState46","kpiCounter","setKpiCounter","_useState47","_useState48","inheritedKpiList","setInheritedKpiList","_useState49","_useState50","shouldFetchParentKpi","setShouldFetchParentKpi","_useState51","_useState52","setExpectedTimeline","_useState53","_useState54","setActualTimeline","_useState55","_useState56","setMtgStartYear","_useState57","_useState58","selectedGhg","setSelectedGhg","_useState59","_useState60","isMtgButtonEnabled","setIsMtgButtonEnabled","_useState61","_useState62","gwpSettings","setGwpSettings","_useState63","_useState64","startYear1","setStartYear","_useState65","_useState66","endYear1","setEndYear","_useState67","_useState68","isAchievedAlternate","setIsAchievedAlternate","resetGasFlowOptions","setFieldsValue","measure","ghgsAffected","achievedGHGReduction","expectedGHGReduction","fetchGwpSettings","CH4","gwp_ch4","N2O","gwp_n2o","console","log","resolveKPIAchievements","_ref3","_callee3","activityId","achievements","_t2","_context3","length","forEach","_ref4","_callee2","inheritedKpi","_context2","kpiId","id","_x2","_x","validateEntity","_ref5","_callee4","_t3","_t4","_context4","entityId","validateStatus","message","open","content","duration","textAlign","marginRight","marginTop","doesUserHaveValidatePermission","deleteEntity","_ref6","_callee5","_t5","_context5","delay","property","inWhich","prevKpiList","_objectSpread","_defineProperty","parseFloat","supportTableColumns","handleValuesChange","mtgFieldMapping","longName","findGWP","_gwpSettings$CH","_gwpSettings$N2O","GHGS","CH","NO","findUnit","ghg","CO","includes","COE","setDefaultTimelineValues","endYear","mtgUnit","tempExpectedEntries","tempActualEntries","Object","entries","_ref7","_ref8","rowData","total","values","Array","fill","_ref9","_ref0","fetchMtgTimelineData","_ref1","_callee6","_t6","_context6","startYear","_ref10","_ref11","_ref12","_ref13","actual","error","updateMtgTimeline","_ref14","_callee7","_t7","_context7","mitigationTimeline","baselineEmissions","activityEmissionsWithM","activityEmissionsWithAM","expectedEmissionReductWithM","expectedEmissionReductWithAM","baselineActualEmissions","activityActualEmissions","actualEmissionReduct","getFieldValue","handleSubmit","_ref15","_callee8","successMsg","_t8","_context8","startsWith","documents","file","newDocuments","removedDocuments","removedFileKey","_storedFiles$find","find","url","parentId","parseInt","expectedTimeFrame","mitigationInfo","mitigationMethodology","mtgMethodName","mitigationMethodologyDescription","mtgMethodDesc","mitigationCalcEntity","mtgCalculateEntity","comments","mtgComments","methodologyDocuments","resultDocuments","processOptionalFields","Promise","resolve","setTimeout","_x3","fetchConnectedParent","_ref16","_callee9","tempMigratedData","_response$data$sector","_response$data$sector2","_response$data$sector3","_response$data$progra","_response$data$progra2","_response$data$progra3","_response$data$progra4","_t9","_context9","description","affSectors","affSubSectors","sector","affectedSubSector","programme","action","isGasFlowCheck","fetchParentKPIData","_ref17","_callee0","tempInheritedKpiList","tempKpiCounter","_t0","_context0","_kpi$expected","creator","creatorId","kpiUnit","kpiAction","KPIAction","NONE","fetchNonValidatedParents","_ref18","_callee1","tempParentData","_t1","_context1","sort","order","parent","_parent$hasChildProgr","actionId","programmeId","projectId","hasChildProgrammes","fetchActivityData","_ref19","_callee10","_entityData$measure","_entityData$nationalI","_entityData$internati","_entityData$anchoredI","_entityData$meansOfIm","_entityData$technolog","_entityData$etfDescri","_entityData$comment","_entityData$ghgsAffec","_entityData$achievedG","_entityData$recipient","_entityData$startYear","_entityData$endYear","_entityData$expectedT","_entityData$ipccSubSe","_entityData$mitigatio","_entityData$mitigatio2","_entityData$mitigatio3","_entityData$mitigatio4","_entityData$mitigatio5","_entityData$mitigatio6","_entityData$mitigatio7","_entityData$mitigatio8","_entityData$validated","_entityData$ghgsAffec2","_entityData$documents","_entityData$mitigatio9","_entityData$mitigatio0","_entityData$mitigatio10","_entityData$mitigatio11","entityData","_entityData$parentTyp","_entityData$parentId","tempFiles","_entityData$mitigatio1","_tempFiles","_entityData$mitigatio12","_tempFiles2","_context10","nationalImplementingEntity","internationalImplementingEntity","anchoredInNationalStrategy","meansOfImplementation","technologyType","etfDescription","comment","achievedGHGReductionAlternate","recipientEntities","ipccSubSector","validated","document","fetchSupportData","_ref20","_callee11","tempSupportData","_context11","filterAnd","operation","sup","_sup$requiredAmount","_sup$requiredAmountDo","_sup$receivedAmount","_sup$receivedAmountDo","financeNature","finInstrument","internationalFinancialInstrument","nationalFinancialInstrument","estimatedUSD","getRounded","requiredAmount","estimatedLC","requiredAmountDomestic","recievedUSD","receivedAmount","recievedLC","receivedAmountDomestic","fetchCreatedKPIData","_ref21","_callee12","_t12","_context12","_kpi$achievements$fin","_kpi$achievements","_kpi$achievements$fin2","_kpi$expected2","achEntity","parentDescription","supportType","_expectedValue","expectedValues","expectedValue","i","max","_actualValue","actualValues","actualValue","all","then","ConfirmPopup","fontSize","isDanger","primaryMsg","secondaryMsg","cancelTitle","actionTitle","actionRef","doAction","setOpen","onFinish","layout","onValuesChange","EntityIdCard","halfColumnBps","required","maxLength","rows","size","allowClear","showSearch","ActivityStatus","mode","NatImplementor","implementer","IntImplementor","Recipient","recipient","_ref22","validator","reject","dependencies","handleStartYearChanges","slice","_ref23","Measure","ImplMeans","mean","TechnologyType","tech","UploadFileGrid","isSingleColumn","usedIn","buttonText","removedFiles","setRemovedFiles","_Fragment","filter","paddingRight","addonBefore","Checkbox","checked","inheritedKPI","LayoutTable","tableData","pageSize","showQuickJumper","pageSizeOptions","showSizeChanger","locale","page","position","handleTableChange","emptyMessage","mtgHalfColumnBps","mtgTableHeaderBps","paddingTop","mtgSaveButtonBps","Button","block","TimelineTable","tableType","rowId","newValue","toFixed","updatedTimeline","entry","calculateArraySum","subtractTwoArrays","UpdatesTimeline","justify","shortButtonBps","htmlType","can","Action","Validate","ActivityEntity","Delete","borderColor","Spin","programmeFormOptionals","projectFormOptionals","activityFormOptionals","supportFormOptionals","optionalFields","transformedPayload","_i","_optionalFields","hasOwnProperty","formMethod","number","pattern","greaterThanZero","_objectDestructuringEmpty","_rule"],"sourceRoot":""}